var i_=Object.defineProperty;var a_=(e,t,r)=>t in e?i_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fg=(e,t,r)=>a_(e,typeof t!="symbol"?t+"":t,r);function l_(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(o,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function wc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}),r}var Id={exports:{}},Hi={},Ad={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function u_(){if(zg)return Le;zg=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function C(I,P,Y){this.props=I,this.context=P,this.refs=b,this.updater=Y||S}C.prototype.isReactComponent={},C.prototype.setState=function(I,P){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,P,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=C.prototype;function j(I,P,Y){this.props=I,this.context=P,this.refs=b,this.updater=Y||S}var N=j.prototype=new k;N.constructor=j,E(N,C.prototype),N.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function q(I,P,Y){var re,Z={},ue=null,Q=null;if(P!=null)for(re in P.ref!==void 0&&(Q=P.ref),P.key!==void 0&&(ue=""+P.key),P)D.call(P,re)&&!$.hasOwnProperty(re)&&(Z[re]=P[re]);var de=arguments.length-2;if(de===1)Z.children=Y;else if(1<de){for(var me=Array(de),pe=0;pe<de;pe++)me[pe]=arguments[pe+2];Z.children=me}if(I&&I.defaultProps)for(re in de=I.defaultProps,de)Z[re]===void 0&&(Z[re]=de[re]);return{$$typeof:e,type:I,key:ue,ref:Q,props:Z,_owner:U.current}}function ce(I,P){return{$$typeof:e,type:I.type,key:P,ref:I.ref,props:I.props,_owner:I._owner}}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function V(I){var P={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Y){return P[Y]})}var J=/\/+/g;function oe(I,P){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):P.toString(36)}function W(I,P,Y,re,Z){var ue=typeof I;(ue==="undefined"||ue==="boolean")&&(I=null);var Q=!1;if(I===null)Q=!0;else switch(ue){case"string":case"number":Q=!0;break;case"object":switch(I.$$typeof){case e:case t:Q=!0}}if(Q)return Q=I,Z=Z(Q),I=re===""?"."+oe(Q,0):re,A(Z)?(Y="",I!=null&&(Y=I.replace(J,"$&/")+"/"),W(Z,P,Y,"",function(pe){return pe})):Z!=null&&(K(Z)&&(Z=ce(Z,Y+(!Z.key||Q&&Q.key===Z.key?"":(""+Z.key).replace(J,"$&/")+"/")+I)),P.push(Z)),1;if(Q=0,re=re===""?".":re+":",A(I))for(var de=0;de<I.length;de++){ue=I[de];var me=re+oe(ue,de);Q+=W(ue,P,Y,me,Z)}else if(me=w(I),typeof me=="function")for(I=me.call(I),de=0;!(ue=I.next()).done;)ue=ue.value,me=re+oe(ue,de++),Q+=W(ue,P,Y,me,Z);else if(ue==="object")throw P=String(I),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Q}function ge(I,P,Y){if(I==null)return I;var re=[],Z=0;return W(I,re,"","",function(ue){return P.call(Y,ue,Z++)}),re}function ie(I){if(I._status===-1){var P=I._result;P=P(),P.then(function(Y){(I._status===0||I._status===-1)&&(I._status=1,I._result=Y)},function(Y){(I._status===0||I._status===-1)&&(I._status=2,I._result=Y)}),I._status===-1&&(I._status=0,I._result=P)}if(I._status===1)return I._result.default;throw I._result}var ae={current:null},B={transition:null},ee={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:B,ReactCurrentOwner:U};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:ge,forEach:function(I,P,Y){ge(I,function(){P.apply(this,arguments)},Y)},count:function(I){var P=0;return ge(I,function(){P++}),P},toArray:function(I){return ge(I,function(P){return P})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Le.Component=C,Le.Fragment=r,Le.Profiler=i,Le.PureComponent=j,Le.StrictMode=o,Le.Suspense=h,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Le.act=ne,Le.cloneElement=function(I,P,Y){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var re=E({},I.props),Z=I.key,ue=I.ref,Q=I._owner;if(P!=null){if(P.ref!==void 0&&(ue=P.ref,Q=U.current),P.key!==void 0&&(Z=""+P.key),I.type&&I.type.defaultProps)var de=I.type.defaultProps;for(me in P)D.call(P,me)&&!$.hasOwnProperty(me)&&(re[me]=P[me]===void 0&&de!==void 0?de[me]:P[me])}var me=arguments.length-2;if(me===1)re.children=Y;else if(1<me){de=Array(me);for(var pe=0;pe<me;pe++)de[pe]=arguments[pe+2];re.children=de}return{$$typeof:e,type:I.type,key:Z,ref:ue,props:re,_owner:Q}},Le.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},Le.createElement=q,Le.createFactory=function(I){var P=q.bind(null,I);return P.type=I,P},Le.createRef=function(){return{current:null}},Le.forwardRef=function(I){return{$$typeof:d,render:I}},Le.isValidElement=K,Le.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ie}},Le.memo=function(I,P){return{$$typeof:p,type:I,compare:P===void 0?null:P}},Le.startTransition=function(I){var P=B.transition;B.transition={};try{I()}finally{B.transition=P}},Le.unstable_act=ne,Le.useCallback=function(I,P){return ae.current.useCallback(I,P)},Le.useContext=function(I){return ae.current.useContext(I)},Le.useDebugValue=function(){},Le.useDeferredValue=function(I){return ae.current.useDeferredValue(I)},Le.useEffect=function(I,P){return ae.current.useEffect(I,P)},Le.useId=function(){return ae.current.useId()},Le.useImperativeHandle=function(I,P,Y){return ae.current.useImperativeHandle(I,P,Y)},Le.useInsertionEffect=function(I,P){return ae.current.useInsertionEffect(I,P)},Le.useLayoutEffect=function(I,P){return ae.current.useLayoutEffect(I,P)},Le.useMemo=function(I,P){return ae.current.useMemo(I,P)},Le.useReducer=function(I,P,Y){return ae.current.useReducer(I,P,Y)},Le.useRef=function(I){return ae.current.useRef(I)},Le.useState=function(I){return ae.current.useState(I)},Le.useSyncExternalStore=function(I,P,Y){return ae.current.useSyncExternalStore(I,P,Y)},Le.useTransition=function(){return ae.current.useTransition()},Le.version="18.3.1",Le}var Ug;function rh(){return Ug||(Ug=1,Ad.exports=u_()),Ad.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function d_(){if(Bg)return Hi;Bg=1;var e=rh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var v,y={},w=null,S=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(S=h.ref);for(v in h)o.call(h,v)&&!a.hasOwnProperty(v)&&(y[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)y[v]===void 0&&(y[v]=h[v]);return{$$typeof:t,type:d,key:w,ref:S,props:y,_owner:i.current}}return Hi.Fragment=r,Hi.jsx=c,Hi.jsxs=c,Hi}var Vg;function f_(){return Vg||(Vg=1,Id.exports=d_()),Id.exports}var u=f_(),m=rh();const Ye=wc(m),Ny=l_({__proto__:null,default:Ye},[m]);var $l={},Od={exports:{}},er={},Dd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function h_(){return Wg||(Wg=1,function(e){function t(B,ee){var ne=B.length;B.push(ee);e:for(;0<ne;){var I=ne-1>>>1,P=B[I];if(0<i(P,ee))B[I]=ee,B[ne]=P,ne=I;else break e}}function r(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var ee=B[0],ne=B.pop();if(ne!==ee){B[0]=ne;e:for(var I=0,P=B.length,Y=P>>>1;I<Y;){var re=2*(I+1)-1,Z=B[re],ue=re+1,Q=B[ue];if(0>i(Z,ne))ue<P&&0>i(Q,Z)?(B[I]=Q,B[ue]=ne,I=ue):(B[I]=Z,B[re]=ne,I=re);else if(ue<P&&0>i(Q,ne))B[I]=Q,B[ue]=ne,I=ue;else break e}}return ee}function i(B,ee){var ne=B.sortIndex-ee.sortIndex;return ne!==0?ne:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],p=[],v=1,y=null,w=3,S=!1,E=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(B){for(var ee=r(p);ee!==null;){if(ee.callback===null)o(p);else if(ee.startTime<=B)o(p),ee.sortIndex=ee.expirationTime,t(h,ee);else break;ee=r(p)}}function A(B){if(b=!1,N(B),!E)if(r(h)!==null)E=!0,ie(D);else{var ee=r(p);ee!==null&&ae(A,ee.startTime-B)}}function D(B,ee){E=!1,b&&(b=!1,k(q),q=-1),S=!0;var ne=w;try{for(N(ee),y=r(h);y!==null&&(!(y.expirationTime>ee)||B&&!V());){var I=y.callback;if(typeof I=="function"){y.callback=null,w=y.priorityLevel;var P=I(y.expirationTime<=ee);ee=e.unstable_now(),typeof P=="function"?y.callback=P:y===r(h)&&o(h),N(ee)}else o(h);y=r(h)}if(y!==null)var Y=!0;else{var re=r(p);re!==null&&ae(A,re.startTime-ee),Y=!1}return Y}finally{y=null,w=ne,S=!1}}var U=!1,$=null,q=-1,ce=5,K=-1;function V(){return!(e.unstable_now()-K<ce)}function J(){if($!==null){var B=e.unstable_now();K=B;var ee=!0;try{ee=$(!0,B)}finally{ee?oe():(U=!1,$=null)}}else U=!1}var oe;if(typeof j=="function")oe=function(){j(J)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ge=W.port2;W.port1.onmessage=J,oe=function(){ge.postMessage(null)}}else oe=function(){C(J,0)};function ie(B){$=B,U||(U=!0,oe())}function ae(B,ee){q=C(function(){B(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,ie(D))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(B){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var ne=w;w=ee;try{return B()}finally{w=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=w;w=B;try{return ee()}finally{w=ne}},e.unstable_scheduleCallback=function(B,ee,ne){var I=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?I+ne:I):ne=I,B){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ne+P,B={id:v++,callback:ee,priorityLevel:B,startTime:ne,expirationTime:P,sortIndex:-1},ne>I?(B.sortIndex=ne,t(p,B),r(h)===null&&B===r(p)&&(b?(k(q),q=-1):b=!0,ae(A,ne-I))):(B.sortIndex=P,t(h,B),E||S||(E=!0,ie(D))),B},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(B){var ee=w;return function(){var ne=w;w=ee;try{return B.apply(this,arguments)}finally{w=ne}}}}(Ld)),Ld}var Hg;function p_(){return Hg||(Hg=1,Dd.exports=h_()),Dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function m_(){if(qg)return er;qg=1;var e=rh(),t=p_();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function a(n,s){c(n,s),c(n+"Capture",s)}function c(n,s){for(i[n]=s,n=0;n<s.length;n++)o.add(s[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function w(n){return h.call(y,n)?!0:h.call(v,n)?!1:p.test(n)?y[n]=!0:(v[n]=!0,!1)}function S(n,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,s,l,f){if(s===null||typeof s>"u"||S(n,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(n,s,l,f,g,x,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=x,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new b(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];C[s]=new b(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new b(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new b(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new b(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new b(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new b(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new b(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new b(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function j(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(k,j);C[s]=new b(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(k,j);C[s]=new b(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(k,j);C[s]=new b(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new b(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new b(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,l,f){var g=C.hasOwnProperty(s)?C[s]:null;(g!==null?g.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(E(s,l,g,f)&&(l=null),f||g===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):g.mustUseProperty?n[g.propertyName]=l===null?g.type===3?!1:"":l:(s=g.attributeName,f=g.attributeNamespace,l===null?n.removeAttribute(s):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?n.setAttributeNS(f,s,l):n.setAttribute(s,l))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),V=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),B=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Object.assign,I;function P(n){if(I===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+n}var Y=!1;function re(n,s){if(!n||Y)return"";Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var f=z}Reflect.construct(n,[],s)}else{try{s.call()}catch(z){f=z}n.call(s.prototype)}else{try{throw Error()}catch(z){f=z}n()}}catch(z){if(z&&f&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),x=f.stack.split(`
`),_=g.length-1,T=x.length-1;1<=_&&0<=T&&g[_]!==x[T];)T--;for(;1<=_&&0<=T;_--,T--)if(g[_]!==x[T]){if(_!==1||T!==1)do if(_--,T--,0>T||g[_]!==x[T]){var R=`
`+g[_].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=_&&0<=T);break}}}finally{Y=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?P(n):""}function Z(n){switch(n.tag){case 5:return P(n.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return n=re(n.type,!1),n;case 11:return n=re(n.type.render,!1),n;case 1:return n=re(n.type,!0),n;default:return""}}function ue(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case U:return"Portal";case ce:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case W:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case K:return(n._context.displayName||"Context")+".Provider";case J:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ge:return s=n.displayName||null,s!==null?s:ue(n.type)||"Memo";case ie:s=n._payload,n=n._init;try{return ue(n(s))}catch{}}return null}function Q(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function de(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function me(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pe(n){var s=me(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(_){f=""+_,x.call(this,_)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(_){f=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ae(n){n._valueTracker||(n._valueTracker=pe(n))}function Te(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return n&&(f=me(n)?n.checked?"true":"false":n.value),n=f,n!==l?(s.setValue(n),!0):!1}function He(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Be(n,s){var l=s.checked;return ne({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function mt(n,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=de(s.value!=null?s.value:l),n._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function lt(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function jt(n,s){lt(n,s);var l=de(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?M(n,s.type,l):s.hasOwnProperty("defaultValue")&&M(n,s.type,de(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function fe(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function M(n,s,l){(s!=="number"||He(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var H=Array.isArray;function G(n,s,l,f){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&f&&(n[l].defaultSelected=!0)}else{for(l=""+de(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,f&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function he(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ee(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(H(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:de(l)}}function Fe(n,s){var l=de(s.value),f=de(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),f!=null&&(n.defaultValue=""+f)}function tt(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function ln(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?ln(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ct,qt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,g){MSApp.execUnsafeLocalFunction(function(){return n(s,l,f,g)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ct.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function hr(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pa=["Webkit","ms","Moz","O"];Object.keys(Kt).forEach(function(n){Pa.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Kt[s]=Kt[n]})});function Ra(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Kt.hasOwnProperty(n)&&Kt[n]?(""+s).trim():s+"px"}function Ia(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=Ra(l,s[l],f);l==="float"&&(l="cssFloat"),f?n.setProperty(l,g):n[l]=g}}var ai=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(n,s){if(s){if(ai[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function li(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=null;function ci(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ui=null,Tn=null,rt=null;function Rt(n){if(n=Pi(n)){if(typeof ui!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Za(s),ui(n.stateNode,n.type,s))}}function It(n){Tn?rt?rt.push(n):rt=[n]:Tn=n}function Er(){if(Tn){var n=Tn,s=rt;if(rt=Tn=null,Rt(n),s)for(n=0;n<s.length;n++)Rt(s[n])}}function zt(n,s){return n(s)}function At(){}var Gt=!1;function cn(n,s,l){if(Gt)return n(s,l);Gt=!0;try{return zt(n,s,l)}finally{Gt=!1,(Tn!==null||rt!==null)&&(At(),Er())}}function nt(n,s){var l=n.stateNode;if(l===null)return null;var f=Za(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var pr=!1;if(d)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{pr=!1}function kr(n,s,l,f,g,x,_,T,R){var z=Array.prototype.slice.call(arguments,3);try{s.apply(l,z)}catch(te){this.onError(te)}}var jr=!1,Hr=null,or=!1,un=null,di={onError:function(n){jr=!0,Hr=n}};function pS(n,s,l,f,g,x,_,T,R){jr=!1,Hr=null,kr.apply(di,arguments)}function mS(n,s,l,f,g,x,_,T,R){if(pS.apply(this,arguments),jr){if(jr){var z=Hr;jr=!1,Hr=null}else throw Error(r(198));or||(or=!0,un=z)}}function gs(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function lp(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function cp(n){if(gs(n)!==n)throw Error(r(188))}function gS(n){var s=n.alternate;if(!s){if(s=gs(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,f=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return cp(g),n;if(x===f)return cp(g),s;x=x.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=x;else{for(var _=!1,T=g.child;T;){if(T===l){_=!0,l=g,f=x;break}if(T===f){_=!0,f=g,l=x;break}T=T.sibling}if(!_){for(T=x.child;T;){if(T===l){_=!0,l=x,f=g;break}if(T===f){_=!0,f=x,l=g;break}T=T.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function up(n){return n=gS(n),n!==null?dp(n):null}function dp(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=dp(n);if(s!==null)return s;n=n.sibling}return null}var fp=t.unstable_scheduleCallback,hp=t.unstable_cancelCallback,vS=t.unstable_shouldYield,yS=t.unstable_requestPaint,ut=t.unstable_now,xS=t.unstable_getCurrentPriorityLevel,Xc=t.unstable_ImmediatePriority,pp=t.unstable_UserBlockingPriority,Aa=t.unstable_NormalPriority,wS=t.unstable_LowPriority,mp=t.unstable_IdlePriority,Oa=null,qr=null;function bS(n){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Oa,n,void 0,(n.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:CS,SS=Math.log,_S=Math.LN2;function CS(n){return n>>>=0,n===0?32:31-(SS(n)/_S|0)|0}var Da=64,La=4194304;function fi(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ma(n,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,g=n.suspendedLanes,x=n.pingedLanes,_=l&268435455;if(_!==0){var T=_&~g;T!==0?f=fi(T):(x&=_,x!==0&&(f=fi(x)))}else _=l&~g,_!==0?f=fi(_):x!==0&&(f=fi(x));if(f===0)return 0;if(s!==0&&s!==f&&(s&g)===0&&(g=f&-f,x=s&-s,g>=x||g===16&&(x&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=f;0<s;)l=31-Nr(s),g=1<<l,f|=n[l],s&=~g;return f}function ES(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kS(n,s){for(var l=n.suspendedLanes,f=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes;0<x;){var _=31-Nr(x),T=1<<_,R=g[_];R===-1?((T&l)===0||(T&f)!==0)&&(g[_]=ES(T,s)):R<=s&&(n.expiredLanes|=T),x&=~T}}function Zc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gp(){var n=Da;return Da<<=1,(Da&4194240)===0&&(Da=64),n}function eu(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function hi(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Nr(s),n[s]=l}function jS(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<l;){var g=31-Nr(l),x=1<<g;s[g]=0,f[g]=-1,n[g]=-1,l&=~x}}function tu(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var f=31-Nr(l),g=1<<f;g&s|n[f]&s&&(n[f]|=s),l&=~g}}var qe=0;function vp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var yp,ru,xp,wp,bp,nu=!1,$a=[],Pn=null,Rn=null,In=null,pi=new Map,mi=new Map,An=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sp(n,s){switch(n){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(s.pointerId)}}function gi(n,s,l,f,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Pi(s),s!==null&&ru(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function TS(n,s,l,f,g){switch(s){case"focusin":return Pn=gi(Pn,n,s,l,f,g),!0;case"dragenter":return Rn=gi(Rn,n,s,l,f,g),!0;case"mouseover":return In=gi(In,n,s,l,f,g),!0;case"pointerover":var x=g.pointerId;return pi.set(x,gi(pi.get(x)||null,n,s,l,f,g)),!0;case"gotpointercapture":return x=g.pointerId,mi.set(x,gi(mi.get(x)||null,n,s,l,f,g)),!0}return!1}function _p(n){var s=vs(n.target);if(s!==null){var l=gs(s);if(l!==null){if(s=l.tag,s===13){if(s=lp(l),s!==null){n.blockedOn=s,bp(n.priority,function(){xp(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Fa(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ou(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);Ks=f,l.target.dispatchEvent(f),Ks=null}else return s=Pi(l),s!==null&&ru(s),n.blockedOn=l,!1;s.shift()}return!0}function Cp(n,s,l){Fa(n)&&l.delete(s)}function PS(){nu=!1,Pn!==null&&Fa(Pn)&&(Pn=null),Rn!==null&&Fa(Rn)&&(Rn=null),In!==null&&Fa(In)&&(In=null),pi.forEach(Cp),mi.forEach(Cp)}function vi(n,s){n.blockedOn===s&&(n.blockedOn=null,nu||(nu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PS)))}function yi(n){function s(g){return vi(g,n)}if(0<$a.length){vi($a[0],n);for(var l=1;l<$a.length;l++){var f=$a[l];f.blockedOn===n&&(f.blockedOn=null)}}for(Pn!==null&&vi(Pn,n),Rn!==null&&vi(Rn,n),In!==null&&vi(In,n),pi.forEach(s),mi.forEach(s),l=0;l<An.length;l++)f=An[l],f.blockedOn===n&&(f.blockedOn=null);for(;0<An.length&&(l=An[0],l.blockedOn===null);)_p(l),l.blockedOn===null&&An.shift()}var Gs=A.ReactCurrentBatchConfig,za=!0;function RS(n,s,l,f){var g=qe,x=Gs.transition;Gs.transition=null;try{qe=1,su(n,s,l,f)}finally{qe=g,Gs.transition=x}}function IS(n,s,l,f){var g=qe,x=Gs.transition;Gs.transition=null;try{qe=4,su(n,s,l,f)}finally{qe=g,Gs.transition=x}}function su(n,s,l,f){if(za){var g=ou(n,s,l,f);if(g===null)Su(n,s,f,Ua,l),Sp(n,f);else if(TS(g,n,s,l,f))f.stopPropagation();else if(Sp(n,f),s&4&&-1<NS.indexOf(n)){for(;g!==null;){var x=Pi(g);if(x!==null&&yp(x),x=ou(n,s,l,f),x===null&&Su(n,s,f,Ua,l),x===g)break;g=x}g!==null&&f.stopPropagation()}else Su(n,s,f,null,l)}}var Ua=null;function ou(n,s,l,f){if(Ua=null,n=ci(f),n=vs(n),n!==null)if(s=gs(n),s===null)n=null;else if(l=s.tag,l===13){if(n=lp(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Ua=n,null}function Ep(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xS()){case Xc:return 1;case pp:return 4;case Aa:case wS:return 16;case mp:return 536870912;default:return 16}default:return 16}}var On=null,iu=null,Ba=null;function kp(){if(Ba)return Ba;var n,s=iu,l=s.length,f,g="value"in On?On.value:On.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var _=l-n;for(f=1;f<=_&&s[l-f]===g[x-f];f++);return Ba=g.slice(n,1<f?1-f:void 0)}function Va(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Wa(){return!0}function jp(){return!1}function ir(n){function s(l,f,g,x,_){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Wa:jp,this.isPropagationStopped=jp,this}return ne(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),s}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=ir(Js),xi=ne({},Js,{view:0,detail:0}),AS=ir(xi),lu,cu,wi,Ha=ne({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(lu=n.screenX-wi.screenX,cu=n.screenY-wi.screenY):cu=lu=0,wi=n),lu)},movementY:function(n){return"movementY"in n?n.movementY:cu}}),Np=ir(Ha),OS=ne({},Ha,{dataTransfer:0}),DS=ir(OS),LS=ne({},xi,{relatedTarget:0}),uu=ir(LS),MS=ne({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=ir(MS),FS=ne({},Js,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zS=ir(FS),US=ne({},Js,{data:0}),Tp=ir(US),BS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=WS[n])?!!s[n]:!1}function du(){return HS}var qS=ne({},xi,{key:function(n){if(n.key){var s=BS[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Va(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(n){return n.type==="keypress"?Va(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Va(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KS=ir(qS),GS=ne({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=ir(GS),JS=ne({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),YS=ir(JS),QS=ne({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=ir(QS),ZS=ne({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),e1=ir(ZS),t1=[9,13,27,32],fu=d&&"CompositionEvent"in window,bi=null;d&&"documentMode"in document&&(bi=document.documentMode);var r1=d&&"TextEvent"in window&&!bi,Rp=d&&(!fu||bi&&8<bi&&11>=bi),Ip=" ",Ap=!1;function Op(n,s){switch(n){case"keyup":return t1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ys=!1;function n1(n,s){switch(n){case"compositionend":return Dp(s);case"keypress":return s.which!==32?null:(Ap=!0,Ip);case"textInput":return n=s.data,n===Ip&&Ap?null:n;default:return null}}function s1(n,s){if(Ys)return n==="compositionend"||!fu&&Op(n,s)?(n=kp(),Ba=iu=On=null,Ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Rp&&s.locale!=="ko"?null:s.data;default:return null}}var o1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!o1[n.type]:s==="textarea"}function Mp(n,s,l,f){It(f),s=Ya(s,"onChange"),0<s.length&&(l=new au("onChange","change",null,l,f),n.push({event:l,listeners:s}))}var Si=null,_i=null;function i1(n){tm(n,0)}function qa(n){var s=to(n);if(Te(s))return n}function a1(n,s){if(n==="change")return s}var $p=!1;if(d){var hu;if(d){var pu="oninput"in document;if(!pu){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),pu=typeof Fp.oninput=="function"}hu=pu}else hu=!1;$p=hu&&(!document.documentMode||9<document.documentMode)}function zp(){Si&&(Si.detachEvent("onpropertychange",Up),_i=Si=null)}function Up(n){if(n.propertyName==="value"&&qa(_i)){var s=[];Mp(s,_i,n,ci(n)),cn(i1,s)}}function l1(n,s,l){n==="focusin"?(zp(),Si=s,_i=l,Si.attachEvent("onpropertychange",Up)):n==="focusout"&&zp()}function c1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qa(_i)}function u1(n,s){if(n==="click")return qa(s)}function d1(n,s){if(n==="input"||n==="change")return qa(s)}function f1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Tr=typeof Object.is=="function"?Object.is:f1;function Ci(n,s){if(Tr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!h.call(s,g)||!Tr(n[g],s[g]))return!1}return!0}function Bp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vp(n,s){var l=Bp(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=s&&f>=s)return{node:l,offset:s-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bp(l)}}function Wp(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Wp(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Hp(){for(var n=window,s=He();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=He(n.document)}return s}function mu(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function h1(n){var s=Hp(),l=n.focusedElem,f=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Wp(l.ownerDocument.documentElement,l)){if(f!==null&&mu(l)){if(s=f.start,n=f.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var g=l.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!n.extend&&x>f&&(g=f,f=x,x=g),g=Vp(l,x);var _=Vp(l,f);g&&_&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),n.removeAllRanges(),x>f?(n.addRange(s),n.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p1=d&&"documentMode"in document&&11>=document.documentMode,Qs=null,gu=null,Ei=null,vu=!1;function qp(n,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vu||Qs==null||Qs!==He(f)||(f=Qs,"selectionStart"in f&&mu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ei&&Ci(Ei,f)||(Ei=f,f=Ya(gu,"onSelect"),0<f.length&&(s=new au("onSelect","select",null,s,l),n.push({event:s,listeners:f}),s.target=Qs)))}function Ka(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Xs={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},yu={},Kp={};d&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function Ga(n){if(yu[n])return yu[n];if(!Xs[n])return n;var s=Xs[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Kp)return yu[n]=s[l];return n}var Gp=Ga("animationend"),Jp=Ga("animationiteration"),Yp=Ga("animationstart"),Qp=Ga("transitionend"),Xp=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(n,s){Xp.set(n,s),a(s,[n])}for(var xu=0;xu<Zp.length;xu++){var wu=Zp[xu],m1=wu.toLowerCase(),g1=wu[0].toUpperCase()+wu.slice(1);Dn(m1,"on"+g1)}Dn(Gp,"onAnimationEnd"),Dn(Jp,"onAnimationIteration"),Dn(Yp,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Qp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function em(n,s,l){var f=n.type||"unknown-event";n.currentTarget=l,mS(f,s,void 0,n),n.currentTarget=null}function tm(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],g=f.event;f=f.listeners;e:{var x=void 0;if(s)for(var _=f.length-1;0<=_;_--){var T=f[_],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==x&&g.isPropagationStopped())break e;em(g,T,z),x=R}else for(_=0;_<f.length;_++){if(T=f[_],R=T.instance,z=T.currentTarget,T=T.listener,R!==x&&g.isPropagationStopped())break e;em(g,T,z),x=R}}}if(or)throw n=un,or=!1,un=null,n}function Qe(n,s){var l=s[Nu];l===void 0&&(l=s[Nu]=new Set);var f=n+"__bubble";l.has(f)||(rm(s,n,2,!1),l.add(f))}function bu(n,s,l){var f=0;s&&(f|=4),rm(l,n,f,s)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function ji(n){if(!n[Ja]){n[Ja]=!0,o.forEach(function(l){l!=="selectionchange"&&(v1.has(l)||bu(l,!1,n),bu(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ja]||(s[Ja]=!0,bu("selectionchange",!1,s))}}function rm(n,s,l,f){switch(Ep(s)){case 1:var g=RS;break;case 4:g=IS;break;default:g=su}l=g.bind(null,s,l,n),g=void 0,!pr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function Su(n,s,l,f,g){var x=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var _=f.tag;if(_===3||_===4){var T=f.stateNode.containerInfo;if(T===g||T.nodeType===8&&T.parentNode===g)break;if(_===4)for(_=f.return;_!==null;){var R=_.tag;if((R===3||R===4)&&(R=_.stateNode.containerInfo,R===g||R.nodeType===8&&R.parentNode===g))return;_=_.return}for(;T!==null;){if(_=vs(T),_===null)return;if(R=_.tag,R===5||R===6){f=x=_;continue e}T=T.parentNode}}f=f.return}cn(function(){var z=x,te=ci(l),se=[];e:{var X=Xp.get(n);if(X!==void 0){var ve=au,we=n;switch(n){case"keypress":if(Va(l)===0)break e;case"keydown":case"keyup":ve=KS;break;case"focusin":we="focus",ve=uu;break;case"focusout":we="blur",ve=uu;break;case"beforeblur":case"afterblur":ve=uu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=DS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=YS;break;case Gp:case Jp:case Yp:ve=$S;break;case Qp:ve=XS;break;case"scroll":ve=AS;break;case"wheel":ve=e1;break;case"copy":case"cut":case"paste":ve=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Pp}var be=(s&4)!==0,dt=!be&&n==="scroll",L=be?X!==null?X+"Capture":null:X;be=[];for(var O=z,F;O!==null;){F=O;var le=F.stateNode;if(F.tag===5&&le!==null&&(F=le,L!==null&&(le=nt(O,L),le!=null&&be.push(Ni(O,le,F)))),dt)break;O=O.return}0<be.length&&(X=new ve(X,we,null,l,te),se.push({event:X,listeners:be}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",ve=n==="mouseout"||n==="pointerout",X&&l!==Ks&&(we=l.relatedTarget||l.fromElement)&&(vs(we)||we[dn]))break e;if((ve||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,ve?(we=l.relatedTarget||l.toElement,ve=z,we=we?vs(we):null,we!==null&&(dt=gs(we),we!==dt||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=z),ve!==we)){if(be=Np,le="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(be=Pp,le="onPointerLeave",L="onPointerEnter",O="pointer"),dt=ve==null?X:to(ve),F=we==null?X:to(we),X=new be(le,O+"leave",ve,l,te),X.target=dt,X.relatedTarget=F,le=null,vs(te)===z&&(be=new be(L,O+"enter",we,l,te),be.target=F,be.relatedTarget=dt,le=be),dt=le,ve&&we)t:{for(be=ve,L=we,O=0,F=be;F;F=Zs(F))O++;for(F=0,le=L;le;le=Zs(le))F++;for(;0<O-F;)be=Zs(be),O--;for(;0<F-O;)L=Zs(L),F--;for(;O--;){if(be===L||L!==null&&be===L.alternate)break t;be=Zs(be),L=Zs(L)}be=null}else be=null;ve!==null&&nm(se,X,ve,be,!1),we!==null&&dt!==null&&nm(se,dt,we,be,!0)}}e:{if(X=z?to(z):window,ve=X.nodeName&&X.nodeName.toLowerCase(),ve==="select"||ve==="input"&&X.type==="file")var Se=a1;else if(Lp(X))if($p)Se=d1;else{Se=c1;var je=l1}else(ve=X.nodeName)&&ve.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(Se=u1);if(Se&&(Se=Se(n,z))){Mp(se,Se,l,te);break e}je&&je(n,X,z),n==="focusout"&&(je=X._wrapperState)&&je.controlled&&X.type==="number"&&M(X,"number",X.value)}switch(je=z?to(z):window,n){case"focusin":(Lp(je)||je.contentEditable==="true")&&(Qs=je,gu=z,Ei=null);break;case"focusout":Ei=gu=Qs=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,qp(se,l,te);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":qp(se,l,te)}var Ne;if(fu)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ys?Op(n,l)&&(Ie="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Rp&&l.locale!=="ko"&&(Ys||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ys&&(Ne=kp()):(On=te,iu="value"in On?On.value:On.textContent,Ys=!0)),je=Ya(z,Ie),0<je.length&&(Ie=new Tp(Ie,n,null,l,te),se.push({event:Ie,listeners:je}),Ne?Ie.data=Ne:(Ne=Dp(l),Ne!==null&&(Ie.data=Ne)))),(Ne=r1?n1(n,l):s1(n,l))&&(z=Ya(z,"onBeforeInput"),0<z.length&&(te=new Tp("onBeforeInput","beforeinput",null,l,te),se.push({event:te,listeners:z}),te.data=Ne))}tm(se,s)})}function Ni(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Ya(n,s){for(var l=s+"Capture",f=[];n!==null;){var g=n,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=nt(n,l),x!=null&&f.unshift(Ni(n,x,g)),x=nt(n,s),x!=null&&f.push(Ni(n,x,g))),n=n.return}return f}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nm(n,s,l,f,g){for(var x=s._reactName,_=[];l!==null&&l!==f;){var T=l,R=T.alternate,z=T.stateNode;if(R!==null&&R===f)break;T.tag===5&&z!==null&&(T=z,g?(R=nt(l,x),R!=null&&_.unshift(Ni(l,R,T))):g||(R=nt(l,x),R!=null&&_.push(Ni(l,R,T)))),l=l.return}_.length!==0&&n.push({event:s,listeners:_})}var y1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function sm(n){return(typeof n=="string"?n:""+n).replace(y1,`
`).replace(x1,"")}function Qa(n,s,l){if(s=sm(s),sm(n)!==s&&l)throw Error(r(425))}function Xa(){}var _u=null,Cu=null;function Eu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,w1=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(n){return om.resolve(null).then(n).catch(S1)}:ku;function S1(n){setTimeout(function(){throw n})}function ju(n,s){var l=s,f=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){n.removeChild(g),yi(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);yi(s)}function Ln(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function im(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Kr="__reactFiber$"+eo,Ti="__reactProps$"+eo,dn="__reactContainer$"+eo,Nu="__reactEvents$"+eo,_1="__reactListeners$"+eo,C1="__reactHandles$"+eo;function vs(n){var s=n[Kr];if(s)return s;for(var l=n.parentNode;l;){if(s=l[dn]||l[Kr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=im(n);n!==null;){if(l=n[Kr])return l;n=im(n)}return s}n=l,l=n.parentNode}return null}function Pi(n){return n=n[Kr]||n[dn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function to(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Za(n){return n[Ti]||null}var Tu=[],ro=-1;function Mn(n){return{current:n}}function Xe(n){0>ro||(n.current=Tu[ro],Tu[ro]=null,ro--)}function Ge(n,s){ro++,Tu[ro]=n.current,n.current=s}var $n={},Dt=Mn($n),Jt=Mn(!1),ys=$n;function no(n,s){var l=n.type.contextTypes;if(!l)return $n;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in l)g[x]=s[x];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=g),g}function Yt(n){return n=n.childContextTypes,n!=null}function el(){Xe(Jt),Xe(Dt)}function am(n,s,l){if(Dt.current!==$n)throw Error(r(168));Ge(Dt,s),Ge(Jt,l)}function lm(n,s,l){var f=n.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in s))throw Error(r(108,Q(n)||"Unknown",g));return ne({},l,f)}function tl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$n,ys=Dt.current,Ge(Dt,n),Ge(Jt,Jt.current),!0}function cm(n,s,l){var f=n.stateNode;if(!f)throw Error(r(169));l?(n=lm(n,s,ys),f.__reactInternalMemoizedMergedChildContext=n,Xe(Jt),Xe(Dt),Ge(Dt,n)):Xe(Jt),Ge(Jt,l)}var fn=null,rl=!1,Pu=!1;function um(n){fn===null?fn=[n]:fn.push(n)}function E1(n){rl=!0,um(n)}function Fn(){if(!Pu&&fn!==null){Pu=!0;var n=0,s=qe;try{var l=fn;for(qe=1;n<l.length;n++){var f=l[n];do f=f(!0);while(f!==null)}fn=null,rl=!1}catch(g){throw fn!==null&&(fn=fn.slice(n+1)),fp(Xc,Fn),g}finally{qe=s,Pu=!1}}return null}var so=[],oo=0,nl=null,sl=0,mr=[],gr=0,xs=null,hn=1,pn="";function ws(n,s){so[oo++]=sl,so[oo++]=nl,nl=n,sl=s}function dm(n,s,l){mr[gr++]=hn,mr[gr++]=pn,mr[gr++]=xs,xs=n;var f=hn;n=pn;var g=32-Nr(f)-1;f&=~(1<<g),l+=1;var x=32-Nr(s)+g;if(30<x){var _=g-g%5;x=(f&(1<<_)-1).toString(32),f>>=_,g-=_,hn=1<<32-Nr(s)+g|l<<g|f,pn=x+n}else hn=1<<x|l<<g|f,pn=n}function Ru(n){n.return!==null&&(ws(n,1),dm(n,1,0))}function Iu(n){for(;n===nl;)nl=so[--oo],so[oo]=null,sl=so[--oo],so[oo]=null;for(;n===xs;)xs=mr[--gr],mr[gr]=null,pn=mr[--gr],mr[gr]=null,hn=mr[--gr],mr[gr]=null}var ar=null,lr=null,et=!1,Pr=null;function fm(n,s){var l=wr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function hm(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,ar=n,lr=Ln(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,ar=n,lr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xs!==null?{id:hn,overflow:pn}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=wr(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,ar=n,lr=null,!0):!1;default:return!1}}function Au(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ou(n){if(et){var s=lr;if(s){var l=s;if(!hm(n,s)){if(Au(n))throw Error(r(418));s=Ln(l.nextSibling);var f=ar;s&&hm(n,s)?fm(f,l):(n.flags=n.flags&-4097|2,et=!1,ar=n)}}else{if(Au(n))throw Error(r(418));n.flags=n.flags&-4097|2,et=!1,ar=n}}}function pm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ar=n}function ol(n){if(n!==ar)return!1;if(!et)return pm(n),et=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Eu(n.type,n.memoizedProps)),s&&(s=lr)){if(Au(n))throw mm(),Error(r(418));for(;s;)fm(n,s),s=Ln(s.nextSibling)}if(pm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){lr=Ln(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}lr=null}}else lr=ar?Ln(n.stateNode.nextSibling):null;return!0}function mm(){for(var n=lr;n;)n=Ln(n.nextSibling)}function io(){lr=ar=null,et=!1}function Du(n){Pr===null?Pr=[n]:Pr.push(n)}var k1=A.ReactCurrentBatchConfig;function Ri(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var f=l.stateNode}if(!f)throw Error(r(147,n));var g=f,x=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(_){var T=g.refs;_===null?delete T[x]:T[x]=_},s._stringRef=x,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function il(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function gm(n){var s=n._init;return s(n._payload)}function vm(n){function s(L,O){if(n){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function l(L,O){if(!n)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function f(L,O){for(L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function g(L,O){return L=Kn(L,O),L.index=0,L.sibling=null,L}function x(L,O,F){return L.index=F,n?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=2,O):F):(L.flags|=2,O)):(L.flags|=1048576,O)}function _(L){return n&&L.alternate===null&&(L.flags|=2),L}function T(L,O,F,le){return O===null||O.tag!==6?(O=kd(F,L.mode,le),O.return=L,O):(O=g(O,F),O.return=L,O)}function R(L,O,F,le){var Se=F.type;return Se===$?te(L,O,F.props.children,le,F.key):O!==null&&(O.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ie&&gm(Se)===O.type)?(le=g(O,F.props),le.ref=Ri(L,O,F),le.return=L,le):(le=Pl(F.type,F.key,F.props,null,L.mode,le),le.ref=Ri(L,O,F),le.return=L,le)}function z(L,O,F,le){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=jd(F,L.mode,le),O.return=L,O):(O=g(O,F.children||[]),O.return=L,O)}function te(L,O,F,le,Se){return O===null||O.tag!==7?(O=Ns(F,L.mode,le,Se),O.return=L,O):(O=g(O,F),O.return=L,O)}function se(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number")return O=kd(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return F=Pl(O.type,O.key,O.props,null,L.mode,F),F.ref=Ri(L,null,O),F.return=L,F;case U:return O=jd(O,L.mode,F),O.return=L,O;case ie:var le=O._init;return se(L,le(O._payload),F)}if(H(O)||ee(O))return O=Ns(O,L.mode,F,null),O.return=L,O;il(L,O)}return null}function X(L,O,F,le){var Se=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Se!==null?null:T(L,O,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return F.key===Se?R(L,O,F,le):null;case U:return F.key===Se?z(L,O,F,le):null;case ie:return Se=F._init,X(L,O,Se(F._payload),le)}if(H(F)||ee(F))return Se!==null?null:te(L,O,F,le,null);il(L,F)}return null}function ve(L,O,F,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number")return L=L.get(F)||null,T(O,L,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case D:return L=L.get(le.key===null?F:le.key)||null,R(O,L,le,Se);case U:return L=L.get(le.key===null?F:le.key)||null,z(O,L,le,Se);case ie:var je=le._init;return ve(L,O,F,je(le._payload),Se)}if(H(le)||ee(le))return L=L.get(F)||null,te(O,L,le,Se,null);il(O,le)}return null}function we(L,O,F,le){for(var Se=null,je=null,Ne=O,Ie=O=0,St=null;Ne!==null&&Ie<F.length;Ie++){Ne.index>Ie?(St=Ne,Ne=null):St=Ne.sibling;var Ve=X(L,Ne,F[Ie],le);if(Ve===null){Ne===null&&(Ne=St);break}n&&Ne&&Ve.alternate===null&&s(L,Ne),O=x(Ve,O,Ie),je===null?Se=Ve:je.sibling=Ve,je=Ve,Ne=St}if(Ie===F.length)return l(L,Ne),et&&ws(L,Ie),Se;if(Ne===null){for(;Ie<F.length;Ie++)Ne=se(L,F[Ie],le),Ne!==null&&(O=x(Ne,O,Ie),je===null?Se=Ne:je.sibling=Ne,je=Ne);return et&&ws(L,Ie),Se}for(Ne=f(L,Ne);Ie<F.length;Ie++)St=ve(Ne,L,Ie,F[Ie],le),St!==null&&(n&&St.alternate!==null&&Ne.delete(St.key===null?Ie:St.key),O=x(St,O,Ie),je===null?Se=St:je.sibling=St,je=St);return n&&Ne.forEach(function(Gn){return s(L,Gn)}),et&&ws(L,Ie),Se}function be(L,O,F,le){var Se=ee(F);if(typeof Se!="function")throw Error(r(150));if(F=Se.call(F),F==null)throw Error(r(151));for(var je=Se=null,Ne=O,Ie=O=0,St=null,Ve=F.next();Ne!==null&&!Ve.done;Ie++,Ve=F.next()){Ne.index>Ie?(St=Ne,Ne=null):St=Ne.sibling;var Gn=X(L,Ne,Ve.value,le);if(Gn===null){Ne===null&&(Ne=St);break}n&&Ne&&Gn.alternate===null&&s(L,Ne),O=x(Gn,O,Ie),je===null?Se=Gn:je.sibling=Gn,je=Gn,Ne=St}if(Ve.done)return l(L,Ne),et&&ws(L,Ie),Se;if(Ne===null){for(;!Ve.done;Ie++,Ve=F.next())Ve=se(L,Ve.value,le),Ve!==null&&(O=x(Ve,O,Ie),je===null?Se=Ve:je.sibling=Ve,je=Ve);return et&&ws(L,Ie),Se}for(Ne=f(L,Ne);!Ve.done;Ie++,Ve=F.next())Ve=ve(Ne,L,Ie,Ve.value,le),Ve!==null&&(n&&Ve.alternate!==null&&Ne.delete(Ve.key===null?Ie:Ve.key),O=x(Ve,O,Ie),je===null?Se=Ve:je.sibling=Ve,je=Ve);return n&&Ne.forEach(function(o_){return s(L,o_)}),et&&ws(L,Ie),Se}function dt(L,O,F,le){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case D:e:{for(var Se=F.key,je=O;je!==null;){if(je.key===Se){if(Se=F.type,Se===$){if(je.tag===7){l(L,je.sibling),O=g(je,F.props.children),O.return=L,L=O;break e}}else if(je.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ie&&gm(Se)===je.type){l(L,je.sibling),O=g(je,F.props),O.ref=Ri(L,je,F),O.return=L,L=O;break e}l(L,je);break}else s(L,je);je=je.sibling}F.type===$?(O=Ns(F.props.children,L.mode,le,F.key),O.return=L,L=O):(le=Pl(F.type,F.key,F.props,null,L.mode,le),le.ref=Ri(L,O,F),le.return=L,L=le)}return _(L);case U:e:{for(je=F.key;O!==null;){if(O.key===je)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){l(L,O.sibling),O=g(O,F.children||[]),O.return=L,L=O;break e}else{l(L,O);break}else s(L,O);O=O.sibling}O=jd(F,L.mode,le),O.return=L,L=O}return _(L);case ie:return je=F._init,dt(L,O,je(F._payload),le)}if(H(F))return we(L,O,F,le);if(ee(F))return be(L,O,F,le);il(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,O!==null&&O.tag===6?(l(L,O.sibling),O=g(O,F),O.return=L,L=O):(l(L,O),O=kd(F,L.mode,le),O.return=L,L=O),_(L)):l(L,O)}return dt}var ao=vm(!0),ym=vm(!1),al=Mn(null),ll=null,lo=null,Lu=null;function Mu(){Lu=lo=ll=null}function $u(n){var s=al.current;Xe(al),n._currentValue=s}function Fu(n,s,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===l)break;n=n.return}}function co(n,s){ll=n,Lu=lo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Qt=!0),n.firstContext=null)}function vr(n){var s=n._currentValue;if(Lu!==n)if(n={context:n,memoizedValue:s,next:null},lo===null){if(ll===null)throw Error(r(308));lo=n,ll.dependencies={lanes:0,firstContext:n}}else lo=lo.next=n;return s}var bs=null;function zu(n){bs===null?bs=[n]:bs.push(n)}function xm(n,s,l,f){var g=s.interleaved;return g===null?(l.next=l,zu(s)):(l.next=g.next,g.next=l),s.interleaved=l,mn(n,f)}function mn(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var zn=!1;function Uu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function gn(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Un(n,s,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,mn(n,l)}return g=f.interleaved,g===null?(s.next=s,zu(f)):(s.next=g.next,g.next=s),f.interleaved=s,mn(n,l)}function cl(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,tu(n,l)}}function bm(n,s){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?g=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function ul(n,s,l,f){var g=n.updateQueue;zn=!1;var x=g.firstBaseUpdate,_=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var R=T,z=R.next;R.next=null,_===null?x=z:_.next=z,_=R;var te=n.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==_&&(T===null?te.firstBaseUpdate=z:T.next=z,te.lastBaseUpdate=R))}if(x!==null){var se=g.baseState;_=0,te=z=R=null,T=x;do{var X=T.lane,ve=T.eventTime;if((f&X)===X){te!==null&&(te=te.next={eventTime:ve,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var we=n,be=T;switch(X=s,ve=l,be.tag){case 1:if(we=be.payload,typeof we=="function"){se=we.call(ve,se,X);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,X=typeof we=="function"?we.call(ve,se,X):we,X==null)break e;se=ne({},se,X);break e;case 2:zn=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,X=g.effects,X===null?g.effects=[T]:X.push(T))}else ve={eventTime:ve,lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?(z=te=ve,R=se):te=te.next=ve,_|=X;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;X=T,T=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);if(te===null&&(R=se),g.baseState=R,g.firstBaseUpdate=z,g.lastBaseUpdate=te,s=g.shared.interleaved,s!==null){g=s;do _|=g.lane,g=g.next;while(g!==s)}else x===null&&(g.shared.lanes=0);Cs|=_,n.lanes=_,n.memoizedState=se}}function Sm(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var f=n[s],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(r(191,g));g.call(f)}}}var Ii={},Gr=Mn(Ii),Ai=Mn(Ii),Oi=Mn(Ii);function Ss(n){if(n===Ii)throw Error(r(174));return n}function Bu(n,s){switch(Ge(Oi,s),Ge(Ai,n),Ge(Gr,Ii),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:We(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=We(s,n)}Xe(Gr),Ge(Gr,s)}function uo(){Xe(Gr),Xe(Ai),Xe(Oi)}function _m(n){Ss(Oi.current);var s=Ss(Gr.current),l=We(s,n.type);s!==l&&(Ge(Ai,n),Ge(Gr,l))}function Vu(n){Ai.current===n&&(Xe(Gr),Xe(Ai))}var st=Mn(0);function dl(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wu=[];function Hu(){for(var n=0;n<Wu.length;n++)Wu[n]._workInProgressVersionPrimary=null;Wu.length=0}var fl=A.ReactCurrentDispatcher,qu=A.ReactCurrentBatchConfig,_s=0,ot=null,gt=null,wt=null,hl=!1,Di=!1,Li=0,j1=0;function Lt(){throw Error(r(321))}function Ku(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Tr(n[l],s[l]))return!1;return!0}function Gu(n,s,l,f,g,x){if(_s=x,ot=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fl.current=n===null||n.memoizedState===null?R1:I1,n=l(f,g),Di){x=0;do{if(Di=!1,Li=0,25<=x)throw Error(r(301));x+=1,wt=gt=null,s.updateQueue=null,fl.current=A1,n=l(f,g)}while(Di)}if(fl.current=gl,s=gt!==null&&gt.next!==null,_s=0,wt=gt=ot=null,hl=!1,s)throw Error(r(300));return n}function Ju(){var n=Li!==0;return Li=0,n}function Jr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ot.memoizedState=wt=n:wt=wt.next=n,wt}function yr(){if(gt===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var s=wt===null?ot.memoizedState:wt.next;if(s!==null)wt=s,gt=n;else{if(n===null)throw Error(r(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?ot.memoizedState=wt=n:wt=wt.next=n}return wt}function Mi(n,s){return typeof s=="function"?s(n):s}function Yu(n){var s=yr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=gt,g=f.baseQueue,x=l.pending;if(x!==null){if(g!==null){var _=g.next;g.next=x.next,x.next=_}f.baseQueue=g=x,l.pending=null}if(g!==null){x=g.next,f=f.baseState;var T=_=null,R=null,z=x;do{var te=z.lane;if((_s&te)===te)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),f=z.hasEagerState?z.eagerState:n(f,z.action);else{var se={lane:te,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(T=R=se,_=f):R=R.next=se,ot.lanes|=te,Cs|=te}z=z.next}while(z!==null&&z!==x);R===null?_=f:R.next=T,Tr(f,s.memoizedState)||(Qt=!0),s.memoizedState=f,s.baseState=_,s.baseQueue=R,l.lastRenderedState=f}if(n=l.interleaved,n!==null){g=n;do x=g.lane,ot.lanes|=x,Cs|=x,g=g.next;while(g!==n)}else g===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Qu(n){var s=yr(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var f=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do x=n(x,_.action),_=_.next;while(_!==g);Tr(x,s.memoizedState)||(Qt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,f]}function Cm(){}function Em(n,s){var l=ot,f=yr(),g=s(),x=!Tr(f.memoizedState,g);if(x&&(f.memoizedState=g,Qt=!0),f=f.queue,Xu(Nm.bind(null,l,f,n),[n]),f.getSnapshot!==s||x||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,$i(9,jm.bind(null,l,f,g,s),void 0,null),bt===null)throw Error(r(349));(_s&30)!==0||km(l,s,g)}return g}function km(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function jm(n,s,l,f){s.value=l,s.getSnapshot=f,Tm(s)&&Pm(n)}function Nm(n,s,l){return l(function(){Tm(s)&&Pm(n)})}function Tm(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Tr(n,l)}catch{return!0}}function Pm(n){var s=mn(n,1);s!==null&&Or(s,n,1,-1)}function Rm(n){var s=Jr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:n},s.queue=n,n=n.dispatch=P1.bind(null,ot,n),[s.memoizedState,n]}function $i(n,s,l,f){return n={tag:n,create:s,destroy:l,deps:f,next:null},s=ot.updateQueue,s===null?(s={lastEffect:null,stores:null},ot.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,s.lastEffect=n)),n}function Im(){return yr().memoizedState}function pl(n,s,l,f){var g=Jr();ot.flags|=n,g.memoizedState=$i(1|s,l,void 0,f===void 0?null:f)}function ml(n,s,l,f){var g=yr();f=f===void 0?null:f;var x=void 0;if(gt!==null){var _=gt.memoizedState;if(x=_.destroy,f!==null&&Ku(f,_.deps)){g.memoizedState=$i(s,l,x,f);return}}ot.flags|=n,g.memoizedState=$i(1|s,l,x,f)}function Am(n,s){return pl(8390656,8,n,s)}function Xu(n,s){return ml(2048,8,n,s)}function Om(n,s){return ml(4,2,n,s)}function Dm(n,s){return ml(4,4,n,s)}function Lm(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Mm(n,s,l){return l=l!=null?l.concat([n]):null,ml(4,4,Lm.bind(null,s,n),l)}function Zu(){}function $m(n,s){var l=yr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Ku(s,f[1])?f[0]:(l.memoizedState=[n,s],n)}function Fm(n,s){var l=yr();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&Ku(s,f[1])?f[0]:(n=n(),l.memoizedState=[n,s],n)}function zm(n,s,l){return(_s&21)===0?(n.baseState&&(n.baseState=!1,Qt=!0),n.memoizedState=l):(Tr(l,s)||(l=gp(),ot.lanes|=l,Cs|=l,n.baseState=!0),s)}function N1(n,s){var l=qe;qe=l!==0&&4>l?l:4,n(!0);var f=qu.transition;qu.transition={};try{n(!1),s()}finally{qe=l,qu.transition=f}}function Um(){return yr().memoizedState}function T1(n,s,l){var f=Hn(n);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Bm(n))Vm(s,l);else if(l=xm(n,s,l,f),l!==null){var g=Bt();Or(l,n,f,g),Wm(l,s,f)}}function P1(n,s,l){var f=Hn(n),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bm(n))Vm(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var _=s.lastRenderedState,T=x(_,l);if(g.hasEagerState=!0,g.eagerState=T,Tr(T,_)){var R=s.interleaved;R===null?(g.next=g,zu(s)):(g.next=R.next,R.next=g),s.interleaved=g;return}}catch{}finally{}l=xm(n,s,g,f),l!==null&&(g=Bt(),Or(l,n,f,g),Wm(l,s,f))}}function Bm(n){var s=n.alternate;return n===ot||s!==null&&s===ot}function Vm(n,s){Di=hl=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Wm(n,s,l){if((l&4194240)!==0){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,tu(n,l)}}var gl={readContext:vr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},R1={readContext:vr,useCallback:function(n,s){return Jr().memoizedState=[n,s===void 0?null:s],n},useContext:vr,useEffect:Am,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,pl(4194308,4,Lm.bind(null,s,n),l)},useLayoutEffect:function(n,s){return pl(4194308,4,n,s)},useInsertionEffect:function(n,s){return pl(4,2,n,s)},useMemo:function(n,s){var l=Jr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var f=Jr();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},f.queue=n,n=n.dispatch=T1.bind(null,ot,n),[f.memoizedState,n]},useRef:function(n){var s=Jr();return n={current:n},s.memoizedState=n},useState:Rm,useDebugValue:Zu,useDeferredValue:function(n){return Jr().memoizedState=n},useTransition:function(){var n=Rm(!1),s=n[0];return n=N1.bind(null,n[1]),Jr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var f=ot,g=Jr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),bt===null)throw Error(r(349));(_s&30)!==0||km(f,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,Am(Nm.bind(null,f,x,n),[n]),f.flags|=2048,$i(9,jm.bind(null,f,x,l,s),void 0,null),l},useId:function(){var n=Jr(),s=bt.identifierPrefix;if(et){var l=pn,f=hn;l=(f&~(1<<32-Nr(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=Li++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=j1++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},I1={readContext:vr,useCallback:$m,useContext:vr,useEffect:Xu,useImperativeHandle:Mm,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Fm,useReducer:Yu,useRef:Im,useState:function(){return Yu(Mi)},useDebugValue:Zu,useDeferredValue:function(n){var s=yr();return zm(s,gt.memoizedState,n)},useTransition:function(){var n=Yu(Mi)[0],s=yr().memoizedState;return[n,s]},useMutableSource:Cm,useSyncExternalStore:Em,useId:Um,unstable_isNewReconciler:!1},A1={readContext:vr,useCallback:$m,useContext:vr,useEffect:Xu,useImperativeHandle:Mm,useInsertionEffect:Om,useLayoutEffect:Dm,useMemo:Fm,useReducer:Qu,useRef:Im,useState:function(){return Qu(Mi)},useDebugValue:Zu,useDeferredValue:function(n){var s=yr();return gt===null?s.memoizedState=n:zm(s,gt.memoizedState,n)},useTransition:function(){var n=Qu(Mi)[0],s=yr().memoizedState;return[n,s]},useMutableSource:Cm,useSyncExternalStore:Em,useId:Um,unstable_isNewReconciler:!1};function Rr(n,s){if(n&&n.defaultProps){s=ne({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function ed(n,s,l,f){s=n.memoizedState,l=l(f,s),l=l==null?s:ne({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var vl={isMounted:function(n){return(n=n._reactInternals)?gs(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var f=Bt(),g=Hn(n),x=gn(f,g);x.payload=s,l!=null&&(x.callback=l),s=Un(n,x,g),s!==null&&(Or(s,n,g,f),cl(s,n,g))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var f=Bt(),g=Hn(n),x=gn(f,g);x.tag=1,x.payload=s,l!=null&&(x.callback=l),s=Un(n,x,g),s!==null&&(Or(s,n,g,f),cl(s,n,g))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Bt(),f=Hn(n),g=gn(l,f);g.tag=2,s!=null&&(g.callback=s),s=Un(n,g,f),s!==null&&(Or(s,n,f,l),cl(s,n,f))}};function Hm(n,s,l,f,g,x,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,x,_):s.prototype&&s.prototype.isPureReactComponent?!Ci(l,f)||!Ci(g,x):!0}function qm(n,s,l){var f=!1,g=$n,x=s.contextType;return typeof x=="object"&&x!==null?x=vr(x):(g=Yt(s)?ys:Dt.current,f=s.contextTypes,x=(f=f!=null)?no(n,g):$n),s=new s(l,x),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=vl,n.stateNode=s,s._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=x),s}function Km(n,s,l,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==n&&vl.enqueueReplaceState(s,s.state,null)}function td(n,s,l,f){var g=n.stateNode;g.props=l,g.state=n.memoizedState,g.refs={},Uu(n);var x=s.contextType;typeof x=="object"&&x!==null?g.context=vr(x):(x=Yt(s)?ys:Dt.current,g.context=no(n,x)),g.state=n.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(ed(n,s,x,l),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&vl.enqueueReplaceState(g,g.state,null),ul(n,l,g,f),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function fo(n,s){try{var l="",f=s;do l+=Z(f),f=f.return;while(f);var g=l}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:s,stack:g,digest:null}}function rd(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function nd(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var O1=typeof WeakMap=="function"?WeakMap:Map;function Gm(n,s,l){l=gn(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){Cl||(Cl=!0,yd=f),nd(n,s)},l}function Jm(n,s,l){l=gn(-1,l),l.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var g=s.value;l.payload=function(){return f(g)},l.callback=function(){nd(n,s)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){nd(n,s),typeof f!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),l}function Ym(n,s,l){var f=n.pingCache;if(f===null){f=n.pingCache=new O1;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(l)||(g.add(l),n=G1.bind(null,n,s,l),s.then(n,n))}function Qm(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Xm(n,s,l,f,g){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=gn(-1,1),s.tag=2,Un(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var D1=A.ReactCurrentOwner,Qt=!1;function Ut(n,s,l,f){s.child=n===null?ym(s,null,l,f):ao(s,n.child,l,f)}function Zm(n,s,l,f,g){l=l.render;var x=s.ref;return co(s,g),f=Gu(n,s,l,f,x,g),l=Ju(),n!==null&&!Qt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,vn(n,s,g)):(et&&l&&Ru(s),s.flags|=1,Ut(n,s,f,g),s.child)}function eg(n,s,l,f,g){if(n===null){var x=l.type;return typeof x=="function"&&!Ed(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=x,tg(n,s,x,f,g)):(n=Pl(l.type,null,f,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,(n.lanes&g)===0){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:Ci,l(_,f)&&n.ref===s.ref)return vn(n,s,g)}return s.flags|=1,n=Kn(x,f),n.ref=s.ref,n.return=s,s.child=n}function tg(n,s,l,f,g){if(n!==null){var x=n.memoizedProps;if(Ci(x,f)&&n.ref===s.ref)if(Qt=!1,s.pendingProps=f=x,(n.lanes&g)!==0)(n.flags&131072)!==0&&(Qt=!0);else return s.lanes=n.lanes,vn(n,s,g)}return sd(n,s,l,f,g)}function rg(n,s,l){var f=s.pendingProps,g=f.children,x=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(po,cr),cr|=l;else{if((l&1073741824)===0)return n=x!==null?x.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Ge(po,cr),cr|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:l,Ge(po,cr),cr|=f}else x!==null?(f=x.baseLanes|l,s.memoizedState=null):f=l,Ge(po,cr),cr|=f;return Ut(n,s,g,l),s.child}function ng(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function sd(n,s,l,f,g){var x=Yt(l)?ys:Dt.current;return x=no(s,x),co(s,g),l=Gu(n,s,l,f,x,g),f=Ju(),n!==null&&!Qt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~g,vn(n,s,g)):(et&&f&&Ru(s),s.flags|=1,Ut(n,s,l,g),s.child)}function sg(n,s,l,f,g){if(Yt(l)){var x=!0;tl(s)}else x=!1;if(co(s,g),s.stateNode===null)xl(n,s),qm(s,l,f),td(s,l,f,g),f=!0;else if(n===null){var _=s.stateNode,T=s.memoizedProps;_.props=T;var R=_.context,z=l.contextType;typeof z=="object"&&z!==null?z=vr(z):(z=Yt(l)?ys:Dt.current,z=no(s,z));var te=l.getDerivedStateFromProps,se=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function";se||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==f||R!==z)&&Km(s,_,f,z),zn=!1;var X=s.memoizedState;_.state=X,ul(s,f,_,g),R=s.memoizedState,T!==f||X!==R||Jt.current||zn?(typeof te=="function"&&(ed(s,l,te,f),R=s.memoizedState),(T=zn||Hm(s,l,T,f,X,R,z))?(se||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=R),_.props=f,_.state=R,_.context=z,f=T):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,wm(n,s),T=s.memoizedProps,z=s.type===s.elementType?T:Rr(s.type,T),_.props=z,se=s.pendingProps,X=_.context,R=l.contextType,typeof R=="object"&&R!==null?R=vr(R):(R=Yt(l)?ys:Dt.current,R=no(s,R));var ve=l.getDerivedStateFromProps;(te=typeof ve=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(T!==se||X!==R)&&Km(s,_,f,R),zn=!1,X=s.memoizedState,_.state=X,ul(s,f,_,g);var we=s.memoizedState;T!==se||X!==we||Jt.current||zn?(typeof ve=="function"&&(ed(s,l,ve,f),we=s.memoizedState),(z=zn||Hm(s,l,z,f,X,we,R)||!1)?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,we,R),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,we,R)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=we),_.props=f,_.state=we,_.context=R,f=z):(typeof _.componentDidUpdate!="function"||T===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),f=!1)}return od(n,s,l,f,x,g)}function od(n,s,l,f,g,x){ng(n,s);var _=(s.flags&128)!==0;if(!f&&!_)return g&&cm(s,l,!1),vn(n,s,x);f=s.stateNode,D1.current=s;var T=_&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,n!==null&&_?(s.child=ao(s,n.child,null,x),s.child=ao(s,null,T,x)):Ut(n,s,T,x),s.memoizedState=f.state,g&&cm(s,l,!0),s.child}function og(n){var s=n.stateNode;s.pendingContext?am(n,s.pendingContext,s.pendingContext!==s.context):s.context&&am(n,s.context,!1),Bu(n,s.containerInfo)}function ig(n,s,l,f,g){return io(),Du(g),s.flags|=256,Ut(n,s,l,f),s.child}var id={dehydrated:null,treeContext:null,retryLane:0};function ad(n){return{baseLanes:n,cachePool:null,transitions:null}}function ag(n,s,l){var f=s.pendingProps,g=st.current,x=!1,_=(s.flags&128)!==0,T;if((T=_)||(T=n!==null&&n.memoizedState===null?!1:(g&2)!==0),T?(x=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Ge(st,g&1),n===null)return Ou(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=f.children,n=f.fallback,x?(f=s.mode,x=s.child,_={mode:"hidden",children:_},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=_):x=Rl(_,f,0,null),n=Ns(n,f,l,null),x.return=s,n.return=s,x.sibling=n,s.child=x,s.child.memoizedState=ad(l),s.memoizedState=id,n):ld(s,_));if(g=n.memoizedState,g!==null&&(T=g.dehydrated,T!==null))return L1(n,s,_,f,T,g,l);if(x){x=f.fallback,_=s.mode,g=n.child,T=g.sibling;var R={mode:"hidden",children:f.children};return(_&1)===0&&s.child!==g?(f=s.child,f.childLanes=0,f.pendingProps=R,s.deletions=null):(f=Kn(g,R),f.subtreeFlags=g.subtreeFlags&14680064),T!==null?x=Kn(T,x):(x=Ns(x,_,l,null),x.flags|=2),x.return=s,f.return=s,f.sibling=x,s.child=f,f=x,x=s.child,_=n.child.memoizedState,_=_===null?ad(l):{baseLanes:_.baseLanes|l,cachePool:null,transitions:_.transitions},x.memoizedState=_,x.childLanes=n.childLanes&~l,s.memoizedState=id,f}return x=n.child,n=x.sibling,f=Kn(x,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=f,s.memoizedState=null,f}function ld(n,s){return s=Rl({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function yl(n,s,l,f){return f!==null&&Du(f),ao(s,n.child,null,l),n=ld(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function L1(n,s,l,f,g,x,_){if(l)return s.flags&256?(s.flags&=-257,f=rd(Error(r(422))),yl(n,s,_,f)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(x=f.fallback,g=s.mode,f=Rl({mode:"visible",children:f.children},g,0,null),x=Ns(x,g,_,null),x.flags|=2,f.return=s,x.return=s,f.sibling=x,s.child=f,(s.mode&1)!==0&&ao(s,n.child,null,_),s.child.memoizedState=ad(_),s.memoizedState=id,x);if((s.mode&1)===0)return yl(n,s,_,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var T=f.dgst;return f=T,x=Error(r(419)),f=rd(x,f,void 0),yl(n,s,_,f)}if(T=(_&n.childLanes)!==0,Qt||T){if(f=bt,f!==null){switch(_&-_){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|_))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,mn(n,g),Or(f,n,g,-1))}return Cd(),f=rd(Error(r(421))),yl(n,s,_,f)}return g.data==="$?"?(s.flags|=128,s.child=n.child,s=J1.bind(null,n),g._reactRetry=s,null):(n=x.treeContext,lr=Ln(g.nextSibling),ar=s,et=!0,Pr=null,n!==null&&(mr[gr++]=hn,mr[gr++]=pn,mr[gr++]=xs,hn=n.id,pn=n.overflow,xs=s),s=ld(s,f.children),s.flags|=4096,s)}function lg(n,s,l){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),Fu(n.return,s,l)}function cd(n,s,l,f,g){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=g)}function cg(n,s,l){var f=s.pendingProps,g=f.revealOrder,x=f.tail;if(Ut(n,s,f.children,l),f=st.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lg(n,l,s);else if(n.tag===19)lg(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Ge(st,f),(s.mode&1)===0)s.memoizedState=null;else switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&dl(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),cd(s,!1,g,l,x);break;case"backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&dl(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}cd(s,!0,l,null,x);break;case"together":cd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xl(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function vn(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Cs|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=Kn(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Kn(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function M1(n,s,l){switch(s.tag){case 3:og(s),io();break;case 5:_m(s);break;case 1:Yt(s.type)&&tl(s);break;case 4:Bu(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,g=s.memoizedProps.value;Ge(al,f._currentValue),f._currentValue=g;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ge(st,st.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?ag(n,s,l):(Ge(st,st.current&1),n=vn(n,s,l),n!==null?n.sibling:null);Ge(st,st.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(n.flags&128)!==0){if(f)return cg(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ge(st,st.current),f)break;return null;case 22:case 23:return s.lanes=0,rg(n,s,l)}return vn(n,s,l)}var ug,ud,dg,fg;ug=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ud=function(){},dg=function(n,s,l,f){var g=n.memoizedProps;if(g!==f){n=s.stateNode,Ss(Gr.current);var x=null;switch(l){case"input":g=Be(n,g),f=Be(n,f),x=[];break;case"select":g=ne({},g,{value:void 0}),f=ne({},f,{value:void 0}),x=[];break;case"textarea":g=he(n,g),f=he(n,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=Xa)}qs(l,f);var _;l=null;for(z in g)if(!f.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var T=g[z];for(_ in T)T.hasOwnProperty(_)&&(l||(l={}),l[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(i.hasOwnProperty(z)?x||(x=[]):(x=x||[]).push(z,null));for(z in f){var R=f[z];if(T=g!=null?g[z]:void 0,f.hasOwnProperty(z)&&R!==T&&(R!=null||T!=null))if(z==="style")if(T){for(_ in T)!T.hasOwnProperty(_)||R&&R.hasOwnProperty(_)||(l||(l={}),l[_]="");for(_ in R)R.hasOwnProperty(_)&&T[_]!==R[_]&&(l||(l={}),l[_]=R[_])}else l||(x||(x=[]),x.push(z,l)),l=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(x=x||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(x=x||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(i.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&Qe("scroll",n),x||T===R||(x=[])):(x=x||[]).push(z,R))}l&&(x=x||[]).push("style",l);var z=x;(s.updateQueue=z)&&(s.flags|=4)}},fg=function(n,s,l,f){l!==f&&(s.flags|=4)};function Fi(n,s){if(!et)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=f,n.childLanes=l,s}function $1(n,s,l){var f=s.pendingProps;switch(Iu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(s),null;case 1:return Yt(s.type)&&el(),Mt(s),null;case 3:return f=s.stateNode,uo(),Xe(Jt),Xe(Dt),Hu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(ol(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pr!==null&&(bd(Pr),Pr=null))),ud(n,s),Mt(s),null;case 5:Vu(s);var g=Ss(Oi.current);if(l=s.type,n!==null&&s.stateNode!=null)dg(n,s,l,f,g),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(r(166));return Mt(s),null}if(n=Ss(Gr.current),ol(s)){f=s.stateNode,l=s.type;var x=s.memoizedProps;switch(f[Kr]=s,f[Ti]=x,n=(s.mode&1)!==0,l){case"dialog":Qe("cancel",f),Qe("close",f);break;case"iframe":case"object":case"embed":Qe("load",f);break;case"video":case"audio":for(g=0;g<ki.length;g++)Qe(ki[g],f);break;case"source":Qe("error",f);break;case"img":case"image":case"link":Qe("error",f),Qe("load",f);break;case"details":Qe("toggle",f);break;case"input":mt(f,x),Qe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},Qe("invalid",f);break;case"textarea":Ee(f,x),Qe("invalid",f)}qs(l,x),g=null;for(var _ in x)if(x.hasOwnProperty(_)){var T=x[_];_==="children"?typeof T=="string"?f.textContent!==T&&(x.suppressHydrationWarning!==!0&&Qa(f.textContent,T,n),g=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&Qa(f.textContent,T,n),g=["children",""+T]):i.hasOwnProperty(_)&&T!=null&&_==="onScroll"&&Qe("scroll",f)}switch(l){case"input":Ae(f),fe(f,x,!0);break;case"textarea":Ae(f),tt(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Xa)}f=g,s.updateQueue=f,f!==null&&(s.flags|=4)}else{_=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ln(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=_.createElement(l,{is:f.is}):(n=_.createElement(l),l==="select"&&(_=n,f.multiple?_.multiple=!0:f.size&&(_.size=f.size))):n=_.createElementNS(n,l),n[Kr]=s,n[Ti]=f,ug(n,s,!1,!1),s.stateNode=n;e:{switch(_=li(l,f),l){case"dialog":Qe("cancel",n),Qe("close",n),g=f;break;case"iframe":case"object":case"embed":Qe("load",n),g=f;break;case"video":case"audio":for(g=0;g<ki.length;g++)Qe(ki[g],n);g=f;break;case"source":Qe("error",n),g=f;break;case"img":case"image":case"link":Qe("error",n),Qe("load",n),g=f;break;case"details":Qe("toggle",n),g=f;break;case"input":mt(n,f),g=Be(n,f),Qe("invalid",n);break;case"option":g=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},g=ne({},f,{value:void 0}),Qe("invalid",n);break;case"textarea":Ee(n,f),g=he(n,f),Qe("invalid",n);break;default:g=f}qs(l,g),T=g;for(x in T)if(T.hasOwnProperty(x)){var R=T[x];x==="style"?Ia(n,R):x==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&qt(n,R)):x==="children"?typeof R=="string"?(l!=="textarea"||R!=="")&&hr(n,R):typeof R=="number"&&hr(n,""+R):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?R!=null&&x==="onScroll"&&Qe("scroll",n):R!=null&&N(n,x,R,_))}switch(l){case"input":Ae(n),fe(n,f,!1);break;case"textarea":Ae(n),tt(n);break;case"option":f.value!=null&&n.setAttribute("value",""+de(f.value));break;case"select":n.multiple=!!f.multiple,x=f.value,x!=null?G(n,!!f.multiple,x,!1):f.defaultValue!=null&&G(n,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=Xa)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Mt(s),null;case 6:if(n&&s.stateNode!=null)fg(n,s,n.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(l=Ss(Oi.current),Ss(Gr.current),ol(s)){if(f=s.stateNode,l=s.memoizedProps,f[Kr]=s,(x=f.nodeValue!==l)&&(n=ar,n!==null))switch(n.tag){case 3:Qa(f.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Qa(f.nodeValue,l,(n.mode&1)!==0)}x&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Kr]=s,s.stateNode=f}return Mt(s),null;case 13:if(Xe(st),f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&lr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)mm(),io(),s.flags|=98560,x=!1;else if(x=ol(s),f!==null&&f.dehydrated!==null){if(n===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Kr]=s}else io(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Mt(s),x=!1}else Pr!==null&&(bd(Pr),Pr=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(st.current&1)!==0?vt===0&&(vt=3):Cd())),s.updateQueue!==null&&(s.flags|=4),Mt(s),null);case 4:return uo(),ud(n,s),n===null&&ji(s.stateNode.containerInfo),Mt(s),null;case 10:return $u(s.type._context),Mt(s),null;case 17:return Yt(s.type)&&el(),Mt(s),null;case 19:if(Xe(st),x=s.memoizedState,x===null)return Mt(s),null;if(f=(s.flags&128)!==0,_=x.rendering,_===null)if(f)Fi(x,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=dl(n),_!==null){for(s.flags|=128,Fi(x,!1),f=_.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)x=l,n=f,x.flags&=14680066,_=x.alternate,_===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,n=_.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Ge(st,st.current&1|2),s.child}n=n.sibling}x.tail!==null&&ut()>mo&&(s.flags|=128,f=!0,Fi(x,!1),s.lanes=4194304)}else{if(!f)if(n=dl(_),n!==null){if(s.flags|=128,f=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Fi(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!et)return Mt(s),null}else 2*ut()-x.renderingStartTime>mo&&l!==1073741824&&(s.flags|=128,f=!0,Fi(x,!1),s.lanes=4194304);x.isBackwards?(_.sibling=s.child,s.child=_):(l=x.last,l!==null?l.sibling=_:s.child=_,x.last=_)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=ut(),s.sibling=null,l=st.current,Ge(st,f?l&1|2:l&1),s):(Mt(s),null);case 22:case 23:return _d(),f=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(cr&1073741824)!==0&&(Mt(s),s.subtreeFlags&6&&(s.flags|=8192)):Mt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function F1(n,s){switch(Iu(s),s.tag){case 1:return Yt(s.type)&&el(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return uo(),Xe(Jt),Xe(Dt),Hu(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Vu(s),null;case 13:if(Xe(st),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));io()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Xe(st),null;case 4:return uo(),null;case 10:return $u(s.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var wl=!1,$t=!1,z1=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ho(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){at(n,s,f)}else l.current=null}function dd(n,s,l){try{l()}catch(f){at(n,s,f)}}var hg=!1;function U1(n,s){if(_u=za,n=Hp(),mu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,T=-1,R=-1,z=0,te=0,se=n,X=null;t:for(;;){for(var ve;se!==l||g!==0&&se.nodeType!==3||(T=_+g),se!==x||f!==0&&se.nodeType!==3||(R=_+f),se.nodeType===3&&(_+=se.nodeValue.length),(ve=se.firstChild)!==null;)X=se,se=ve;for(;;){if(se===n)break t;if(X===l&&++z===g&&(T=_),X===x&&++te===f&&(R=_),(ve=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=ve}l=T===-1||R===-1?null:{start:T,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cu={focusedElem:n,selectionRange:l},za=!1,xe=s;xe!==null;)if(s=xe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,xe=n;else for(;xe!==null;){s=xe;try{var we=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var be=we.memoizedProps,dt=we.memoizedState,L=s.stateNode,O=L.getSnapshotBeforeUpdate(s.elementType===s.type?be:Rr(s.type,be),dt);L.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var F=s.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(le){at(s,s.return,le)}if(n=s.sibling,n!==null){n.return=s.return,xe=n;break}xe=s.return}return we=hg,hg=!1,we}function zi(n,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&n)===n){var x=g.destroy;g.destroy=void 0,x!==void 0&&dd(s,l,x)}g=g.next}while(g!==f)}}function bl(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function fd(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function pg(n){var s=n.alternate;s!==null&&(n.alternate=null,pg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[Kr],delete s[Ti],delete s[Nu],delete s[_1],delete s[C1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function mg(n){return n.tag===5||n.tag===3||n.tag===4}function gg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xa));else if(f!==4&&(n=n.child,n!==null))for(hd(n,s,l),n=n.sibling;n!==null;)hd(n,s,l),n=n.sibling}function pd(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(pd(n,s,l),n=n.sibling;n!==null;)pd(n,s,l),n=n.sibling}var Nt=null,Ir=!1;function Bn(n,s,l){for(l=l.child;l!==null;)vg(n,s,l),l=l.sibling}function vg(n,s,l){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Oa,l)}catch{}switch(l.tag){case 5:$t||ho(l,s);case 6:var f=Nt,g=Ir;Nt=null,Bn(n,s,l),Nt=f,Ir=g,Nt!==null&&(Ir?(n=Nt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Ir?(n=Nt,l=l.stateNode,n.nodeType===8?ju(n.parentNode,l):n.nodeType===1&&ju(n,l),yi(n)):ju(Nt,l.stateNode));break;case 4:f=Nt,g=Ir,Nt=l.stateNode.containerInfo,Ir=!0,Bn(n,s,l),Nt=f,Ir=g;break;case 0:case 11:case 14:case 15:if(!$t&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,_=x.destroy;x=x.tag,_!==void 0&&((x&2)!==0||(x&4)!==0)&&dd(l,s,_),g=g.next}while(g!==f)}Bn(n,s,l);break;case 1:if(!$t&&(ho(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(T){at(l,s,T)}Bn(n,s,l);break;case 21:Bn(n,s,l);break;case 22:l.mode&1?($t=(f=$t)||l.memoizedState!==null,Bn(n,s,l),$t=f):Bn(n,s,l);break;default:Bn(n,s,l)}}function yg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new z1),s.forEach(function(f){var g=Y1.bind(null,n,f);l.has(f)||(l.add(f),f.then(g,g))})}}function Ar(n,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var x=n,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 5:Nt=T.stateNode,Ir=!1;break e;case 3:Nt=T.stateNode.containerInfo,Ir=!0;break e;case 4:Nt=T.stateNode.containerInfo,Ir=!0;break e}T=T.return}if(Nt===null)throw Error(r(160));vg(x,_,g),Nt=null,Ir=!1;var R=g.alternate;R!==null&&(R.return=null),g.return=null}catch(z){at(g,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)xg(s,n),s=s.sibling}function xg(n,s){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ar(s,n),Yr(n),f&4){try{zi(3,n,n.return),bl(3,n)}catch(be){at(n,n.return,be)}try{zi(5,n,n.return)}catch(be){at(n,n.return,be)}}break;case 1:Ar(s,n),Yr(n),f&512&&l!==null&&ho(l,l.return);break;case 5:if(Ar(s,n),Yr(n),f&512&&l!==null&&ho(l,l.return),n.flags&32){var g=n.stateNode;try{hr(g,"")}catch(be){at(n,n.return,be)}}if(f&4&&(g=n.stateNode,g!=null)){var x=n.memoizedProps,_=l!==null?l.memoizedProps:x,T=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&lt(g,x),li(T,_);var z=li(T,x);for(_=0;_<R.length;_+=2){var te=R[_],se=R[_+1];te==="style"?Ia(g,se):te==="dangerouslySetInnerHTML"?qt(g,se):te==="children"?hr(g,se):N(g,te,se,z)}switch(T){case"input":jt(g,x);break;case"textarea":Fe(g,x);break;case"select":var X=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ve=x.value;ve!=null?G(g,!!x.multiple,ve,!1):X!==!!x.multiple&&(x.defaultValue!=null?G(g,!!x.multiple,x.defaultValue,!0):G(g,!!x.multiple,x.multiple?[]:"",!1))}g[Ti]=x}catch(be){at(n,n.return,be)}}break;case 6:if(Ar(s,n),Yr(n),f&4){if(n.stateNode===null)throw Error(r(162));g=n.stateNode,x=n.memoizedProps;try{g.nodeValue=x}catch(be){at(n,n.return,be)}}break;case 3:if(Ar(s,n),Yr(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{yi(s.containerInfo)}catch(be){at(n,n.return,be)}break;case 4:Ar(s,n),Yr(n);break;case 13:Ar(s,n),Yr(n),g=n.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(vd=ut())),f&4&&yg(n);break;case 22:if(te=l!==null&&l.memoizedState!==null,n.mode&1?($t=(z=$t)||te,Ar(s,n),$t=z):Ar(s,n),Yr(n),f&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!te&&(n.mode&1)!==0)for(xe=n,te=n.child;te!==null;){for(se=xe=te;xe!==null;){switch(X=xe,ve=X.child,X.tag){case 0:case 11:case 14:case 15:zi(4,X,X.return);break;case 1:ho(X,X.return);var we=X.stateNode;if(typeof we.componentWillUnmount=="function"){f=X,l=X.return;try{s=f,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(be){at(f,l,be)}}break;case 5:ho(X,X.return);break;case 22:if(X.memoizedState!==null){Sg(se);continue}}ve!==null?(ve.return=X,xe=ve):Sg(se)}te=te.sibling}e:for(te=null,se=n;;){if(se.tag===5){if(te===null){te=se;try{g=se.stateNode,z?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=se.stateNode,R=se.memoizedProps.style,_=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Ra("display",_))}catch(be){at(n,n.return,be)}}}else if(se.tag===6){if(te===null)try{se.stateNode.nodeValue=z?"":se.memoizedProps}catch(be){at(n,n.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===n)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===n)break e;for(;se.sibling===null;){if(se.return===null||se.return===n)break e;te===se&&(te=null),se=se.return}te===se&&(te=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Ar(s,n),Yr(n),f&4&&yg(n);break;case 21:break;default:Ar(s,n),Yr(n)}}function Yr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(mg(l)){var f=l;break e}l=l.return}throw Error(r(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(hr(g,""),f.flags&=-33);var x=gg(n);pd(n,x,g);break;case 3:case 4:var _=f.stateNode.containerInfo,T=gg(n);hd(n,T,_);break;default:throw Error(r(161))}}catch(R){at(n,n.return,R)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function B1(n,s,l){xe=n,wg(n)}function wg(n,s,l){for(var f=(n.mode&1)!==0;xe!==null;){var g=xe,x=g.child;if(g.tag===22&&f){var _=g.memoizedState!==null||wl;if(!_){var T=g.alternate,R=T!==null&&T.memoizedState!==null||$t;T=wl;var z=$t;if(wl=_,($t=R)&&!z)for(xe=g;xe!==null;)_=xe,R=_.child,_.tag===22&&_.memoizedState!==null?_g(g):R!==null?(R.return=_,xe=R):_g(g);for(;x!==null;)xe=x,wg(x),x=x.sibling;xe=g,wl=T,$t=z}bg(n)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,xe=x):bg(n)}}function bg(n){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:$t||bl(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!$t)if(l===null)f.componentDidMount();else{var g=s.elementType===s.type?l.memoizedProps:Rr(s.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&Sm(s,x,f);break;case 3:var _=s.updateQueue;if(_!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Sm(s,_,l)}break;case 5:var T=s.stateNode;if(l===null&&s.flags&4){l=T;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&l.focus();break;case"img":R.src&&(l.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var te=z.memoizedState;if(te!==null){var se=te.dehydrated;se!==null&&yi(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}$t||s.flags&512&&fd(s)}catch(X){at(s,s.return,X)}}if(s===n){xe=null;break}if(l=s.sibling,l!==null){l.return=s.return,xe=l;break}xe=s.return}}function Sg(n){for(;xe!==null;){var s=xe;if(s===n){xe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,xe=l;break}xe=s.return}}function _g(n){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{bl(4,s)}catch(R){at(s,l,R)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var g=s.return;try{f.componentDidMount()}catch(R){at(s,g,R)}}var x=s.return;try{fd(s)}catch(R){at(s,x,R)}break;case 5:var _=s.return;try{fd(s)}catch(R){at(s,_,R)}}}catch(R){at(s,s.return,R)}if(s===n){xe=null;break}var T=s.sibling;if(T!==null){T.return=s.return,xe=T;break}xe=s.return}}var V1=Math.ceil,Sl=A.ReactCurrentDispatcher,md=A.ReactCurrentOwner,xr=A.ReactCurrentBatchConfig,Ue=0,bt=null,pt=null,Tt=0,cr=0,po=Mn(0),vt=0,Ui=null,Cs=0,_l=0,gd=0,Bi=null,Xt=null,vd=0,mo=1/0,yn=null,Cl=!1,yd=null,Vn=null,El=!1,Wn=null,kl=0,Vi=0,xd=null,jl=-1,Nl=0;function Bt(){return(Ue&6)!==0?ut():jl!==-1?jl:jl=ut()}function Hn(n){return(n.mode&1)===0?1:(Ue&2)!==0&&Tt!==0?Tt&-Tt:k1.transition!==null?(Nl===0&&(Nl=gp()),Nl):(n=qe,n!==0||(n=window.event,n=n===void 0?16:Ep(n.type)),n)}function Or(n,s,l,f){if(50<Vi)throw Vi=0,xd=null,Error(r(185));hi(n,l,f),((Ue&2)===0||n!==bt)&&(n===bt&&((Ue&2)===0&&(_l|=l),vt===4&&qn(n,Tt)),Zt(n,f),l===1&&Ue===0&&(s.mode&1)===0&&(mo=ut()+500,rl&&Fn()))}function Zt(n,s){var l=n.callbackNode;kS(n,s);var f=Ma(n,n===bt?Tt:0);if(f===0)l!==null&&hp(l),n.callbackNode=null,n.callbackPriority=0;else if(s=f&-f,n.callbackPriority!==s){if(l!=null&&hp(l),s===1)n.tag===0?E1(Eg.bind(null,n)):um(Eg.bind(null,n)),b1(function(){(Ue&6)===0&&Fn()}),l=null;else{switch(vp(f)){case 1:l=Xc;break;case 4:l=pp;break;case 16:l=Aa;break;case 536870912:l=mp;break;default:l=Aa}l=Ag(l,Cg.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Cg(n,s){if(jl=-1,Nl=0,(Ue&6)!==0)throw Error(r(327));var l=n.callbackNode;if(go()&&n.callbackNode!==l)return null;var f=Ma(n,n===bt?Tt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||s)s=Tl(n,f);else{s=f;var g=Ue;Ue|=2;var x=jg();(bt!==n||Tt!==s)&&(yn=null,mo=ut()+500,ks(n,s));do try{q1();break}catch(T){kg(n,T)}while(!0);Mu(),Sl.current=x,Ue=g,pt!==null?s=0:(bt=null,Tt=0,s=vt)}if(s!==0){if(s===2&&(g=Zc(n),g!==0&&(f=g,s=wd(n,g))),s===1)throw l=Ui,ks(n,0),qn(n,f),Zt(n,ut()),l;if(s===6)qn(n,f);else{if(g=n.current.alternate,(f&30)===0&&!W1(g)&&(s=Tl(n,f),s===2&&(x=Zc(n),x!==0&&(f=x,s=wd(n,x))),s===1))throw l=Ui,ks(n,0),qn(n,f),Zt(n,ut()),l;switch(n.finishedWork=g,n.finishedLanes=f,s){case 0:case 1:throw Error(r(345));case 2:js(n,Xt,yn);break;case 3:if(qn(n,f),(f&130023424)===f&&(s=vd+500-ut(),10<s)){if(Ma(n,0)!==0)break;if(g=n.suspendedLanes,(g&f)!==f){Bt(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=ku(js.bind(null,n,Xt,yn),s);break}js(n,Xt,yn);break;case 4:if(qn(n,f),(f&4194240)===f)break;for(s=n.eventTimes,g=-1;0<f;){var _=31-Nr(f);x=1<<_,_=s[_],_>g&&(g=_),f&=~x}if(f=g,f=ut()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*V1(f/1960))-f,10<f){n.timeoutHandle=ku(js.bind(null,n,Xt,yn),f);break}js(n,Xt,yn);break;case 5:js(n,Xt,yn);break;default:throw Error(r(329))}}}return Zt(n,ut()),n.callbackNode===l?Cg.bind(null,n):null}function wd(n,s){var l=Bi;return n.current.memoizedState.isDehydrated&&(ks(n,s).flags|=256),n=Tl(n,s),n!==2&&(s=Xt,Xt=l,s!==null&&bd(s)),n}function bd(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function W1(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],x=g.getSnapshot;g=g.value;try{if(!Tr(x(),g))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qn(n,s){for(s&=~gd,s&=~_l,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-Nr(s),f=1<<l;n[l]=-1,s&=~f}}function Eg(n){if((Ue&6)!==0)throw Error(r(327));go();var s=Ma(n,0);if((s&1)===0)return Zt(n,ut()),null;var l=Tl(n,s);if(n.tag!==0&&l===2){var f=Zc(n);f!==0&&(s=f,l=wd(n,f))}if(l===1)throw l=Ui,ks(n,0),qn(n,s),Zt(n,ut()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,js(n,Xt,yn),Zt(n,ut()),null}function Sd(n,s){var l=Ue;Ue|=1;try{return n(s)}finally{Ue=l,Ue===0&&(mo=ut()+500,rl&&Fn())}}function Es(n){Wn!==null&&Wn.tag===0&&(Ue&6)===0&&go();var s=Ue;Ue|=1;var l=xr.transition,f=qe;try{if(xr.transition=null,qe=1,n)return n()}finally{qe=f,xr.transition=l,Ue=s,(Ue&6)===0&&Fn()}}function _d(){cr=po.current,Xe(po)}function ks(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,w1(l)),pt!==null)for(l=pt.return;l!==null;){var f=l;switch(Iu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&el();break;case 3:uo(),Xe(Jt),Xe(Dt),Hu();break;case 5:Vu(f);break;case 4:uo();break;case 13:Xe(st);break;case 19:Xe(st);break;case 10:$u(f.type._context);break;case 22:case 23:_d()}l=l.return}if(bt=n,pt=n=Kn(n.current,null),Tt=cr=s,vt=0,Ui=null,gd=_l=Cs=0,Xt=Bi=null,bs!==null){for(s=0;s<bs.length;s++)if(l=bs[s],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,x=l.pending;if(x!==null){var _=x.next;x.next=g,f.next=_}l.pending=f}bs=null}return n}function kg(n,s){do{var l=pt;try{if(Mu(),fl.current=gl,hl){for(var f=ot.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}hl=!1}if(_s=0,wt=gt=ot=null,Di=!1,Li=0,md.current=null,l===null||l.return===null){vt=1,Ui=s,pt=null;break}e:{var x=n,_=l.return,T=l,R=s;if(s=Tt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,te=T,se=te.tag;if((te.mode&1)===0&&(se===0||se===11||se===15)){var X=te.alternate;X?(te.updateQueue=X.updateQueue,te.memoizedState=X.memoizedState,te.lanes=X.lanes):(te.updateQueue=null,te.memoizedState=null)}var ve=Qm(_);if(ve!==null){ve.flags&=-257,Xm(ve,_,T,x,s),ve.mode&1&&Ym(x,z,s),s=ve,R=z;var we=s.updateQueue;if(we===null){var be=new Set;be.add(R),s.updateQueue=be}else we.add(R);break e}else{if((s&1)===0){Ym(x,z,s),Cd();break e}R=Error(r(426))}}else if(et&&T.mode&1){var dt=Qm(_);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),Xm(dt,_,T,x,s),Du(fo(R,T));break e}}x=R=fo(R,T),vt!==4&&(vt=2),Bi===null?Bi=[x]:Bi.push(x),x=_;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var L=Gm(x,R,s);bm(x,L);break e;case 1:T=R;var O=x.type,F=x.stateNode;if((x.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Vn===null||!Vn.has(F)))){x.flags|=65536,s&=-s,x.lanes|=s;var le=Jm(x,T,s);bm(x,le);break e}}x=x.return}while(x!==null)}Tg(l)}catch(Se){s=Se,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function jg(){var n=Sl.current;return Sl.current=gl,n===null?gl:n}function Cd(){(vt===0||vt===3||vt===2)&&(vt=4),bt===null||(Cs&268435455)===0&&(_l&268435455)===0||qn(bt,Tt)}function Tl(n,s){var l=Ue;Ue|=2;var f=jg();(bt!==n||Tt!==s)&&(yn=null,ks(n,s));do try{H1();break}catch(g){kg(n,g)}while(!0);if(Mu(),Ue=l,Sl.current=f,pt!==null)throw Error(r(261));return bt=null,Tt=0,vt}function H1(){for(;pt!==null;)Ng(pt)}function q1(){for(;pt!==null&&!vS();)Ng(pt)}function Ng(n){var s=Ig(n.alternate,n,cr);n.memoizedProps=n.pendingProps,s===null?Tg(n):pt=s,md.current=null}function Tg(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=$1(l,s,cr),l!==null){pt=l;return}}else{if(l=F1(l,s),l!==null){l.flags&=32767,pt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=n}while(s!==null);vt===0&&(vt=5)}function js(n,s,l){var f=qe,g=xr.transition;try{xr.transition=null,qe=1,K1(n,s,l,f)}finally{xr.transition=g,qe=f}return null}function K1(n,s,l,f){do go();while(Wn!==null);if((Ue&6)!==0)throw Error(r(327));l=n.finishedWork;var g=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var x=l.lanes|l.childLanes;if(jS(n,x),n===bt&&(pt=bt=null,Tt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||El||(El=!0,Ag(Aa,function(){return go(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=xr.transition,xr.transition=null;var _=qe;qe=1;var T=Ue;Ue|=4,md.current=null,U1(n,l),xg(l,n),h1(Cu),za=!!_u,Cu=_u=null,n.current=l,B1(l),yS(),Ue=T,qe=_,xr.transition=x}else n.current=l;if(El&&(El=!1,Wn=n,kl=g),x=n.pendingLanes,x===0&&(Vn=null),bS(l.stateNode),Zt(n,ut()),s!==null)for(f=n.onRecoverableError,l=0;l<s.length;l++)g=s[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(Cl)throw Cl=!1,n=yd,yd=null,n;return(kl&1)!==0&&n.tag!==0&&go(),x=n.pendingLanes,(x&1)!==0?n===xd?Vi++:(Vi=0,xd=n):Vi=0,Fn(),null}function go(){if(Wn!==null){var n=vp(kl),s=xr.transition,l=qe;try{if(xr.transition=null,qe=16>n?16:n,Wn===null)var f=!1;else{if(n=Wn,Wn=null,kl=0,(Ue&6)!==0)throw Error(r(331));var g=Ue;for(Ue|=4,xe=n.current;xe!==null;){var x=xe,_=x.child;if((xe.flags&16)!==0){var T=x.deletions;if(T!==null){for(var R=0;R<T.length;R++){var z=T[R];for(xe=z;xe!==null;){var te=xe;switch(te.tag){case 0:case 11:case 15:zi(8,te,x)}var se=te.child;if(se!==null)se.return=te,xe=se;else for(;xe!==null;){te=xe;var X=te.sibling,ve=te.return;if(pg(te),te===z){xe=null;break}if(X!==null){X.return=ve,xe=X;break}xe=ve}}}var we=x.alternate;if(we!==null){var be=we.child;if(be!==null){we.child=null;do{var dt=be.sibling;be.sibling=null,be=dt}while(be!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&_!==null)_.return=x,xe=_;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:zi(9,x,x.return)}var L=x.sibling;if(L!==null){L.return=x.return,xe=L;break e}xe=x.return}}var O=n.current;for(xe=O;xe!==null;){_=xe;var F=_.child;if((_.subtreeFlags&2064)!==0&&F!==null)F.return=_,xe=F;else e:for(_=O;xe!==null;){if(T=xe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:bl(9,T)}}catch(Se){at(T,T.return,Se)}if(T===_){xe=null;break e}var le=T.sibling;if(le!==null){le.return=T.return,xe=le;break e}xe=T.return}}if(Ue=g,Fn(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Oa,n)}catch{}f=!0}return f}finally{qe=l,xr.transition=s}}return!1}function Pg(n,s,l){s=fo(l,s),s=Gm(n,s,1),n=Un(n,s,1),s=Bt(),n!==null&&(hi(n,1,s),Zt(n,s))}function at(n,s,l){if(n.tag===3)Pg(n,n,l);else for(;s!==null;){if(s.tag===3){Pg(s,n,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vn===null||!Vn.has(f))){n=fo(l,n),n=Jm(s,n,1),s=Un(s,n,1),n=Bt(),s!==null&&(hi(s,1,n),Zt(s,n));break}}s=s.return}}function G1(n,s,l){var f=n.pingCache;f!==null&&f.delete(s),s=Bt(),n.pingedLanes|=n.suspendedLanes&l,bt===n&&(Tt&l)===l&&(vt===4||vt===3&&(Tt&130023424)===Tt&&500>ut()-vd?ks(n,0):gd|=l),Zt(n,s)}function Rg(n,s){s===0&&((n.mode&1)===0?s=1:(s=La,La<<=1,(La&130023424)===0&&(La=4194304)));var l=Bt();n=mn(n,s),n!==null&&(hi(n,s,l),Zt(n,l))}function J1(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Rg(n,l)}function Y1(n,s){var l=0;switch(n.tag){case 13:var f=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(r(314))}f!==null&&f.delete(s),Rg(n,l)}var Ig;Ig=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||Jt.current)Qt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Qt=!1,M1(n,s,l);Qt=(n.flags&131072)!==0}else Qt=!1,et&&(s.flags&1048576)!==0&&dm(s,sl,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;xl(n,s),n=s.pendingProps;var g=no(s,Dt.current);co(s,l),g=Gu(null,s,f,n,g,l);var x=Ju();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Yt(f)?(x=!0,tl(s)):x=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Uu(s),g.updater=vl,s.stateNode=g,g._reactInternals=s,td(s,f,n,l),s=od(null,s,f,!0,x,l)):(s.tag=0,et&&x&&Ru(s),Ut(null,s,g,l),s=s.child),s;case 16:f=s.elementType;e:{switch(xl(n,s),n=s.pendingProps,g=f._init,f=g(f._payload),s.type=f,g=s.tag=X1(f),n=Rr(f,n),g){case 0:s=sd(null,s,f,n,l);break e;case 1:s=sg(null,s,f,n,l);break e;case 11:s=Zm(null,s,f,n,l);break e;case 14:s=eg(null,s,f,Rr(f.type,n),l);break e}throw Error(r(306,f,""))}return s;case 0:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Rr(f,g),sd(n,s,f,g,l);case 1:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Rr(f,g),sg(n,s,f,g,l);case 3:e:{if(og(s),n===null)throw Error(r(387));f=s.pendingProps,x=s.memoizedState,g=x.element,wm(n,s),ul(s,f,null,l);var _=s.memoizedState;if(f=_.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){g=fo(Error(r(423)),s),s=ig(n,s,f,l,g);break e}else if(f!==g){g=fo(Error(r(424)),s),s=ig(n,s,f,l,g);break e}else for(lr=Ln(s.stateNode.containerInfo.firstChild),ar=s,et=!0,Pr=null,l=ym(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(io(),f===g){s=vn(n,s,l);break e}Ut(n,s,f,l)}s=s.child}return s;case 5:return _m(s),n===null&&Ou(s),f=s.type,g=s.pendingProps,x=n!==null?n.memoizedProps:null,_=g.children,Eu(f,g)?_=null:x!==null&&Eu(f,x)&&(s.flags|=32),ng(n,s),Ut(n,s,_,l),s.child;case 6:return n===null&&Ou(s),null;case 13:return ag(n,s,l);case 4:return Bu(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=ao(s,null,f,l):Ut(n,s,f,l),s.child;case 11:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Rr(f,g),Zm(n,s,f,g,l);case 7:return Ut(n,s,s.pendingProps,l),s.child;case 8:return Ut(n,s,s.pendingProps.children,l),s.child;case 12:return Ut(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,g=s.pendingProps,x=s.memoizedProps,_=g.value,Ge(al,f._currentValue),f._currentValue=_,x!==null)if(Tr(x.value,_)){if(x.children===g.children&&!Jt.current){s=vn(n,s,l);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var T=x.dependencies;if(T!==null){_=x.child;for(var R=T.firstContext;R!==null;){if(R.context===f){if(x.tag===1){R=gn(-1,l&-l),R.tag=2;var z=x.updateQueue;if(z!==null){z=z.shared;var te=z.pending;te===null?R.next=R:(R.next=te.next,te.next=R),z.pending=R}}x.lanes|=l,R=x.alternate,R!==null&&(R.lanes|=l),Fu(x.return,l,s),T.lanes|=l;break}R=R.next}}else if(x.tag===10)_=x.type===s.type?null:x.child;else if(x.tag===18){if(_=x.return,_===null)throw Error(r(341));_.lanes|=l,T=_.alternate,T!==null&&(T.lanes|=l),Fu(_,l,s),_=x.sibling}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===s){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}Ut(n,s,g.children,l),s=s.child}return s;case 9:return g=s.type,f=s.pendingProps.children,co(s,l),g=vr(g),f=f(g),s.flags|=1,Ut(n,s,f,l),s.child;case 14:return f=s.type,g=Rr(f,s.pendingProps),g=Rr(f.type,g),eg(n,s,f,g,l);case 15:return tg(n,s,s.type,s.pendingProps,l);case 17:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:Rr(f,g),xl(n,s),s.tag=1,Yt(f)?(n=!0,tl(s)):n=!1,co(s,l),qm(s,f,g),td(s,f,g,l),od(null,s,f,!0,n,l);case 19:return cg(n,s,l);case 22:return rg(n,s,l)}throw Error(r(156,s.tag))};function Ag(n,s){return fp(n,s)}function Q1(n,s,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(n,s,l,f){return new Q1(n,s,l,f)}function Ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function X1(n){if(typeof n=="function")return Ed(n)?1:0;if(n!=null){if(n=n.$$typeof,n===J)return 11;if(n===ge)return 14}return 2}function Kn(n,s){var l=n.alternate;return l===null?(l=wr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Pl(n,s,l,f,g,x){var _=2;if(f=n,typeof n=="function")Ed(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case $:return Ns(l.children,g,x,s);case q:_=8,g|=8;break;case ce:return n=wr(12,l,s,g|2),n.elementType=ce,n.lanes=x,n;case oe:return n=wr(13,l,s,g),n.elementType=oe,n.lanes=x,n;case W:return n=wr(19,l,s,g),n.elementType=W,n.lanes=x,n;case ae:return Rl(l,g,x,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:_=10;break e;case V:_=9;break e;case J:_=11;break e;case ge:_=14;break e;case ie:_=16,f=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=wr(_,l,s,g),s.elementType=n,s.type=f,s.lanes=x,s}function Ns(n,s,l,f){return n=wr(7,n,f,s),n.lanes=l,n}function Rl(n,s,l,f){return n=wr(22,n,f,s),n.elementType=ae,n.lanes=l,n.stateNode={isHidden:!1},n}function kd(n,s,l){return n=wr(6,n,null,s),n.lanes=l,n}function jd(n,s,l){return s=wr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Z1(n,s,l,f,g){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Nd(n,s,l,f,g,x,_,T,R){return n=new Z1(n,s,l,T,R),s===1?(s=1,x===!0&&(s|=8)):s=0,x=wr(3,null,null,s),n.current=x,x.stateNode=n,x.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(x),n}function e_(n,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:f==null?null:""+f,children:n,containerInfo:s,implementation:l}}function Og(n){if(!n)return $n;n=n._reactInternals;e:{if(gs(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Yt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Yt(l))return lm(n,l,s)}return s}function Dg(n,s,l,f,g,x,_,T,R){return n=Nd(l,f,!0,n,g,x,_,T,R),n.context=Og(null),l=n.current,f=Bt(),g=Hn(l),x=gn(f,g),x.callback=s??null,Un(l,x,g),n.current.lanes=g,hi(n,g,f),Zt(n,f),n}function Il(n,s,l,f){var g=s.current,x=Bt(),_=Hn(g);return l=Og(l),s.context===null?s.context=l:s.pendingContext=l,s=gn(x,_),s.payload={element:n},f=f===void 0?null:f,f!==null&&(s.callback=f),n=Un(g,s,_),n!==null&&(Or(n,g,_,x),cl(n,g,_)),_}function Al(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Lg(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Td(n,s){Lg(n,s),(n=n.alternate)&&Lg(n,s)}function t_(){return null}var Mg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pd(n){this._internalRoot=n}Ol.prototype.render=Pd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Il(n,s,null,null)},Ol.prototype.unmount=Pd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Es(function(){Il(null,n,null,null)}),s[dn]=null}};function Ol(n){this._internalRoot=n}Ol.prototype.unstable_scheduleHydration=function(n){if(n){var s=wp();n={blockedOn:null,target:n,priority:s};for(var l=0;l<An.length&&s!==0&&s<An[l].priority;l++);An.splice(l,0,n),l===0&&_p(n)}};function Rd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Dl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $g(){}function r_(n,s,l,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var z=Al(_);x.call(z)}}var _=Dg(s,f,n,0,null,!1,!1,"",$g);return n._reactRootContainer=_,n[dn]=_.current,ji(n.nodeType===8?n.parentNode:n),Es(),_}for(;g=n.lastChild;)n.removeChild(g);if(typeof f=="function"){var T=f;f=function(){var z=Al(R);T.call(z)}}var R=Nd(n,0,!1,null,null,!1,!1,"",$g);return n._reactRootContainer=R,n[dn]=R.current,ji(n.nodeType===8?n.parentNode:n),Es(function(){Il(s,R,l,f)}),R}function Ll(n,s,l,f,g){var x=l._reactRootContainer;if(x){var _=x;if(typeof g=="function"){var T=g;g=function(){var R=Al(_);T.call(R)}}Il(s,_,n,g)}else _=r_(l,s,n,g,f);return Al(_)}yp=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=fi(s.pendingLanes);l!==0&&(tu(s,l|1),Zt(s,ut()),(Ue&6)===0&&(mo=ut()+500,Fn()))}break;case 13:Es(function(){var f=mn(n,1);if(f!==null){var g=Bt();Or(f,n,1,g)}}),Td(n,1)}},ru=function(n){if(n.tag===13){var s=mn(n,134217728);if(s!==null){var l=Bt();Or(s,n,134217728,l)}Td(n,134217728)}},xp=function(n){if(n.tag===13){var s=Hn(n),l=mn(n,s);if(l!==null){var f=Bt();Or(l,n,s,f)}Td(n,s)}},wp=function(){return qe},bp=function(n,s){var l=qe;try{return qe=n,s()}finally{qe=l}},ui=function(n,s,l){switch(s){case"input":if(jt(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==n&&f.form===n.form){var g=Za(f);if(!g)throw Error(r(90));Te(f),jt(f,g)}}}break;case"textarea":Fe(n,l);break;case"select":s=l.value,s!=null&&G(n,!!l.multiple,s,!1)}},zt=Sd,At=Es;var n_={usingClientEntryPoint:!1,Events:[Pi,to,Za,It,Er,Sd]},Wi={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s_={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=up(n),n===null?null:n.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||t_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Oa=Ml.inject(s_),qr=Ml}catch{}}return er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_,er.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rd(s))throw Error(r(200));return e_(n,s,null,l)},er.createRoot=function(n,s){if(!Rd(n))throw Error(r(299));var l=!1,f="",g=Mg;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=Nd(n,1,!1,null,null,l,!1,f,g),n[dn]=s.current,ji(n.nodeType===8?n.parentNode:n),new Pd(s)},er.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=up(s),n=n===null?null:n.stateNode,n},er.flushSync=function(n){return Es(n)},er.hydrate=function(n,s,l){if(!Dl(s))throw Error(r(200));return Ll(null,n,s,!0,l)},er.hydrateRoot=function(n,s,l){if(!Rd(n))throw Error(r(405));var f=l!=null&&l.hydratedSources||null,g=!1,x="",_=Mg;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),s=Dg(s,null,n,1,l??null,g,!1,x,_),n[dn]=s.current,ji(n),f)for(n=0;n<f.length;n++)l=f[n],g=l._getVersion,g=g(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,g]:s.mutableSourceEagerHydrationData.push(l,g);return new Ol(s)},er.render=function(n,s,l){if(!Dl(s))throw Error(r(200));return Ll(null,n,s,!1,l)},er.unmountComponentAtNode=function(n){if(!Dl(n))throw Error(r(40));return n._reactRootContainer?(Es(function(){Ll(null,null,n,!1,function(){n._reactRootContainer=null,n[dn]=null})}),!0):!1},er.unstable_batchedUpdates=Sd,er.unstable_renderSubtreeIntoContainer=function(n,s,l,f){if(!Dl(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Ll(n,s,l,!1,f)},er.version="18.3.1-next-f1338f8080-20240426",er}var Kg;function Ty(){if(Kg)return Od.exports;Kg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Od.exports=m_(),Od.exports}var Gg;function g_(){if(Gg)return $l;Gg=1;var e=Ty();return $l.createRoot=e.createRoot,$l.hydrateRoot=e.hydrateRoot,$l}var v_=g_();const y_=wc(v_);var zr=Ty();const x_=wc(zr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ia.apply(this,arguments)}var ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ss||(ss={}));const Jg="popstate";function w_(e){e===void 0&&(e={});function t(o,i){let{pathname:a,search:c,hash:d}=o.location;return mf("",{pathname:a,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(o,i){return typeof i=="string"?i:oc(i)}return S_(t,r,null,e)}function ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Py(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b_(){return Math.random().toString(36).substr(2,8)}function Yg(e,t){return{usr:e.state,key:e.key,idx:t}}function mf(e,t,r,o){return r===void 0&&(r=null),ia({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ko(t):t,{state:r,key:t&&t.key||o||b_()})}function oc(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Ko(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function S_(e,t,r,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:a=!1}=o,c=i.history,d=ss.Pop,h=null,p=v();p==null&&(p=0,c.replaceState(ia({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function y(){d=ss.Pop;let C=v(),k=C==null?null:C-p;p=C,h&&h({action:d,location:b.location,delta:k})}function w(C,k){d=ss.Push;let j=mf(b.location,C,k);p=v()+1;let N=Yg(j,p),A=b.createHref(j);try{c.pushState(N,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}a&&h&&h({action:d,location:b.location,delta:1})}function S(C,k){d=ss.Replace;let j=mf(b.location,C,k);p=v();let N=Yg(j,p),A=b.createHref(j);c.replaceState(N,"",A),a&&h&&h({action:d,location:b.location,delta:0})}function E(C){let k=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof C=="string"?C:oc(C);return j=j.replace(/ $/,"%20"),ft(k,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,k)}let b={get action(){return d},get location(){return e(i,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Jg,y),h=C,()=>{i.removeEventListener(Jg,y),h=null}},createHref(C){return t(i,C)},createURL:E,encodeLocation(C){let k=E(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:w,replace:S,go(C){return c.go(C)}};return b}var Qg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qg||(Qg={}));function __(e,t,r){return r===void 0&&(r="/"),C_(e,t,r)}function C_(e,t,r,o){let i=typeof t=="string"?Ko(t):t,a=nh(i.pathname||"/",r);if(a==null)return null;let c=Ry(e);E_(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=M_(a);d=O_(c[h],p)}return d}function Ry(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let i=(a,c,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};h.relativePath.startsWith("/")&&(ft(h.relativePath.startsWith(o),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(o.length));let p=os([o,h.relativePath]),v=r.concat(h);a.children&&a.children.length>0&&(ft(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Ry(a.children,t,v,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:I_(p,a.index),routesMeta:v})};return e.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,c);else for(let h of Iy(a.path))i(a,c,h)}),t}function Iy(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(o.length===0)return i?[a,""]:[a];let c=Iy(o.join("/")),d=[];return d.push(...c.map(h=>h===""?a:[a,h].join("/"))),i&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function E_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:A_(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const k_=/^:[\w-]+$/,j_=3,N_=2,T_=1,P_=10,R_=-2,Xg=e=>e==="*";function I_(e,t){let r=e.split("/"),o=r.length;return r.some(Xg)&&(o+=R_),t&&(o+=N_),r.filter(i=>!Xg(i)).reduce((i,a)=>i+(k_.test(a)?j_:a===""?T_:P_),o)}function A_(e,t){return e.length===t.length&&e.slice(0,-1).every((o,i)=>o===t[i])?e[e.length-1]-t[t.length-1]:0}function O_(e,t,r){let{routesMeta:o}=e,i={},a="/",c=[];for(let d=0;d<o.length;++d){let h=o[d],p=d===o.length-1,v=a==="/"?t:t.slice(a.length)||"/",y=D_({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),w=h.route;if(!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:os([a,y.pathname]),pathnameBase:U_(os([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=os([a,y.pathnameBase]))}return c}function D_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=L_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:o.reduce((p,v,y)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let b=d[y]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const E=d[y];return S&&!E?p[w]=void 0:p[w]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function L_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Py(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(o.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),o]}function M_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Py(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function $_(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:i=""}=typeof e=="string"?Ko(e):e;return{pathname:r?r.startsWith("/")?r:F_(r,t):t,search:B_(o),hash:V_(i)}}function F_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Md(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sh(e,t){let r=z_(e);return t?r.map((o,i)=>i===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function oh(e,t,r,o){o===void 0&&(o=!1);let i;typeof e=="string"?i=Ko(e):(i=ia({},e),ft(!i.pathname||!i.pathname.includes("?"),Md("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Md("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Md("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=r;else{let y=t.length-1;if(!o&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}d=y>=0?t[y]:"/"}let h=$_(i,d),p=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const os=e=>e.join("/").replace(/\/\/+/g,"/"),U_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function W_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ay=["post","put","patch","delete"];new Set(Ay);const H_=["get",...Ay];new Set(H_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},aa.apply(this,arguments)}const ih=m.createContext(null),q_=m.createContext(null),fs=m.createContext(null),bc=m.createContext(null),jn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Oy=m.createContext(null);function K_(e,t){let{relative:r}=t===void 0?{}:t;Go()||ft(!1);let{basename:o,navigator:i}=m.useContext(fs),{hash:a,pathname:c,search:d}=My(e,{relative:r}),h=c;return o!=="/"&&(h=c==="/"?o:os([o,c])),i.createHref({pathname:h,search:d,hash:a})}function Go(){return m.useContext(bc)!=null}function Vs(){return Go()||ft(!1),m.useContext(bc).location}function Dy(e){m.useContext(fs).static||m.useLayoutEffect(e)}function on(){let{isDataRoute:e}=m.useContext(jn);return e?iC():G_()}function G_(){Go()||ft(!1);let e=m.useContext(ih),{basename:t,future:r,navigator:o}=m.useContext(fs),{matches:i}=m.useContext(jn),{pathname:a}=Vs(),c=JSON.stringify(sh(i,r.v7_relativeSplatPath)),d=m.useRef(!1);return Dy(()=>{d.current=!0}),m.useCallback(function(p,v){if(v===void 0&&(v={}),!d.current)return;if(typeof p=="number"){o.go(p);return}let y=oh(p,JSON.parse(c),a,v.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:os([t,y.pathname])),(v.replace?o.replace:o.push)(y,v.state,v)},[t,o,c,a,e])}function Ly(){let{matches:e}=m.useContext(jn),t=e[e.length-1];return t?t.params:{}}function My(e,t){let{relative:r}=t===void 0?{}:t,{future:o}=m.useContext(fs),{matches:i}=m.useContext(jn),{pathname:a}=Vs(),c=JSON.stringify(sh(i,o.v7_relativeSplatPath));return m.useMemo(()=>oh(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function J_(e,t){return Y_(e,t)}function Y_(e,t,r,o){Go()||ft(!1);let{navigator:i,static:a}=m.useContext(fs),{matches:c}=m.useContext(jn),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let v=Vs(),y;if(t){var w;let k=typeof t=="string"?Ko(t):t;p==="/"||(w=k.pathname)!=null&&w.startsWith(p)||ft(!1),y=k}else y=v;let S=y.pathname||"/",E=S;if(p!=="/"){let k=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let b=__(e,{pathname:E}),C=tC(b&&b.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:os([p,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:os([p,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,r,o);return t&&C?m.createElement(bc.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ss.Pop}},C):C}function Q_(){let e=oC(),t=W_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,null)}const X_=m.createElement(Q_,null);class Z_ extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(jn.Provider,{value:this.props.routeContext},m.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eC(e){let{routeContext:t,match:r,children:o}=e,i=m.useContext(ih);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(jn.Provider,{value:t},o)}function tC(e,t,r,o){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=o)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,d=(i=r)==null?void 0:i.errors;if(d!=null){let v=c.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);v>=0||ft(!1),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,p=-1;if(r&&o&&o.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=v),y.route.id){let{loaderData:w,errors:S}=r,E=y.route.loader&&w[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||E){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,y,w)=>{let S,E=!1,b=null,C=null;r&&(S=d&&y.route.id?d[y.route.id]:void 0,b=y.route.errorElement||X_,h&&(p<0&&w===0?(aC("route-fallback"),E=!0,C=null):p===w&&(E=!0,C=y.route.hydrateFallbackElement||null)));let k=t.concat(c.slice(0,w+1)),j=()=>{let N;return S?N=b:E?N=C:y.route.Component?N=m.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=v,m.createElement(eC,{match:y,routeContext:{outlet:v,matches:k,isDataRoute:r!=null},children:N})};return r&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?m.createElement(Z_,{location:r.location,revalidation:r.revalidation,component:b,error:S,children:j(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):j()},null)}var $y=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($y||{}),Fy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fy||{});function rC(e){let t=m.useContext(ih);return t||ft(!1),t}function nC(e){let t=m.useContext(q_);return t||ft(!1),t}function sC(e){let t=m.useContext(jn);return t||ft(!1),t}function zy(e){let t=sC(),r=t.matches[t.matches.length-1];return r.route.id||ft(!1),r.route.id}function oC(){var e;let t=m.useContext(Oy),r=nC(),o=zy();return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function iC(){let{router:e}=rC($y.UseNavigateStable),t=zy(Fy.UseNavigateStable),r=m.useRef(!1);return Dy(()=>{r.current=!0}),m.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,aa({fromRouteId:t},a)))},[e,t])}const Zg={};function aC(e,t,r){Zg[e]||(Zg[e]=!0)}function lC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Uy(e){let{to:t,replace:r,state:o,relative:i}=e;Go()||ft(!1);let{future:a,static:c}=m.useContext(fs),{matches:d}=m.useContext(jn),{pathname:h}=Vs(),p=on(),v=oh(t,sh(d,a.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(v);return m.useEffect(()=>p(JSON.parse(y),{replace:r,state:o,relative:i}),[p,y,i,r,o]),null}function Dr(e){ft(!1)}function cC(e){let{basename:t="/",children:r=null,location:o,navigationType:i=ss.Pop,navigator:a,static:c=!1,future:d}=e;Go()&&ft(!1);let h=t.replace(/^\/*/,"/"),p=m.useMemo(()=>({basename:h,navigator:a,static:c,future:aa({v7_relativeSplatPath:!1},d)}),[h,d,a,c]);typeof o=="string"&&(o=Ko(o));let{pathname:v="/",search:y="",hash:w="",state:S=null,key:E="default"}=o,b=m.useMemo(()=>{let C=nh(v,h);return C==null?null:{location:{pathname:C,search:y,hash:w,state:S,key:E},navigationType:i}},[h,v,y,w,S,E,i]);return b==null?null:m.createElement(fs.Provider,{value:p},m.createElement(bc.Provider,{children:r,value:b}))}function uC(e){let{children:t,location:r}=e;return J_(gf(t),r)}new Promise(()=>{});function gf(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(o,i)=>{if(!m.isValidElement(o))return;let a=[...t,i];if(o.type===m.Fragment){r.push.apply(r,gf(o.props.children,a));return}o.type!==Dr&&ft(!1),!o.props.index||!o.props.children||ft(!1);let c={id:o.props.id||a.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=gf(o.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},vf.apply(this,arguments)}function dC(e,t){if(e==null)return{};var r={},o=Object.keys(e),i,a;for(a=0;a<o.length;a++)i=o[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function fC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hC(e,t){return e.button===0&&(!t||t==="_self")&&!fC(e)}const pC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mC="6";try{window.__reactRouterVersion=mC}catch{}const gC="startTransition",ev=Ny[gC];function vC(e){let{basename:t,children:r,future:o,window:i}=e,a=m.useRef();a.current==null&&(a.current=w_({window:i,v5Compat:!0}));let c=a.current,[d,h]=m.useState({action:c.action,location:c.location}),{v7_startTransition:p}=o||{},v=m.useCallback(y=>{p&&ev?ev(()=>h(y)):h(y)},[h,p]);return m.useLayoutEffect(()=>c.listen(v),[c,v]),m.useEffect(()=>lC(o),[o]),m.createElement(cC,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:c,future:o})}const yC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wC=m.forwardRef(function(t,r){let{onClick:o,relative:i,reloadDocument:a,replace:c,state:d,target:h,to:p,preventScrollReset:v,viewTransition:y}=t,w=dC(t,pC),{basename:S}=m.useContext(fs),E,b=!1;if(typeof p=="string"&&xC.test(p)&&(E=p,yC))try{let N=new URL(window.location.href),A=p.startsWith("//")?new URL(N.protocol+p):new URL(p),D=nh(A.pathname,S);A.origin===N.origin&&D!=null?p=D+A.search+A.hash:b=!0}catch{}let C=K_(p,{relative:i}),k=bC(p,{replace:c,state:d,target:h,preventScrollReset:v,relative:i,viewTransition:y});function j(N){o&&o(N),N.defaultPrevented||k(N)}return m.createElement("a",vf({},w,{href:E||C,onClick:b||a?o:j,ref:r,target:h}))});var tv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tv||(tv={}));var rv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rv||(rv={}));function bC(e,t){let{target:r,replace:o,state:i,preventScrollReset:a,relative:c,viewTransition:d}=t===void 0?{}:t,h=on(),p=Vs(),v=My(e,{relative:c});return m.useCallback(y=>{if(hC(y,r)){y.preventDefault();let w=o!==void 0?o:oc(p)===oc(v);h(e,{replace:w,state:i,preventScrollReset:a,relative:c,viewTransition:d})}},[p,h,v,o,i,r,e,a,c,d])}const SC="modulepreload",_C=function(e){return"/"+e},nv={},$o=function(t,r,o){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.allSettled(r.map(h=>{if(h=_C(h),h in nv)return;nv[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":SC,p||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((w,S)=>{y.addEventListener("load",w),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return t().catch(a)})},CC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:o}=await Promise.resolve().then(()=>Jo);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)};class ah extends Error{constructor(t,r="FunctionsError",o){super(t),this.name=r,this.context=o}}class EC extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kC extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jC extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yf||(yf={}));var NC=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};class TC{constructor(t,{headers:r={},customFetch:o,region:i=yf.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=CC(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var o;return NC(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:c}=r;let d={},{region:h}=r;h||(h=this.region),h&&h!=="any"&&(d["x-region"]=h);let p;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(d["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(d["Content-Type"]="application/json",p=JSON.stringify(c)));const v=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p}).catch(E=>{throw new EC(E)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new kC(v);if(!v.ok)throw new jC(v);let w=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield v.json():w==="application/octet-stream"?S=yield v.blob():w==="text/event-stream"?S=v:w==="multipart/form-data"?S=yield v.formData():S=yield v.text(),{data:S,error:null}}catch(i){return{data:null,error:i}}})}}var _t={},vo={},yo={},xo={},wo={},bo={},PC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fo=PC();const RC=Fo.fetch,By=Fo.fetch.bind(Fo),Vy=Fo.Headers,IC=Fo.Request,AC=Fo.Response,Jo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vy,Request:IC,Response:AC,default:By,fetch:RC},Symbol.toStringTag,{value:"Module"})),OC=c_(Jo);var Fl={},sv;function Wy(){if(sv)return Fl;sv=1,Object.defineProperty(Fl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Fl.default=e,Fl}var ov;function Hy(){if(ov)return bo;ov=1;var e=bo&&bo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(OC),r=e(Wy());class o{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,c){return this.headers=Object.assign({},this.headers),this.headers[a]=c,this}then(a,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,y,w;let S=null,E=null,b=null,C=p.status,k=p.statusText;if(p.ok){if(this.method!=="HEAD"){const D=await p.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=D:E=JSON.parse(D))}const N=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),A=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");N&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,b=null,C=406,k="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const N=await p.text();try{S=JSON.parse(N),Array.isArray(S)&&p.status===404&&(E=[],S=null,C=200,k="OK")}catch{p.status===404&&N===""?(C=204,k="No Content"):S={message:N}}if(S&&this.isMaybeSingle&&(!((w=S==null?void 0:S.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,C=200,k="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:E,count:b,status:C,statusText:k}});return this.shouldThrowOnError||(h=h.catch(p=>{var v,y,w;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=p==null?void 0:p.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),h.then(a,c)}returns(){return this}overrideTypes(){return this}}return bo.default=o,bo}var iv;function qy(){if(iv)return wo;iv=1;var e=wo&&wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(Hy());class r extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var v;const y=[i?"analyze":null,a?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${w}"; options=${y};`,p==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return wo.default=r,wo}var av;function lh(){if(av)return xo;av=1;var e=xo&&xo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(qy());class r extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const c=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${h}fts${p}.${a}`),this}match(i){return Object.entries(i).forEach(([a,c])=>{this.url.searchParams.append(a,`eq.${c}`)}),this}not(i,a,c){return this.url.searchParams.append(i,`not.${a}.${c}`),this}or(i,{foreignTable:a,referencedTable:c=a}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,a,c){return this.url.searchParams.append(i,`${a}.${c}`),this}}return xo.default=r,xo}var lv;function Ky(){if(lv)return yo;lv=1;var e=yo&&yo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(lh());class r{constructor(i,{headers:a={},schema:c,fetch:d}){this.url=i,this.headers=a,this.schema=c,this.fetch=d}select(i,{head:a=!1,count:c}={}){const d=a?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",p),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:c=!0}={}){const d="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push(`count=${a}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(i)){const p=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){const p="POST",v=[`resolution=${c?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&v.push(this.headers.Prefer),d&&v.push(`count=${d}`),h||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(i)){const y=i.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(y.length>0){const w=[...new Set(y)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const c="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),this.headers.Prefer=d.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",c=[];return i&&c.push(`count=${i}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yo.default=r,yo}var qi={},Ki={},cv;function DC(){return cv||(cv=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.version=void 0,Ki.version="0.0.0-automated"),Ki}var uv;function LC(){if(uv)return qi;uv=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.DEFAULT_HEADERS=void 0;const e=DC();return qi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},qi}var dv;function MC(){if(dv)return vo;dv=1;var e=vo&&vo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vo,"__esModule",{value:!0});const t=e(Ky()),r=e(lh()),o=LC();class i{constructor(c,{headers:d={},schema:h,fetch:p}={}){this.url=c,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),d),this.schemaName=h,this.fetch=p}from(c){const d=new URL(`${this.url}/${c}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:p=!1,count:v}={}){let y;const w=new URL(`${this.url}/rpc/${c}`);let S;h||p?(y=h?"HEAD":"GET",Object.entries(d).filter(([b,C])=>C!==void 0).map(([b,C])=>[b,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([b,C])=>{w.searchParams.append(b,C)})):(y="POST",S=d);const E=Object.assign({},this.headers);return v&&(E.Prefer=`count=${v}`),new r.default({method:y,url:w,headers:E,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return vo.default=i,vo}var fv;function $C(){if(fv)return _t;fv=1;var e=_t&&_t.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const t=e(MC());_t.PostgrestClient=t.default;const r=e(Ky());_t.PostgrestQueryBuilder=r.default;const o=e(lh());_t.PostgrestFilterBuilder=o.default;const i=e(qy());_t.PostgrestTransformBuilder=i.default;const a=e(Hy());_t.PostgrestBuilder=a.default;const c=e(Wy());return _t.PostgrestError=c.default,_t.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},_t}var FC=$C();const zC=wc(FC),{PostgrestClient:UC,PostgrestQueryBuilder:qA,PostgrestFilterBuilder:KA,PostgrestTransformBuilder:GA,PostgrestBuilder:JA,PostgrestError:YA}=zC,BC="2.11.2",VC={"X-Client-Info":`realtime-js/${BC}`},WC="1.0.0",Gy=1e4,HC=1e3;var Ao;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ao||(Ao={}));var ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ur||(ur={}));var Mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mr||(Mr={}));var xf;(function(e){e.websocket="websocket"})(xf||(xf={}));var Rs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rs||(Rs={}));class qC{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),o=new TextDecoder;return this._decodeBroadcast(t,r,o)}_decodeBroadcast(t,r,o){const i=r.getUint8(1),a=r.getUint8(2);let c=this.HEADER_LENGTH+2;const d=o.decode(t.slice(c,c+i));c=c+i;const h=o.decode(t.slice(c,c+a));c=c+a;const p=JSON.parse(o.decode(t.slice(c,t.byteLength)));return{ref:null,topic:d,event:h,payload:p}}}class Jy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Je||(Je={}));const hv=(e,t,r={})=>{var o;const i=(o=r.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(t).reduce((a,c)=>(a[c]=KC(c,e,t,i),a),{})},KC=(e,t,r,o)=>{const i=t.find(d=>d.name===e),a=i==null?void 0:i.type,c=r[e];return a&&!o.includes(a)?Yy(a,c):wf(c)},Yy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return QC(t,r)}switch(e){case Je.bool:return GC(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return JC(t);case Je.json:case Je.jsonb:return YC(t);case Je.timestamp:return XC(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return wf(t);default:return wf(t)}},wf=e=>e,GC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},JC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QC=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,o=e[r];if(e[0]==="{"&&o==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(d=>Yy(t,d))}return e},XC=e=>typeof e=="string"?e.replace(" ","T"):e,Qy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $d{constructor(t,r,o={},i=Gy){this.channel=t,this.event=r,this.payload=o,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var o;return this._hasReceived(t)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pv||(pv={}));class ea{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ea.syncState(this.state,i,a,c),this.pendingDiffs.forEach(h=>{this.state=ea.syncDiff(this.state,h,a,c)}),this.pendingDiffs=[],d()}),this.channel._on(o.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ea.syncDiff(this.state,i,a,c),d())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,o,i){const a=this.cloneDeep(t),c=this.transformState(r),d={},h={};return this.map(a,(p,v)=>{c[p]||(h[p]=v)}),this.map(c,(p,v)=>{const y=a[p];if(y){const w=v.map(C=>C.presence_ref),S=y.map(C=>C.presence_ref),E=v.filter(C=>S.indexOf(C.presence_ref)<0),b=y.filter(C=>w.indexOf(C.presence_ref)<0);E.length>0&&(d[p]=E),b.length>0&&(h[p]=b)}else d[p]=v}),this.syncDiff(a,{joins:d,leaves:h},o,i)}static syncDiff(t,r,o,i){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),i||(i=()=>{}),this.map(a,(d,h)=>{var p;const v=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(h),v.length>0){const y=t[d].map(S=>S.presence_ref),w=v.filter(S=>y.indexOf(S.presence_ref)<0);t[d].unshift(...w)}o(d,v,h)}),this.map(c,(d,h)=>{let p=t[d];if(!p)return;const v=h.map(y=>y.presence_ref);p=p.filter(y=>v.indexOf(y.presence_ref)<0),t[d]=p,i(d,p,h),p.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(o=>r(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,o)=>{const i=t[o];return"metas"in i?r[o]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[o]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mv||(mv={}));var gv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gv||(gv={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class ch{constructor(t,r={config:{}},o){this.topic=t,this.params=r,this.socket=o,this.bindings={},this.state=ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $d(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ur.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ea(this),this.broadcastEndpointURL=Qy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var o,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:c,private:d}}=this.params;this._onError(v=>t==null?void 0:t(wn.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(wn.CLOSED));const h={},p={broadcast:a,presence:c,postgres_changes:(i=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&i!==void 0?i:[],private:d};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(wn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,E=[];for(let b=0;b<S;b++){const C=w[b],{filter:{event:k,schema:j,table:N,filter:A}}=C,D=v&&v[b];if(D&&D.event===k&&D.schema===j&&D.table===N&&D.filter===A)E.push(Object.assign(Object.assign({},C),{id:D.id}));else{this.unsubscribe(),t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t(wn.SUBSCRIBED);return}}).receive("error",v=>{t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,o){return this._on(t,r,o)}async send(t,r={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,d,h;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const i=new $d(this,Mr.leave,{},t);i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,o){const i=new AbortController,a=setTimeout(()=>i.abort(),o),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),c}_push(t,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $d(this,t,r,o);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,o){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,o){var i,a;const c=t.toLocaleLowerCase(),{close:d,error:h,leave:p,join:v}=Mr;if(o&&[d,h,p,v].indexOf(c)>=0&&o!==this._joinRef())return;let w=this._onMessage(c,r,o);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var E,b,C;return((E=S.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(b=S.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(S=>S.callback(w,o)):(a=this.bindings[c])===null||a===void 0||a.filter(S=>{var E,b,C,k,j,N;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const A=S.id,D=(E=S.filter)===null||E===void 0?void 0:E.event;return A&&((b=r.ids)===null||b===void 0?void 0:b.includes(A))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const A=(j=(k=S==null?void 0:S.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:b,table:C,commit_timestamp:k,type:j,errors:N}=E;w=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:k,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(E))}S.callback(w,o)})}_isClosed(){return this.state===ur.closed}_isJoined(){return this.state===ur.joined}_isJoining(){return this.state===ur.joining}_isLeaving(){return this.state===ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,o){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:o};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const o=t.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===o&&ch.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const o in t)if(t[o]!==r[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mr.close,{},t)}_onError(t){this._on(Mr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hv(t.columns,t.old_record)),r}}const ZC=()=>{},eE=typeof WebSocket<"u",tE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rE{constructor(t,r){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=VC,this.params={},this.timeout=Gy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ZC,this.conn=null,this.sendBuffer=[],this.serializer=new qC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...d)=>$o(async()=>{const{default:h}=await Promise.resolve().then(()=>Jo);return{default:h}},void 0).then(({default:h})=>h(...d)):c=fetch,(...d)=>c(...d)},this.endPoint=`${t}/${xf.websocket}`,this.httpEndpoint=Qy(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(o=r==null?void 0:r.params)===null||o===void 0?void 0:o.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,c)=>c(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eE){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new nE(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$o(async()=>{const{default:t}=await import("./browser-C5r5GUfW.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WC}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,o){this.logger(t,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ao.connecting:return Rs.Connecting;case Ao.open:return Rs.Open;case Ao.closing:return Rs.Closing;default:return Rs.Closed}}isConnected(){return this.connectionState()===Rs.Open}channel(t,r={config:{}}){const o=new ch(`realtime:${t}`,r,this);return this.channels.push(o),o}push(t){const{topic:r,event:o,payload:i,ref:a}=t,c=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${o} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let o=null;try{o=JSON.parse(atob(r.split(".")[1]))}catch{}if(o&&o.exp&&!(Math.floor(Date.now()/1e3)-o.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(Mr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(HC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:o,event:i,payload:a,ref:c}=r;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${o} ${i} ${c&&"("+c+")"||""}`,a),this.channels.filter(d=>d._isMember(o)).forEach(d=>d._trigger(i,a,c)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const o=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${o}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const o=new Blob([tE],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}}class nE{constructor(t,r,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ao.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=o.close}}class uh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sE extends uh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class bf extends uh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var oE=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};const Xy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:o}=await Promise.resolve().then(()=>Jo);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},iE=()=>oE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $o(()=>Promise.resolve().then(()=>Jo),void 0)).Response:Response}),Sf=e=>{if(Array.isArray(e))return e.map(r=>Sf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,o])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Sf(o)}),t};var Ws=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};const Fd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aE=(e,t,r)=>Ws(void 0,void 0,void 0,function*(){const o=yield iE();e instanceof o&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new sE(Fd(i),e.status||500))}).catch(i=>{t(new bf(Fd(i),i))}):t(new bf(Fd(e),e))}),lE=(e,t,r,o)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o&&(i.body=JSON.stringify(o)),Object.assign(Object.assign({},i),r))};function va(e,t,r,o,i,a){return Ws(this,void 0,void 0,function*(){return new Promise((c,d)=>{e(r,lE(t,o,i,a)).then(h=>{if(!h.ok)throw h;return o!=null&&o.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>aE(h,d,o))})})}function ic(e,t,r,o){return Ws(this,void 0,void 0,function*(){return va(e,"GET",t,r,o)})}function ts(e,t,r,o,i){return Ws(this,void 0,void 0,function*(){return va(e,"POST",t,o,i,r)})}function cE(e,t,r,o,i){return Ws(this,void 0,void 0,function*(){return va(e,"PUT",t,o,i,r)})}function uE(e,t,r,o){return Ws(this,void 0,void 0,function*(){return va(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function Zy(e,t,r,o,i){return Ws(this,void 0,void 0,function*(){return va(e,"DELETE",t,o,i,r)})}var tr=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};const dE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fE{constructor(t,r={},o,i){this.url=t,this.headers=r,this.bucketId=o,this.fetch=Xy(i)}uploadOrUpdate(t,r,o,i){return tr(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},vv),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&o instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",o)):typeof FormData<"u"&&o instanceof FormData?(a=o,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=o,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),y=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:t,body:a,headers:d},c!=null&&c.duplex?{duplex:c.duplex}:{})),w=yield y.json();return y.ok?{data:{path:p,id:w.Id,fullPath:w.Key},error:null}:{data:null,error:w}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}upload(t,r,o){return tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,o)})}uploadToSignedUrl(t,r,o,i){return tr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:vv.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&o instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",o)):typeof FormData<"u"&&o instanceof FormData?(h=o,h.append("cacheControl",p.cacheControl)):(h=o,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const y=yield this.fetch(d.toString(),{method:"PUT",body:h,headers:v}),w=yield y.json();return y.ok?{data:{path:a,fullPath:w.Key},error:null}:{data:null,error:w}}catch(h){if(Ct(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return tr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield ts(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:i}),c=new URL(this.url+a.url),d=c.searchParams.get("token");if(!d)throw new uh("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:d},error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}update(t,r,o){return tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,o)})}move(t,r,o){return tr(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}copy(t,r,o){return tr(this,void 0,void 0,function*(){try{return{data:{path:(yield ts(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,o){return tr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield ts(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,o){return tr(this,void 0,void 0,function*(){try{const i=yield ts(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}download(t,r){return tr(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=a?`?${a}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield ic(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Ct(d))return{data:null,error:d};throw d}})}info(t){return tr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const o=yield ic(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sf(o),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}exists(t){return tr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uE(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ct(o)&&o instanceof bf){const i=o.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:o}}throw o}})}getPublicUrl(t,r){const o=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const d=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${o}${p}`)}}}remove(t){return tr(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}list(t,r,o){return tr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dE),r),{prefix:t||""});return{data:yield ts(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hE="2.7.1",pE={"X-Client-Info":`storage-js/${hE}`};var So=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};class mE{constructor(t,r={},o){this.url=t,this.headers=Object.assign(Object.assign({},pE),r),this.fetch=Xy(o)}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ct(t))return{data:null,error:t};throw t}})}getBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield ic(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return So(this,void 0,void 0,function*(){try{return{data:yield cE(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}})}emptyBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield ts(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield Zy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}}class gE extends mE{constructor(t,r={},o){super(t,r,o)}from(t){return new fE(this.url,this.headers,t,this.fetch)}}const vE="2.49.1";let Qi="";typeof Deno<"u"?Qi="deno":typeof document<"u"?Qi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qi="react-native":Qi="node";const yE={"X-Client-Info":`supabase-js-${Qi}/${vE}`},xE={headers:yE},wE={schema:"public"},bE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},SE={};var _E=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};const CE=e=>{let t;return e?t=e:typeof fetch>"u"?t=By:t=fetch,(...r)=>t(...r)},EE=()=>typeof Headers>"u"?Vy:Headers,kE=(e,t,r)=>{const o=CE(r),i=EE();return(a,c)=>_E(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let p=new i(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),o(a,Object.assign(Object.assign({},c),{headers:p}))})};var jE=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};function NE(e){return e.replace(/\/$/,"")}function TE(e,t){const{db:r,auth:o,realtime:i,global:a}=e,{db:c,auth:d,realtime:h,global:p}=t,v={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},h),i),global:Object.assign(Object.assign({},p),a),accessToken:()=>jE(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const e0="2.68.0",No=30*1e3,_f=3,zd=_f*No,PE="http://localhost:9999",RE="supabase.auth.token",IE={"X-Client-Info":`gotrue-js/${e0}`},Cf="X-Supabase-Api-Version",t0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function AE(e){return Math.round(Date.now()/1e3)+e}function OE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qr=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},ta=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function DE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((o,i)=>{t[i]=o}),t}const r0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:o}=await Promise.resolve().then(()=>Jo);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},LE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",n0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ul=async(e,t)=>{await e.removeItem(t)};function ME(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",o,i,a,c,d,h,p,v=0;for(e=e.replace("-","+").replace("_","/");v<e.length;)c=t.indexOf(e.charAt(v++)),d=t.indexOf(e.charAt(v++)),h=t.indexOf(e.charAt(v++)),p=t.indexOf(e.charAt(v++)),o=c<<2|d>>4,i=(d&15)<<4|h>>2,a=(h&3)<<6|p,r=r+String.fromCharCode(o),h!=64&&i!=0&&(r=r+String.fromCharCode(i)),p!=64&&a!=0&&(r=r+String.fromCharCode(a));return r}class Sc{constructor(){this.promise=new Sc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sc.promiseConstructor=Promise;function yv(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=r[1];return JSON.parse(ME(o))}async function $E(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FE(e,t){return new Promise((o,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){o(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function zE(e){return("0"+e.toString(16)).substr(-2)}function UE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*o));return i}return crypto.getRandomValues(t),Array.from(t,zE).join("")}async function BE(e){const r=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(o);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}function VE(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function WE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BE(e);return VE(r)}async function _o(e,t,r=!1){const o=UE();let i=o;r&&(i+="/PASSWORD_RECOVERY"),await n0(e,`${t}-code-verifier`,i);const a=await WE(o);return[a,o===a?"plain":"s256"]}const HE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qE(e){const t=e.headers.get(Cf);if(!t||!t.match(HE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class dh extends Error{constructor(t,r,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KE extends dh{constructor(t,r,o){super(t,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function GE(e){return De(e)&&e.name==="AuthApiError"}class s0 extends dh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hs extends dh{constructor(t,r,o,i){super(t,o,i),this.name=r,this.status=o}}class Xn extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function JE(e){return De(e)&&e.name==="AuthSessionMissingError"}class Ud extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bl extends Hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vl extends Hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YE(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class xv extends Hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ef extends Hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bd(e){return De(e)&&e.name==="AuthRetryableFetchError"}class wv extends Hs{constructor(t,r,o){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}var QE=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r};const Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XE=[502,503,504];async function bv(e){var t;if(!LE(e))throw new Ef(Ps(e),0);if(XE.includes(e.status))throw new Ef(Ps(e),e.status);let r;try{r=await e.json()}catch(a){throw new s0(Ps(a),a)}let o;const i=qE(e);if(i&&i.getTime()>=t0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new wv(Ps(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new Xn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new wv(Ps(r),e.status,r.weak_password.reasons);throw new KE(Ps(r),e.status||500,o)}const ZE=(e,t,r,o)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(o),Object.assign(Object.assign({},i),r))};async function Me(e,t,r,o){var i;const a=Object.assign({},o==null?void 0:o.headers);a[Cf]||(a[Cf]=t0["2024-01-01"].name),o!=null&&o.jwt&&(a.Authorization=`Bearer ${o.jwt}`);const c=(i=o==null?void 0:o.query)!==null&&i!==void 0?i:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await ek(e,t,r+d,{headers:a,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(h):{data:Object.assign({},h),error:null}}async function ek(e,t,r,o,i,a){const c=ZE(t,o,i,a);let d;try{d=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Ef(Ps(h),0)}if(d.ok||await bv(d),o!=null&&o.noResolveJson)return d;try{return await d.json()}catch(h){await bv(h)}}function Zn(e){var t;let r=null;sk(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=AE(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:o},error:null}}function Sv(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tk(e){return{data:e,error:null}}function rk(e){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:i,verification_type:a}=e,c=QE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:o,redirect_to:i,verification_type:a},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function nk(e){return e}function sk(e){return e.access_token&&e.refresh_token&&e.expires_in}var ok=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r};class ik{constructor({url:t="",headers:r={},fetch:o}){this.url=t,this.headers=r,this.fetch=r0(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ns})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:r}=t,o=ok(t,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o==null?void 0:o.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ns})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,o,i,a,c,d,h;try{const p={nextPage:null,lastPage:0,total:0},v=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:nk});if(v.error)throw v.error;const y=await v.json(),w=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return S.length>0&&(S.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);p[`${C}Page`]=b}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(De(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ns})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ns})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,r=!1){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ns})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){try{const{data:r,error:o}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}}const ak={getItem:e=>ta()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ta()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ta()&&globalThis.localStorage.removeItem(e)}};function _v(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Co={debug:!!(globalThis&&ta()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ck extends o0{}async function uk(e,t,r){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async i=>{if(i){Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ck(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Co.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lk();const dk={url:PE,storageKey:RE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cv(e,t,r){return await r()}class la{constructor(t){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=la.nextInstanceID,la.nextInstanceID+=1,this.instanceID>0&&Qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},dk),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ik({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=r0(i.fetch),this.lock=i.lock||Cv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Qr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uk:this.lock=Cv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ta()?this.storage=ak:(this.memoryStorage={},this.storage=_v(this.memoryStorage)):(this.memoryStorage={},this.storage=_v(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${e0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=DE(window.location.href);let o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Qr()&&this.detectSessionInUrl&&o!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,o);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),YE(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?{error:r}:{error:new s0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,i;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zn}),{data:c,error:d}=a;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,o,i;try{let a;if("email"in t){const{email:v,password:y,options:w}=t;let S=null,E=null;this.flowType==="pkce"&&([S,E]=await _o(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:v,password:y,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:E},xform:Zn})}else if("phone"in t){const{phone:v,password:y,options:w}=t;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(o=w==null?void 0:w.data)!==null&&o!==void 0?o:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Zn})}else throw new Bl("You must provide either an email or phone number and a password");const{data:c,error:d}=a;if(d||!c)return{data:{user:null,session:null},error:d};const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Sv})}else if("phone"in t){const{phone:a,password:c,options:d}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Sv})}else throw new Bl("You must provide either an email or phone number and a password");const{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ud}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,o,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{const{data:a,error:c}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Zn});if(await Ul(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ud}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:o,token:i,access_token:a,nonce:c}=t,d=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zn}),{data:h,error:p}=d;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ud}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,o,i,a,c;try{if("email"in t){const{email:d,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await _o(this.storage,this.storageKey));const{error:y}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:d,options:h}=t,{data:p,error:v}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Bl("You must provide either an email or phone number.")}catch(d){if(De(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,o;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:d}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,o,i;try{let a=null,c=null;return this.flowType==="pkce"&&([a,c]=await _o(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:tk})}catch(a){if(De(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new Xn;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(De(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:o,type:i,options:a}=t,{error:c}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:o,type:i,options:a}=t,{data:c,error:d}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Bl("You must provide either an email or phone number and a type")}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,p,v)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,v))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ns}):await this._useSession(async r=>{var o,i,a;const{data:c,error:d}=r;if(d)throw d;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xn}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ns})})}catch(r){if(De(r))return JE(r)&&(await this._removeSession(),await Ul(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{const{data:i,error:a}=o;if(a)throw a;if(!i.session)throw new Xn;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await _o(this.storage,this.storageKey));const{data:p,error:v}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:ns});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}_decodeJWT(t){return yv(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xn;const r=Date.now()/1e3;let o=r,i=!0,a=null;const c=yv(t.access_token);if(c.exp&&(o=c.exp,i=o<=r),i){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(De(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){const{data:c,error:d}=r;if(d)throw d;t=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new Xn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qr())throw new Vl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xv("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:d,expires_at:h,token_type:p}=t;if(!a||!d||!c||!p)throw new Vl("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let w=v+y;h&&(w=parseInt(h));const S=w-v;S*1e3<=No&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${y}s`);const E=w-y;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,v);const{data:b,error:C}=await this._getUser(a);if(C)throw C;const k={provider_token:o,provider_refresh_token:i,access_token:a,expires_in:y,expires_at:w,refresh_token:c,token_type:p,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(o){if(De(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:i,error:a}=r;if(a)return{error:a};const c=(o=i.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(GE(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Ul(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=OE(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,i;try{const{data:{session:a},error:c}=r;if(c)throw c;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await _o(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(De(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:o,error:i}=await this._useSession(async a=>{var c,d,h,p,v;const{data:y,error:w}=a;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:t.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(De(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,i;const{data:a,error:c}=r;if(c)throw c;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await FE(async i=>(i>0&&await $E(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(i,a)=>{const c=200*Math.pow(2,i);return a&&Bd(a)&&Date.now()+c-o<No})}catch(o){if(this._debug(r,"error",o),De(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),Qr()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await zl(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const i=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zd;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${zd}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),Bd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new Xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sc;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Xn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(i,"error",a),De(a)){const c={session:null,error:a};return Bd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,o=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){a.push(h)}});if(await Promise.all(c),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await n0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ul(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),No);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((o.expires_at*1e3-t)/No);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${No}ms, refresh threshold is ${_f} ticks`),i<=_f&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof o0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){const i=[`provider=${encodeURIComponent(r)}`];if(o!=null&&o.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[a,c]=await _o(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(o!=null&&o.queryParams){const a=new URLSearchParams(o.queryParams);i.push(a.toString())}return o!=null&&o.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;return a?{data:null,error:a}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,i;const{data:a,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:p}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:c,error:d}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:d})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:i,error:a}=r;return a?{data:null,error:a}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=i==null?void 0:i.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(De(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o=(t==null?void 0:t.factors)||[],i=o.filter(c=>c.factor_type==="totp"&&c.status==="verified"),a=o.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:o,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,o;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(i.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const v=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:v},error:null}}))}}la.nextInstanceID=0;const fk=la;class hk extends fk{constructor(t){super(t)}}var pk=function(e,t,r,o){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function d(v){try{p(o.next(v))}catch(y){c(y)}}function h(v){try{p(o.throw(v))}catch(y){c(y)}}function p(v){v.done?a(v.value):i(v.value).then(d,h)}p((o=o.apply(e,t||[])).next())})};class mk{constructor(t,r,o){var i,a,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=NE(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const h=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:wE,realtime:SE,auth:Object.assign(Object.assign({},bE),{storageKey:h}),global:xE},v=TE(o??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=v.global.headers)!==null&&a!==void 0?a:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=kE(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new UC(`${d}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new TC(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},o={}){return this.rest.rpc(t,r,o)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return pk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(r=(t=o.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:i,storageKey:a,flowType:c,lock:d,debug:h},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hk({url:this.authUrl,headers:Object.assign(Object.assign({},y),p),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:i,flowType:c,lock:d,debug:h,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rE(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,o)=>{this._handleTokenChanged(r,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(t,r,o){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i0=(e,t,r)=>new mk(e,t,r),gk="https://whotduhtlhlamsvjgrnz.supabase.co",vk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indob3RkdWh0bGhsYW1zdmpncm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4ODU3NzIsImV4cCI6MjA1NzQ2MTc3Mn0.TeJrtER8QZ_Bj5GKC99CRHlnMnjsLBoFsN3yXls41Lk",Re=i0(gk,vk),yk=async()=>{const{data:{user:e}}=await Re.auth.getUser();return e};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const r=m.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:d="",children:h,...p},v)=>m.createElement("svg",{ref:v,...xk,width:i,height:i,stroke:o,strokeWidth:c?Number(a)*24/Number(i):a,className:["lucide",`lucide-${wk(e)}`,d].join(" "),...p},[...t.map(([y,w])=>m.createElement(y,w)),...Array.isArray(h)?h:[h]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ze("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ze("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ze("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ze("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ze("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ze("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ze("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ze("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ze("Table2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ds(...e){return t=>{let r=!1;const o=e.map(i=>{const a=Pv(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<o.length;i++){const a=o[i];typeof a=="function"?a():Pv(e[i],null)}}}}function Ke(...e){return m.useCallback(Ds(...e),e)}var is=m.forwardRef((e,t)=>{const{children:r,...o}=e,i=m.Children.toArray(r),a=i.find(Ak);if(a){const c=a.props.children,d=i.map(h=>h===a?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:h);return u.jsx(kf,{...o,ref:t,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return u.jsx(kf,{...o,ref:t,children:r})});is.displayName="Slot";var kf=m.forwardRef((e,t)=>{const{children:r,...o}=e;if(m.isValidElement(r)){const i=Dk(r),a=Ok(o,r.props);return r.type!==m.Fragment&&(a.ref=t?Ds(t,i):i),m.cloneElement(r,a)}return m.Children.count(r)>1?m.Children.only(null):null});kf.displayName="SlotClone";var f0=({children:e})=>u.jsx(u.Fragment,{children:e});function Ak(e){return m.isValidElement(e)&&e.type===f0}function Ok(e,t){const r={...t};for(const o in t){const i=e[o],a=t[o];/^on[A-Z]/.test(o)?i&&a?r[o]=(...d)=>{a(...d),i(...d)}:i&&(r[o]=i):o==="style"?r[o]={...i,...a}:o==="className"&&(r[o]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Dk(e){var o,i;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function h0(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=h0(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function p0(){for(var e,t,r=0,o="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=h0(e))&&(o&&(o+=" "),o+=t);return o}const Rv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Iv=p0,jc=(e,t)=>r=>{var o;if((t==null?void 0:t.variants)==null)return Iv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,c=Object.keys(i).map(p=>{const v=r==null?void 0:r[p],y=a==null?void 0:a[p];if(v===null)return null;const w=Rv(v)||Rv(y);return i[p][w]}),d=r&&Object.entries(r).reduce((p,v)=>{let[y,w]=v;return w===void 0||(p[y]=w),p},{}),h=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((p,v)=>{let{class:y,className:w,...S}=v;return Object.entries(S).every(E=>{let[b,C]=E;return Array.isArray(C)?C.includes({...a,...d}[b]):{...a,...d}[b]===C})?[...p,y,w]:p},[]);return Iv(e,c,h,r==null?void 0:r.class,r==null?void 0:r.className)},hh="-",Lk=e=>{const t=$k(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:c=>{const d=c.split(hh);return d[0]===""&&d.length!==1&&d.shift(),m0(d,t)||Mk(c)},getConflictingClassGroupIds:(c,d)=>{const h=r[c]||[];return d&&o[c]?[...h,...o[c]]:h}}},m0=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),i=o?m0(e.slice(1),o):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(hh);return(c=t.validators.find(({validator:d})=>d(a)))==null?void 0:c.classGroupId},Av=/^\[(.+)\]$/,Mk=e=>{if(Av.test(e)){const t=Av.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$k=e=>{const{theme:t,prefix:r}=e,o={nextPart:new Map,validators:[]};return zk(Object.entries(e.classGroups),r).forEach(([a,c])=>{jf(c,o,a,t)}),o},jf=(e,t,r,o)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Ov(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Fk(i)){jf(i(o),t,r,o);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,c])=>{jf(c,Ov(t,a),r,o)})})},Ov=(e,t)=>{let r=e;return t.split(hh).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},Fk=e=>e.isThemeGetter,zk=(e,t)=>t?e.map(([r,o])=>{const i=o.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,d])=>[t+c,d])):a);return[r,i]}):e,Uk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const i=(a,c)=>{r.set(a,c),t++,t>e&&(t=0,o=r,r=new Map)};return{get(a){let c=r.get(a);if(c!==void 0)return c;if((c=o.get(a))!==void 0)return i(a,c),c},set(a,c){r.has(a)?r.set(a,c):i(a,c)}}},g0="!",Bk=e=>{const{separator:t,experimentalParseClassName:r}=e,o=t.length===1,i=t[0],a=t.length,c=d=>{const h=[];let p=0,v=0,y;for(let C=0;C<d.length;C++){let k=d[C];if(p===0){if(k===i&&(o||d.slice(C,C+a)===t)){h.push(d.slice(v,C)),v=C+a;continue}if(k==="/"){y=C;continue}}k==="["?p++:k==="]"&&p--}const w=h.length===0?d:d.substring(v),S=w.startsWith(g0),E=S?w.substring(1):w,b=y&&y>v?y-v:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:b}};return r?d=>r({className:d,parseClassName:c}):c},Vk=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(o=>{o[0]==="["?(t.push(...r.sort(),o),r=[]):r.push(o)}),t.push(...r.sort()),t},Wk=e=>({cache:Uk(e.cacheSize),parseClassName:Bk(e),...Lk(e)}),Hk=/\s+/,qk=(e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:i}=t,a=[],c=e.trim().split(Hk);let d="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:S}=r(p);let E=!!S,b=o(E?w.substring(0,S):w);if(!b){if(!E){d=p+(d.length>0?" "+d:d);continue}if(b=o(w),!b){d=p+(d.length>0?" "+d:d);continue}E=!1}const C=Vk(v).join(":"),k=y?C+g0:C,j=k+b;if(a.includes(j))continue;a.push(j);const N=i(b,E);for(let A=0;A<N.length;++A){const D=N[A];a.push(k+D)}d=p+(d.length>0?" "+d:d)}return d};function Kk(){let e=0,t,r,o="";for(;e<arguments.length;)(t=arguments[e++])&&(r=v0(t))&&(o&&(o+=" "),o+=r);return o}const v0=e=>{if(typeof e=="string")return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=v0(e[o]))&&(r&&(r+=" "),r+=t);return r};function Gk(e,...t){let r,o,i,a=c;function c(h){const p=t.reduce((v,y)=>y(v),e());return r=Wk(p),o=r.cache.get,i=r.cache.set,a=d,d(h)}function d(h){const p=o(h);if(p)return p;const v=qk(h,r);return i(h,v),v}return function(){return a(Kk.apply(null,arguments))}}const Ze=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},y0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jk=/^\d+\/\d+$/,Yk=new Set(["px","full","screen"]),Qk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ej=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xn=e=>Oo(e)||Yk.has(e)||Jk.test(e),Jn=e=>Yo(e,"length",cj),Oo=e=>!!e&&!Number.isNaN(Number(e)),Wd=e=>Yo(e,"number",Oo),Gi=e=>!!e&&Number.isInteger(Number(e)),rj=e=>e.endsWith("%")&&Oo(e.slice(0,-1)),Oe=e=>y0.test(e),Yn=e=>Qk.test(e),nj=new Set(["length","size","percentage"]),sj=e=>Yo(e,nj,x0),oj=e=>Yo(e,"position",x0),ij=new Set(["image","url"]),aj=e=>Yo(e,ij,dj),lj=e=>Yo(e,"",uj),Ji=()=>!0,Yo=(e,t,r)=>{const o=y0.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):r(o[2]):!1},cj=e=>Xk.test(e)&&!Zk.test(e),x0=()=>!1,uj=e=>ej.test(e),dj=e=>tj.test(e),fj=()=>{const e=Ze("colors"),t=Ze("spacing"),r=Ze("blur"),o=Ze("brightness"),i=Ze("borderColor"),a=Ze("borderRadius"),c=Ze("borderSpacing"),d=Ze("borderWidth"),h=Ze("contrast"),p=Ze("grayscale"),v=Ze("hueRotate"),y=Ze("invert"),w=Ze("gap"),S=Ze("gradientColorStops"),E=Ze("gradientColorStopPositions"),b=Ze("inset"),C=Ze("margin"),k=Ze("opacity"),j=Ze("padding"),N=Ze("saturate"),A=Ze("scale"),D=Ze("sepia"),U=Ze("skew"),$=Ze("space"),q=Ze("translate"),ce=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Oe,t],J=()=>[Oe,t],oe=()=>["",xn,Jn],W=()=>["auto",Oo,Oe],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Oe],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Oo,Oe];return{cacheSize:500,separator:":",theme:{colors:[Ji],spacing:[xn,Jn],blur:["none","",Yn,Oe],brightness:I(),borderColor:[e],borderRadius:["none","","full",Yn,Oe],borderSpacing:J(),borderWidth:oe(),contrast:I(),grayscale:ee(),hueRotate:I(),invert:ee(),gap:J(),gradientColorStops:[e],gradientColorStopPositions:[rj,Jn],inset:V(),margin:V(),opacity:I(),padding:J(),saturate:I(),scale:I(),sepia:ee(),skew:I(),space:J(),translate:J()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Yn]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),Oe]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:ce()}],"overscroll-x":[{"overscroll-x":ce()}],"overscroll-y":[{"overscroll-y":ce()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gi,Oe]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Gi,Oe]}],"grid-cols":[{"grid-cols":[Ji]}],"col-start-end":[{col:["auto",{span:["full",Gi,Oe]},Oe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Ji]}],"row-start-end":[{row:["auto",{span:[Gi,Oe]},Oe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Yn]},Yn]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yn,Jn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wd]}],"font-family":[{font:[Ji]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",Oo,Wd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xn,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xn,Jn]}],"underline-offset":[{"underline-offset":["auto",xn,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:J()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),oj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[xn,Oe]}],"outline-w":[{outline:[xn,Jn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[xn,Jn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yn,lj]}],"shadow-color":[{shadow:[Ji]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Yn,Oe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[N]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Gi,Oe]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":J()}],"scroll-mx":[{"scroll-mx":J()}],"scroll-my":[{"scroll-my":J()}],"scroll-ms":[{"scroll-ms":J()}],"scroll-me":[{"scroll-me":J()}],"scroll-mt":[{"scroll-mt":J()}],"scroll-mr":[{"scroll-mr":J()}],"scroll-mb":[{"scroll-mb":J()}],"scroll-ml":[{"scroll-ml":J()}],"scroll-p":[{"scroll-p":J()}],"scroll-px":[{"scroll-px":J()}],"scroll-py":[{"scroll-py":J()}],"scroll-ps":[{"scroll-ps":J()}],"scroll-pe":[{"scroll-pe":J()}],"scroll-pt":[{"scroll-pt":J()}],"scroll-pr":[{"scroll-pr":J()}],"scroll-pb":[{"scroll-pb":J()}],"scroll-pl":[{"scroll-pl":J()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xn,Jn,Wd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hj=Gk(fj);function ke(...e){return hj(p0(e))}const pj=jc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-slate-900 text-slate-50 shadow hover:bg-slate-900/90",destructive:"bg-red-500 text-slate-50 shadow-sm hover:bg-red-500/90",outline:"border border-slate-200 bg-white shadow-sm hover:bg-slate-100 hover:text-slate-900",secondary:"bg-slate-100 text-slate-900 shadow-sm hover:bg-slate-100/80",ghost:"hover:bg-slate-100 hover:text-slate-900",link:"text-slate-900 underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=m.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...i},a)=>{const c=o?is:"button";return u.jsx(c,{className:ke(pj({variant:t,size:r,className:e})),ref:a,...i})});ye.displayName="Button";class As{constructor(t){this.id=t.id,this.fullName=t.full_name,this.displayName=t.display_name,this.preferredTheme=t.preferred_theme,this.createdAt=t.created_at,this.updatedAt=t.updated_at}static async register(t,r,o){try{const{data:i,error:a}=await Re.auth.signUp({email:t,password:r,options:{data:{full_name:o}}});if(a)throw a;const{error:c}=await Re.from("users").insert([{id:i.user.id,full_name:o}]);if(c)throw c;return new As({id:i.user.id,full_name:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(i){throw console.error("Error registering user:",i),i}}static async login(t,r){try{const{data:o,error:i}=await Re.auth.signInWithPassword({email:t,password:r});if(i)throw i;const{data:a,error:c}=await Re.from("users").select("*").eq("id",o.user.id).single();if(c)throw c;return new As(a)}catch(o){throw console.error("Error logging in:",o),o}}static async logout(){try{const{error:t}=await Re.auth.signOut();if(t)throw t}catch(t){throw console.error("Error logging out:",t),t}}static async getCurrentUser(){try{const{data:{user:t},error:r}=await Re.auth.getUser();if(r)throw r;if(!t)return null;const{data:o,error:i}=await Re.from("users").select("*").eq("id",t.id).single();if(i)throw i;return new As(o)}catch(t){throw console.error("Error getting current user:",t),t}}async updateProfile({fullName:t,displayName:r,preferredTheme:o}){try{const i={};t!==void 0&&(i.full_name=t),r!==void 0&&(i.display_name=r),o!==void 0&&(i.preferred_theme=o);const{data:a,error:c}=await Re.from("users").update(i).eq("id",this.id).select().single();if(c)throw c;return Object.assign(this,a),this}catch(i){throw console.error("Error updating profile:",i),i}}static async resetPassword(t){try{const{error:r}=await Re.auth.resetPasswordForEmail(t);if(r)throw r}catch(r){throw console.error("Error resetting password:",r),r}}static async updatePassword(t){try{const{error:r}=await Re.auth.updateUser({password:t});if(r)throw r}catch(r){throw console.error("Error updating password:",r),r}}}const Hd=[{name:" ",href:"/shopping-lists",icon:Ec},{name:"",href:"/products",icon:zo},{name:"",href:"/prices",icon:_k}],_n=({children:e})=>{const[t,r]=m.useState(!1),o=on(),i=Vs(),a=c=>{o(c),r(!1)};return u.jsxs("div",{className:"min-h-screen bg-slate-950",children:[u.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:right-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:u.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-slate-900 px-6 pb-4",children:[u.jsx("div",{className:"flex h-16 shrink-0 items-center justify-between",children:u.jsx("span",{className:"text-xl font-semibold text-white",children:"ShopShare"})}),u.jsx("nav",{className:"flex flex-1 flex-col",children:u.jsxs("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:[u.jsx("li",{children:u.jsx("ul",{role:"list",className:"space-y-1",children:Hd.map(c=>u.jsx("li",{children:u.jsxs(ye,{variant:"ghost",className:ke("w-full justify-start gap-x-3",i.pathname===c.href?"bg-slate-800 text-emerald-400":"text-slate-400 hover:text-white hover:bg-slate-800"),onClick:()=>a(c.href),children:[u.jsx(c.icon,{className:"h-5 w-5"}),c.name]})},c.name))})}),u.jsx("li",{className:"mt-auto",children:u.jsxs(ye,{variant:"ghost",className:"w-full justify-start gap-x-3 text-slate-400 hover:text-white hover:bg-slate-800",onClick:async()=>{await As.logout(),o("/login")},children:[u.jsx(Nv,{className:"h-5 w-5"}),""]})})]})})]})}),t&&u.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-slate-900/80",onClick:()=>r(!1)}),u.jsxs("div",{className:"fixed inset-y-0 right-0 z-50 w-64 overflow-y-auto bg-slate-900 px-6 py-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("span",{className:"text-lg font-semibold text-white",children:"ShopShare"}),u.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>r(!1),children:u.jsx(kc,{className:"h-5 w-5 text-slate-400"})})]}),u.jsxs("nav",{className:"flex flex-col h-full",children:[u.jsx("ul",{role:"list",className:"flex-1 space-y-1",children:Hd.map(c=>u.jsx("li",{children:u.jsxs(ye,{variant:"ghost",className:ke("w-full justify-start gap-x-3",i.pathname===c.href?"bg-slate-800 text-emerald-400":"text-slate-400 hover:text-white hover:bg-slate-800"),onClick:()=>a(c.href),children:[u.jsx(c.icon,{className:"h-5 w-5"}),c.name]})},c.name))}),u.jsxs(ye,{variant:"ghost",className:"w-full justify-start gap-x-3 text-slate-400 hover:text-white hover:bg-slate-800",onClick:async()=>{await As.logout(),o("/login")},children:[u.jsx(Nv,{className:"h-5 w-5"}),""]})]})]})]}),u.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] bg-slate-900/95 backdrop-blur-sm border-t border-slate-800 lg:hidden",children:u.jsxs("nav",{className:"flex justify-around py-2",children:[u.jsx(ye,{variant:"ghost",size:"icon",className:"flex-none p-3 text-slate-400 hover:text-white",onClick:()=>r(!0),children:u.jsx(Tk,{className:"h-6 w-6"})}),Hd.map(c=>u.jsxs(ye,{variant:"ghost",size:"lg",className:ke("flex-1 flex flex-col items-center py-3 px-1 gap-1",i.pathname===c.href?"text-emerald-400":"text-slate-400 hover:text-white"),onClick:()=>a(c.href),children:[u.jsx(c.icon,{className:"h-6 w-6"}),u.jsx("span",{className:"text-xs font-medium",children:c.name})]},c.name))]})}),u.jsx("main",{className:"pb-24 lg:pb-10 lg:pr-72",children:u.jsx("div",{className:"container mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-6",children:e})})]})},Vt=m.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Vt.displayName="Card";const tn=m.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ke("flex flex-col space-y-1.5 p-6",e),...t}));tn.displayName="CardHeader";const rn=m.forwardRef(({className:e,...t},r)=>u.jsx("h3",{ref:r,className:ke("text-2xl font-semibold leading-none tracking-tight",e),...t}));rn.displayName="CardTitle";const Cn=m.forwardRef(({className:e,...t},r)=>u.jsx("p",{ref:r,className:ke("text-sm text-slate-500",e),...t}));Cn.displayName="CardDescription";const rr=m.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ke("p-6 pt-0",e),...t}));rr.displayName="CardContent";const ya=m.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ke("flex items-center p-6 pt-0",e),...t}));ya.displayName="CardFooter";function _e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function mj(e,t){const r=m.createContext(t),o=a=>{const{children:c,...d}=a,h=m.useMemo(()=>d,Object.values(d));return u.jsx(r.Provider,{value:h,children:c})};o.displayName=e+"Provider";function i(a){const c=m.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[o,i]}function Cr(e,t=[]){let r=[];function o(a,c){const d=m.createContext(c),h=r.length;r=[...r,c];const p=y=>{var k;const{scope:w,children:S,...E}=y,b=((k=w==null?void 0:w[e])==null?void 0:k[h])||d,C=m.useMemo(()=>E,Object.values(E));return u.jsx(b.Provider,{value:C,children:S})};p.displayName=a+"Provider";function v(y,w){var b;const S=((b=w==null?void 0:w[e])==null?void 0:b[h])||d,E=m.useContext(S);if(E)return E;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,v]}const i=()=>{const a=r.map(c=>m.createContext(c));return function(d){const h=(d==null?void 0:d[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return i.scopeName=e,[o,gj(i,...t)]}function gj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=o.reduce((d,{useScope:h,scopeName:p})=>{const y=h(a)[`__scope${p}`];return{...d,...y}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var kt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},vj=Ny.useId||(()=>{}),yj=0;function Wt(e){const[t,r]=m.useState(vj());return kt(()=>{r(o=>o??String(yj++))},[e]),t?`radix-${t}`:""}function Ht(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var o;return(o=t.current)==null?void 0:o.call(t,...r)},[])}function as({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=xj({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:o,d=Ht(r),h=m.useCallback(p=>{if(a){const y=typeof p=="function"?p(e):p;y!==e&&d(y)}else i(p)},[a,e,i,d]);return[c,h]}function xj({defaultProp:e,onChange:t}){const r=m.useState(e),[o]=r,i=m.useRef(o),a=Ht(t);return m.useEffect(()=>{i.current!==o&&(a(o),i.current=o)},[o,i,a]),r}var wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=wj.reduce((e,t)=>{const r=m.forwardRef((o,i)=>{const{asChild:a,...c}=o,d=a?is:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function w0(e,t){e&&zr.flushSync(()=>e.dispatchEvent(t))}function bj(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e);m.useEffect(()=>{const o=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[r,t])}var Sj="DismissableLayer",Nf="dismissableLayer.update",_j="dismissableLayer.pointerDownOutside",Cj="dismissableLayer.focusOutside",Dv,b0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qo=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...h}=e,p=m.useContext(b0),[v,y]=m.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=m.useState({}),E=Ke(t,$=>y($)),b=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(C),j=v?b.indexOf(v):-1,N=p.layersWithOutsidePointerEventsDisabled.size>0,A=j>=k,D=kj($=>{const q=$.target,ce=[...p.branches].some(K=>K.contains(q));!A||ce||(i==null||i($),c==null||c($),$.defaultPrevented||d==null||d())},w),U=jj($=>{const q=$.target;[...p.branches].some(K=>K.contains(q))||(a==null||a($),c==null||c($),$.defaultPrevented||d==null||d())},w);return bj($=>{j===p.layers.size-1&&(o==null||o($),!$.defaultPrevented&&d&&($.preventDefault(),d()))},w),m.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Dv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Lv(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Dv)}},[v,w,r,p]),m.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Lv())},[v,p]),m.useEffect(()=>{const $=()=>S({});return document.addEventListener(Nf,$),()=>document.removeEventListener(Nf,$)},[]),u.jsx(Ce.div,{...h,ref:E,style:{pointerEvents:N?A?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,U.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,U.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,D.onPointerDownCapture)})});Qo.displayName=Sj;var Ej="DismissableLayerBranch",S0=m.forwardRef((e,t)=>{const r=m.useContext(b0),o=m.useRef(null),i=Ke(t,o);return m.useEffect(()=>{const a=o.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),u.jsx(Ce.div,{...e,ref:i})});S0.displayName=Ej;function kj(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),o=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=d=>{if(d.target&&!o.current){let h=function(){_0(_j,r,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=h,t.addEventListener("click",i.current,{once:!0})):h()}else t.removeEventListener("click",i.current);o.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>o.current=!0}}function jj(e,t=globalThis==null?void 0:globalThis.document){const r=Ht(e),o=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!o.current&&_0(Cj,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Lv(){const e=new CustomEvent(Nf);document.dispatchEvent(e)}function _0(e,t,r,{discrete:o}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),o?w0(i,a):i.dispatchEvent(a)}var Nj=Qo,Tj=S0,qd="focusScope.autoFocusOnMount",Kd="focusScope.autoFocusOnUnmount",Mv={bubbles:!1,cancelable:!0},Pj="FocusScope",Nc=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=e,[d,h]=m.useState(null),p=Ht(i),v=Ht(a),y=m.useRef(null),w=Ke(t,b=>h(b)),S=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(o){let b=function(N){if(S.paused||!d)return;const A=N.target;d.contains(A)?y.current=A:es(y.current,{select:!0})},C=function(N){if(S.paused||!d)return;const A=N.relatedTarget;A!==null&&(d.contains(A)||es(y.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const D of N)D.removedNodes.length>0&&es(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const j=new MutationObserver(k);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),j.disconnect()}}},[o,d,S.paused]),m.useEffect(()=>{if(d){Fv.add(S);const b=document.activeElement;if(!d.contains(b)){const k=new CustomEvent(qd,Mv);d.addEventListener(qd,p),d.dispatchEvent(k),k.defaultPrevented||(Rj(Lj(C0(d)),{select:!0}),document.activeElement===b&&es(d))}return()=>{d.removeEventListener(qd,p),setTimeout(()=>{const k=new CustomEvent(Kd,Mv);d.addEventListener(Kd,v),d.dispatchEvent(k),k.defaultPrevented||es(b??document.body,{select:!0}),d.removeEventListener(Kd,v),Fv.remove(S)},0)}}},[d,p,v,S]);const E=m.useCallback(b=>{if(!r&&!o||S.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(C&&k){const j=b.currentTarget,[N,A]=Ij(j);N&&A?!b.shiftKey&&k===A?(b.preventDefault(),r&&es(N,{select:!0})):b.shiftKey&&k===N&&(b.preventDefault(),r&&es(A,{select:!0})):k===j&&b.preventDefault()}},[r,o,S.paused]);return u.jsx(Ce.div,{tabIndex:-1,...c,ref:w,onKeyDown:E})});Nc.displayName=Pj;function Rj(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(es(o,{select:t}),document.activeElement!==r)return}function Ij(e){const t=C0(e),r=$v(t,e),o=$v(t.reverse(),e);return[r,o]}function C0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $v(e,t){for(const r of e)if(!Aj(r,{upTo:t}))return r}function Aj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oj(e){return e instanceof HTMLInputElement&&"select"in e}function es(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Oj(e)&&t&&e.select()}}var Fv=Dj();function Dj(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zv(e,t),e.unshift(t)},remove(t){var r;e=zv(e,t),(r=e[0])==null||r.resume()}}}function zv(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function Lj(e){return e.filter(t=>t.tagName!=="A")}var Mj="Portal",xa=m.forwardRef((e,t)=>{var d;const{container:r,...o}=e,[i,a]=m.useState(!1);kt(()=>a(!0),[]);const c=r||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?x_.createPortal(u.jsx(Ce.div,{...o,ref:t}),c):null});xa.displayName=Mj;function $j(e,t){return m.useReducer((r,o)=>t[r][o]??r,e)}var Nn=e=>{const{present:t,children:r}=e,o=Fj(t),i=typeof r=="function"?r({present:o.isPresent}):m.Children.only(r),a=Ke(o.ref,zj(i));return typeof r=="function"||o.isPresent?m.cloneElement(i,{ref:a}):null};Nn.displayName="Presence";function Fj(e){const[t,r]=m.useState(),o=m.useRef({}),i=m.useRef(e),a=m.useRef("none"),c=e?"mounted":"unmounted",[d,h]=$j(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const p=Wl(o.current);a.current=d==="mounted"?p:"none"},[d]),kt(()=>{const p=o.current,v=i.current;if(v!==e){const w=a.current,S=Wl(p);e?h("MOUNT"):S==="none"||(p==null?void 0:p.display)==="none"?h("UNMOUNT"):h(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),kt(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,y=S=>{const b=Wl(o.current).includes(S.animationName);if(S.target===t&&b&&(h("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},w=S=>{S.target===t&&(a.current=Wl(o.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:m.useCallback(p=>{p&&(o.current=getComputedStyle(p)),r(p)},[])}}function Wl(e){return(e==null?void 0:e.animationName)||"none"}function zj(e){var o,i;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Gd=0;function ph(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Uv()),document.body.insertAdjacentElement("beforeend",e[1]??Uv()),Gd++,()=>{Gd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gd--}},[])}function Uv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xr=function(){return Xr=Object.assign||function(t){for(var r,o=1,i=arguments.length;o<i;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xr.apply(this,arguments)};function E0(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(r[o[i]]=e[o[i]]);return r}function Uj(e,t,r){if(r||arguments.length===2)for(var o=0,i=t.length,a;o<i;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}var Zl="right-scroll-bar-position",ec="width-before-scroll-bar",Bj="with-scroll-bars-hidden",Vj="--removed-body-scroll-bar-size";function Jd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Wj(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var i=r.value;i!==o&&(r.value=o,r.callback(o,i))}}}})[0];return r.callback=t,r.facade}var Hj=typeof window<"u"?m.useLayoutEffect:m.useEffect,Bv=new WeakMap;function qj(e,t){var r=Wj(null,function(o){return e.forEach(function(i){return Jd(i,o)})});return Hj(function(){var o=Bv.get(r);if(o){var i=new Set(o),a=new Set(e),c=r.current;i.forEach(function(d){a.has(d)||Jd(d,null)}),a.forEach(function(d){i.has(d)||Jd(d,c)})}Bv.set(r,e)},[e]),r}function Kj(e){return e}function Gj(e,t){t===void 0&&(t=Kj);var r=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var c=t(a,o);return r.push(c),function(){r=r.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(o=!0;r.length;){var c=r;r=[],c.forEach(a)}r={push:function(d){return a(d)},filter:function(){return r}}},assignMedium:function(a){o=!0;var c=[];if(r.length){var d=r;r=[],d.forEach(a),c=r}var h=function(){var v=c;c=[],v.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),r={push:function(v){c.push(v),p()},filter:function(v){return c=c.filter(v),r}}}};return i}function Jj(e){e===void 0&&(e={});var t=Gj(null);return t.options=Xr({async:!0,ssr:!1},e),t}var k0=function(e){var t=e.sideCar,r=E0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return m.createElement(o,Xr({},r))};k0.isSideCarExport=!0;function Yj(e,t){return e.useMedium(t),k0}var j0=Jj(),Yd=function(){},Tc=m.forwardRef(function(e,t){var r=m.useRef(null),o=m.useState({onScrollCapture:Yd,onWheelCapture:Yd,onTouchMoveCapture:Yd}),i=o[0],a=o[1],c=e.forwardProps,d=e.children,h=e.className,p=e.removeScrollBar,v=e.enabled,y=e.shards,w=e.sideCar,S=e.noIsolation,E=e.inert,b=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,j=e.gapMode,N=E0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=w,D=qj([r,t]),U=Xr(Xr({},N),i);return m.createElement(m.Fragment,null,v&&m.createElement(A,{sideCar:j0,removeScrollBar:p,shards:y,noIsolation:S,inert:E,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:j}),c?m.cloneElement(m.Children.only(d),Xr(Xr({},U),{ref:D})):m.createElement(k,Xr({},U,{className:h,ref:D}),d))});Tc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tc.classNames={fullWidth:ec,zeroRight:Zl};var Qj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qj();return t&&e.setAttribute("nonce",t),e}function Zj(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tN=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Xj())&&(Zj(t,r),eN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rN=function(){var e=tN();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},N0=function(){var e=rN(),t=function(r){var o=r.styles,i=r.dynamic;return e(o,i),null};return t},nN={left:0,top:0,right:0,gap:0},Qd=function(e){return parseInt(e||"",10)||0},sN=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Qd(r),Qd(o),Qd(i)]},oN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nN;var t=sN(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},iN=N0(),Do="data-scroll-locked",aN=function(e,t,r,o){var i=e.left,a=e.top,c=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Bj,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zl,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(ec,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Zl," .").concat(Zl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(ec," .").concat(ec,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(Vj,": ").concat(d,`px;
  }
`)},Vv=function(){var e=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(e)?e:0},lN=function(){m.useEffect(function(){return document.body.setAttribute(Do,(Vv()+1).toString()),function(){var e=Vv()-1;e<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,e.toString())}},[])},cN=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,i=o===void 0?"margin":o;lN();var a=m.useMemo(function(){return oN(i)},[i]);return m.createElement(iN,{styles:aN(a,!t,i,r?"":"!important")})},Tf=!1;if(typeof window<"u")try{var Hl=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Tf=!1}var Eo=Tf?{passive:!1}:!1,uN=function(e){return e.tagName==="TEXTAREA"},T0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uN(e)&&r[t]==="visible")},dN=function(e){return T0(e,"overflowY")},fN=function(e){return T0(e,"overflowX")},Wv=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=P0(e,o);if(i){var a=R0(e,o),c=a[1],d=a[2];if(c>d)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},hN=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},pN=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},P0=function(e,t){return e==="v"?dN(t):fN(t)},R0=function(e,t){return e==="v"?hN(t):pN(t)},mN=function(e,t){return e==="h"&&t==="rtl"?-1:1},gN=function(e,t,r,o,i){var a=mN(e,window.getComputedStyle(t).direction),c=a*o,d=r.target,h=t.contains(d),p=!1,v=c>0,y=0,w=0;do{var S=R0(e,d),E=S[0],b=S[1],C=S[2],k=b-C-a*E;(E||k)&&P0(e,d)&&(y+=k,w+=E),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(t.contains(d)||t===d));return(v&&Math.abs(y)<1||!v&&Math.abs(w)<1)&&(p=!0),p},ql=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Hv=function(e){return[e.deltaX,e.deltaY]},qv=function(e){return e&&"current"in e?e.current:e},vN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xN=0,ko=[];function wN(e){var t=m.useRef([]),r=m.useRef([0,0]),o=m.useRef(),i=m.useState(xN++)[0],a=m.useState(N0)[0],c=m.useRef(e);m.useEffect(function(){c.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=Uj([e.lockRef.current],(e.shards||[]).map(qv),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=m.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var k=ql(b),j=r.current,N="deltaX"in b?b.deltaX:j[0]-k[0],A="deltaY"in b?b.deltaY:j[1]-k[1],D,U=b.target,$=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in b&&$==="h"&&U.type==="range")return!1;var q=Wv($,U);if(!q)return!0;if(q?D=$:(D=$==="v"?"h":"v",q=Wv($,U)),!q)return!1;if(!o.current&&"changedTouches"in b&&(N||A)&&(o.current=D),!D)return!0;var ce=o.current||D;return gN(ce,C,b,ce==="h"?N:A)},[]),h=m.useCallback(function(b){var C=b;if(!(!ko.length||ko[ko.length-1]!==a)){var k="deltaY"in C?Hv(C):ql(C),j=t.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&vN(D.delta,k)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var N=(c.current.shards||[]).map(qv).filter(Boolean).filter(function(D){return D.contains(C.target)}),A=N.length>0?d(C,N[0]):!c.current.noIsolation;A&&C.cancelable&&C.preventDefault()}}},[]),p=m.useCallback(function(b,C,k,j){var N={name:b,delta:C,target:k,should:j,shadowParent:bN(k)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(A){return A!==N})},1)},[]),v=m.useCallback(function(b){r.current=ql(b),o.current=void 0},[]),y=m.useCallback(function(b){p(b.type,Hv(b),b.target,d(b,e.lockRef.current))},[]),w=m.useCallback(function(b){p(b.type,ql(b),b.target,d(b,e.lockRef.current))},[]);m.useEffect(function(){return ko.push(a),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Eo),document.addEventListener("touchmove",h,Eo),document.addEventListener("touchstart",v,Eo),function(){ko=ko.filter(function(b){return b!==a}),document.removeEventListener("wheel",h,Eo),document.removeEventListener("touchmove",h,Eo),document.removeEventListener("touchstart",v,Eo)}},[]);var S=e.removeScrollBar,E=e.inert;return m.createElement(m.Fragment,null,E?m.createElement(a,{styles:yN(i)}):null,S?m.createElement(cN,{gapMode:e.gapMode}):null)}function bN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SN=Yj(j0,wN);var Pc=m.forwardRef(function(e,t){return m.createElement(Tc,Xr({},e,{ref:t,sideCar:SN}))});Pc.classNames=Tc.classNames;var _N=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jo=new WeakMap,Kl=new WeakMap,Gl={},Xd=0,I0=function(e){return e&&(e.host||I0(e.parentNode))},CN=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=I0(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EN=function(e,t,r,o){var i=CN(t,Array.isArray(e)?e:[e]);Gl[r]||(Gl[r]=new WeakMap);var a=Gl[r],c=[],d=new Set,h=new Set(i),p=function(y){!y||d.has(y)||(d.add(y),p(y.parentNode))};i.forEach(p);var v=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(w){if(d.has(w))v(w);else try{var S=w.getAttribute(o),E=S!==null&&S!=="false",b=(jo.get(w)||0)+1,C=(a.get(w)||0)+1;jo.set(w,b),a.set(w,C),c.push(w),b===1&&E&&Kl.set(w,!0),C===1&&w.setAttribute(r,"true"),E||w.setAttribute(o,"true")}catch(k){console.error("aria-hidden: cannot operate on ",w,k)}})};return v(t),d.clear(),Xd++,function(){c.forEach(function(y){var w=jo.get(y)-1,S=a.get(y)-1;jo.set(y,w),a.set(y,S),w||(Kl.has(y)||y.removeAttribute(o),Kl.delete(y)),S||y.removeAttribute(r)}),Xd--,Xd||(jo=new WeakMap,jo=new WeakMap,Kl=new WeakMap,Gl={})}},mh=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),i=_N(e);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),EN(o,i,r,"aria-hidden")):function(){return null}},gh="Dialog",[A0,QA]=Cr(gh),[kN,Wr]=A0(gh),O0=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,d=m.useRef(null),h=m.useRef(null),[p=!1,v]=as({prop:o,defaultProp:i,onChange:a});return u.jsx(kN,{scope:t,triggerRef:d,contentRef:h,contentId:Wt(),titleId:Wt(),descriptionId:Wt(),open:p,onOpenChange:v,onOpenToggle:m.useCallback(()=>v(y=>!y),[v]),modal:c,children:r})};O0.displayName=gh;var D0="DialogTrigger",L0=m.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,i=Wr(D0,r),a=Ke(t,i.triggerRef);return u.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xh(i.open),...o,ref:a,onClick:_e(e.onClick,i.onOpenToggle)})});L0.displayName=D0;var vh="DialogPortal",[jN,M0]=A0(vh,{forceMount:void 0}),$0=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:i}=e,a=Wr(vh,t);return u.jsx(jN,{scope:t,forceMount:r,children:m.Children.map(o,c=>u.jsx(Nn,{present:r||a.open,children:u.jsx(xa,{asChild:!0,container:i,children:c})}))})};$0.displayName=vh;var ac="DialogOverlay",F0=m.forwardRef((e,t)=>{const r=M0(ac,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=Wr(ac,e.__scopeDialog);return a.modal?u.jsx(Nn,{present:o||a.open,children:u.jsx(NN,{...i,ref:t})}):null});F0.displayName=ac;var NN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,i=Wr(ac,r);return u.jsx(Pc,{as:is,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ce.div,{"data-state":xh(i.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Ls="DialogContent",z0=m.forwardRef((e,t)=>{const r=M0(Ls,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=Wr(Ls,e.__scopeDialog);return u.jsx(Nn,{present:o||a.open,children:a.modal?u.jsx(TN,{...i,ref:t}):u.jsx(PN,{...i,ref:t})})});z0.displayName=Ls;var TN=m.forwardRef((e,t)=>{const r=Wr(Ls,e.__scopeDialog),o=m.useRef(null),i=Ke(t,r.contentRef,o);return m.useEffect(()=>{const a=o.current;if(a)return mh(a)},[]),u.jsx(U0,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,a=>a.preventDefault())})}),PN=m.forwardRef((e,t)=>{const r=Wr(Ls,e.__scopeDialog),o=m.useRef(!1),i=m.useRef(!1);return u.jsx(U0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(o.current||(d=r.triggerRef.current)==null||d.focus(),a.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:a=>{var h,p;(h=e.onInteractOutside)==null||h.call(e,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;((p=r.triggerRef.current)==null?void 0:p.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),U0=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=e,d=Wr(Ls,r),h=m.useRef(null),p=Ke(t,h);return ph(),u.jsxs(u.Fragment,{children:[u.jsx(Nc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Qo,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":xh(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(RN,{titleId:d.titleId}),u.jsx(AN,{contentRef:h,descriptionId:d.descriptionId})]})]})}),yh="DialogTitle",B0=m.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,i=Wr(yh,r);return u.jsx(Ce.h2,{id:i.titleId,...o,ref:t})});B0.displayName=yh;var V0="DialogDescription",W0=m.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,i=Wr(V0,r);return u.jsx(Ce.p,{id:i.descriptionId,...o,ref:t})});W0.displayName=V0;var H0="DialogClose",q0=m.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,i=Wr(H0,r);return u.jsx(Ce.button,{type:"button",...o,ref:t,onClick:_e(e.onClick,()=>i.onOpenChange(!1))})});q0.displayName=H0;function xh(e){return e?"open":"closed"}var K0="DialogTitleWarning",[XA,G0]=mj(K0,{contentName:Ls,titleName:yh,docsSlug:"dialog"}),RN=({titleId:e})=>{const t=G0(K0),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},IN="DialogDescriptionWarning",AN=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G0(IN).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},J0=O0,ON=L0,Y0=$0,wh=F0,bh=z0,Q0=B0,X0=W0,DN=q0;const Uo=J0,Pf=ON,LN=Y0,Z0=m.forwardRef(({className:e,...t},r)=>u.jsx(wh,{ref:r,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Z0.displayName=wh.displayName;const Ms=m.forwardRef(({className:e,children:t,...r},o)=>u.jsxs(LN,{children:[u.jsx(Z0,{}),u.jsxs(bh,{ref:o,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,u.jsxs(DN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(kc,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ms.displayName=bh.displayName;const $s=({className:e,...t})=>u.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});$s.displayName="DialogHeader";const Bo=({className:e,...t})=>u.jsx("div",{className:ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Bo.displayName="DialogFooter";const Fs=m.forwardRef(({className:e,...t},r)=>u.jsx(Q0,{ref:r,className:ke("text-lg font-semibold leading-none tracking-tight",e),...t}));Fs.displayName=Q0.displayName;const Vo=m.forwardRef(({className:e,...t},r)=>u.jsx(X0,{ref:r,className:ke("text-sm text-muted-foreground",e),...t}));Vo.displayName=X0.displayName;const ht=m.forwardRef(({className:e,type:t,...r},o)=>u.jsx("input",{type:t,className:ke("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...r}));ht.displayName="Input";var MN="Label",ex=m.forwardRef((e,t)=>u.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ex.displayName=MN;var tx=ex;const it=m.forwardRef(({className:e,...t},r)=>u.jsx(tx,{ref:r,className:ke("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));it.displayName=tx.displayName;const $N=jc("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 shadow hover:bg-slate-900/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80",destructive:"border-transparent bg-red-500 text-slate-50 shadow hover:bg-red-500/80",outline:"text-slate-950"}},defaultVariants:{variant:"default"}});function Ft({className:e,variant:t,...r}){return u.jsx("div",{className:ke($N({variant:t}),e),...r})}var Sh="Avatar",[FN,ZA]=Cr(Sh),[zN,rx]=FN(Sh),nx=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...o}=e,[i,a]=m.useState("idle");return u.jsx(zN,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(Ce.span,{...o,ref:t})})});nx.displayName=Sh;var sx="AvatarImage",ox=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:i=()=>{},...a}=e,c=rx(sx,r),d=UN(o,a.referrerPolicy),h=Ht(p=>{i(p),c.onImageLoadingStatusChange(p)});return kt(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?u.jsx(Ce.img,{...a,ref:t,src:o}):null});ox.displayName=sx;var ix="AvatarFallback",ax=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:o,...i}=e,a=rx(ix,r),[c,d]=m.useState(o===void 0);return m.useEffect(()=>{if(o!==void 0){const h=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(h)}},[o]),c&&a.imageLoadingStatus!=="loaded"?u.jsx(Ce.span,{...i,ref:t}):null});ax.displayName=ix;function UN(e,t){const[r,o]=m.useState("idle");return kt(()=>{if(!e){o("error");return}let i=!0;const a=new window.Image,c=d=>()=>{i&&o(d)};return o("loading"),a.onload=c("loaded"),a.onerror=c("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{i=!1}},[e,t]),r}var lx=nx,cx=ox,ux=ax;const Xo=m.forwardRef(({className:e,...t},r)=>u.jsx(lx,{ref:r,className:ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Xo.displayName=lx.displayName;const BN=m.forwardRef(({className:e,...t},r)=>u.jsx(cx,{ref:r,className:ke("aspect-square h-full w-full",e),...t}));BN.displayName=cx.displayName;const Zo=m.forwardRef(({className:e,...t},r)=>u.jsx(ux,{ref:r,className:ke("flex h-full w-full items-center justify-center rounded-full bg-slate-100 text-slate-900",e),...t}));Zo.displayName=ux.displayName;function _h(e){const t=e+"CollectionProvider",[r,o]=Cr(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:E,children:b}=S,C=Ye.useRef(null),k=Ye.useRef(new Map).current;return u.jsx(i,{scope:E,itemMap:k,collectionRef:C,children:b})};c.displayName=t;const d=e+"CollectionSlot",h=Ye.forwardRef((S,E)=>{const{scope:b,children:C}=S,k=a(d,b),j=Ke(E,k.collectionRef);return u.jsx(is,{ref:j,children:C})});h.displayName=d;const p=e+"CollectionItemSlot",v="data-radix-collection-item",y=Ye.forwardRef((S,E)=>{const{scope:b,children:C,...k}=S,j=Ye.useRef(null),N=Ke(E,j),A=a(p,b);return Ye.useEffect(()=>(A.itemMap.set(j,{ref:j,...k}),()=>void A.itemMap.delete(j))),u.jsx(is,{[v]:"",ref:N,children:C})});y.displayName=p;function w(S){const E=a(e+"CollectionConsumer",S);return Ye.useCallback(()=>{const C=E.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(E.itemMap.values()).sort((A,D)=>k.indexOf(A.ref.current)-k.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},w,o]}var VN=m.createContext(void 0);function Ch(e){const t=m.useContext(VN);return e||t||"ltr"}var Zd="rovingFocusGroup.onEntryFocus",WN={bubbles:!1,cancelable:!0},Rc="RovingFocusGroup",[Rf,dx,HN]=_h(Rc),[qN,fx]=Cr(Rc,[HN]),[KN,GN]=qN(Rc),hx=m.forwardRef((e,t)=>u.jsx(Rf.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Rf.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(JN,{...e,ref:t})})}));hx.displayName=Rc;var JN=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...y}=e,w=m.useRef(null),S=Ke(t,w),E=Ch(a),[b=null,C]=as({prop:c,defaultProp:d,onChange:h}),[k,j]=m.useState(!1),N=Ht(p),A=dx(r),D=m.useRef(!1),[U,$]=m.useState(0);return m.useEffect(()=>{const q=w.current;if(q)return q.addEventListener(Zd,N),()=>q.removeEventListener(Zd,N)},[N]),u.jsx(KN,{scope:r,orientation:o,dir:E,loop:i,currentTabStopId:b,onItemFocus:m.useCallback(q=>C(q),[C]),onItemShiftTab:m.useCallback(()=>j(!0),[]),onFocusableItemAdd:m.useCallback(()=>$(q=>q+1),[]),onFocusableItemRemove:m.useCallback(()=>$(q=>q-1),[]),children:u.jsx(Ce.div,{tabIndex:k||U===0?-1:0,"data-orientation":o,...y,ref:S,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{D.current=!0}),onFocus:_e(e.onFocus,q=>{const ce=!D.current;if(q.target===q.currentTarget&&ce&&!k){const K=new CustomEvent(Zd,WN);if(q.currentTarget.dispatchEvent(K),!K.defaultPrevented){const V=A().filter(ie=>ie.focusable),J=V.find(ie=>ie.active),oe=V.find(ie=>ie.id===b),ge=[J,oe,...V].filter(Boolean).map(ie=>ie.ref.current);gx(ge,v)}}D.current=!1}),onBlur:_e(e.onBlur,()=>j(!1))})})}),px="RovingFocusGroupItem",mx=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:a,...c}=e,d=Wt(),h=a||d,p=GN(px,r),v=p.currentTabStopId===h,y=dx(r),{onFocusableItemAdd:w,onFocusableItemRemove:S}=p;return m.useEffect(()=>{if(o)return w(),()=>S()},[o,w,S]),u.jsx(Rf.ItemSlot,{scope:r,id:h,focusable:o,active:i,children:u.jsx(Ce.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:_e(e.onMouseDown,E=>{o?p.onItemFocus(h):E.preventDefault()}),onFocus:_e(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:_e(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){p.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const b=XN(E,p.orientation,p.dir);if(b!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let k=y().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const j=k.indexOf(E.currentTarget);k=p.loop?ZN(k,j+1):k.slice(j+1)}setTimeout(()=>gx(k))}})})})});mx.displayName=px;var YN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function QN(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function XN(e,t,r){const o=QN(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return YN[o]}function gx(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function ZN(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var eT=hx,tT=mx,Eh="Tabs",[rT,eO]=Cr(Eh,[fx]),vx=fx(),[nT,kh]=rT(Eh),yx=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,onValueChange:i,defaultValue:a,orientation:c="horizontal",dir:d,activationMode:h="automatic",...p}=e,v=Ch(d),[y,w]=as({prop:o,onChange:i,defaultProp:a});return u.jsx(nT,{scope:r,baseId:Wt(),value:y,onValueChange:w,orientation:c,dir:v,activationMode:h,children:u.jsx(Ce.div,{dir:v,"data-orientation":c,...p,ref:t})})});yx.displayName=Eh;var xx="TabsList",wx=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:o=!0,...i}=e,a=kh(xx,r),c=vx(r);return u.jsx(eT,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:o,children:u.jsx(Ce.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});wx.displayName=xx;var bx="TabsTrigger",Sx=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,disabled:i=!1,...a}=e,c=kh(bx,r),d=vx(r),h=Ex(c.baseId,o),p=kx(c.baseId,o),v=o===c.value;return u.jsx(tT,{asChild:!0,...d,focusable:!i,active:v,children:u.jsx(Ce.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...a,ref:t,onMouseDown:_e(e.onMouseDown,y=>{!i&&y.button===0&&y.ctrlKey===!1?c.onValueChange(o):y.preventDefault()}),onKeyDown:_e(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(o)}),onFocus:_e(e.onFocus,()=>{const y=c.activationMode!=="manual";!v&&!i&&y&&c.onValueChange(o)})})})});Sx.displayName=bx;var _x="TabsContent",Cx=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,forceMount:i,children:a,...c}=e,d=kh(_x,r),h=Ex(d.baseId,o),p=kx(d.baseId,o),v=o===d.value,y=m.useRef(v);return m.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),u.jsx(Nn,{present:i||v,children:({present:w})=>u.jsx(Ce.div,{"data-state":v?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!w,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&a})})});Cx.displayName=_x;function Ex(e,t){return`${e}-trigger-${t}`}function kx(e,t){return`${e}-content-${t}`}var sT=yx,jx=wx,Nx=Sx,Tx=Cx;const Ic=sT,wa=m.forwardRef(({className:e,...t},r)=>u.jsx(jx,{ref:r,className:ke("inline-flex h-9 items-center justify-center rounded-lg bg-slate-100 p-1 text-slate-500",e),...t}));wa.displayName=jx.displayName;const _r=m.forwardRef(({className:e,...t},r)=>u.jsx(Nx,{ref:r,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow",e),...t}));_r.displayName=Nx.displayName;const If=m.forwardRef(({className:e,...t},r)=>u.jsx(Tx,{ref:r,className:ke("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2",e),...t}));If.displayName=Tx.displayName;const oT=jc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ba=Ye.forwardRef(({className:e,variant:t,...r},o)=>u.jsx("div",{ref:o,role:"alert",className:ke(oT({variant:t}),e),...r}));ba.displayName="Alert";const jh=Ye.forwardRef(({className:e,...t},r)=>u.jsx("h5",{ref:r,className:ke("mb-1 font-medium leading-none tracking-tight",e),...t}));jh.displayName="AlertTitle";const Sa=Ye.forwardRef(({className:e,...t},r)=>u.jsx("div",{ref:r,className:ke("text-sm [&_p]:leading-relaxed",e),...t}));Sa.displayName="AlertDescription";const iT=({list:e,onDelete:t,onDuplicate:r})=>{var v;const o=on(),i=y=>{y&&(y.preventDefault(),y.stopPropagation()),o(`/edit-list/${e.id}`)},a=y=>{y.target.closest("button")||o(`/list-detail/${e.id}`)},c=y=>{y&&(y.preventDefault(),y.stopPropagation()),t(e.id)},d=y=>{y&&(y.preventDefault(),y.stopPropagation()),r(e)},h=()=>{switch(e.status){case"active":return"bg-emerald-500 text-white";case"completed":return"bg-slate-700 text-slate-200";case"archived":return"bg-slate-700 text-slate-200";default:return"bg-slate-700 text-slate-200"}},p=()=>{switch(e.status){case"active":return"";case"completed":return"";case"archived":return"";default:return""}};return u.jsxs(Vt,{className:"group relative bg-slate-900 border-slate-800 hover:border-slate-700 transition-all cursor-pointer",onClick:a,children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),u.jsx(tn,{children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx(rn,{className:"text-slate-100",children:e.name}),u.jsx(Cn,{className:"text-slate-400",children:e.description})]}),u.jsx(Ft,{className:h(),children:p()})]})}),u.jsxs(rr,{children:[u.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(zo,{className:"h-4 w-4"}),u.jsxs("span",{children:[e.items," "]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_c,{className:"h-4 w-4"}),u.jsx("span",{children:e.date})]})]}),((v=e.sharedWith)==null?void 0:v.length)>0&&u.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[u.jsx(Os,{className:"h-4 w-4 text-slate-400"}),u.jsx("div",{className:"flex -space-x-2",children:e.sharedWith.map((y,w)=>u.jsx(Xo,{className:"h-6 w-6 border-2 border-slate-900",children:u.jsx(Zo,{className:"bg-slate-700 text-slate-200 text-xs",children:y[0]})},w))})]})]}),u.jsx(ya,{className:"flex items-center p-6 pt-0 border-t border-slate-800 bg-slate-900/50",children:u.jsxs("div",{className:"flex w-full gap-[10%] justify-center",children:[u.jsx(ye,{variant:"ghost",size:"default",className:"flex-1 text-slate-400 hover:text-red-400 hover:bg-red-500/10 z-10",onClick:c,children:u.jsx(Is,{className:"h-5 w-5"})}),u.jsx(ye,{variant:"ghost",size:"default",className:"flex-1 text-slate-400 hover:text-blue-400 hover:bg-blue-500/10 z-10",onClick:d,children:u.jsx(Sk,{className:"h-5 w-5"})}),u.jsx(ye,{variant:"ghost",size:"default",className:"flex-1 text-slate-400 hover:text-slate-100 hover:bg-slate-700 z-10",onClick:i,children:u.jsx(Xi,{className:"h-5 w-5"})})]})})]})},aT=async()=>{try{console.log("Fetching all lists from Supabase");const{data:{user:e}}=await Re.auth.getUser(),t=e==null?void 0:e.id;if(!t)return console.warn("No authenticated user found, returning empty list"),[];const{data:r,error:o}=await Re.from("shopping_lists").select(`
        *,
        items:shopping_items(count)
      `).eq("user_id",t).order("created_at",{ascending:!1});if(o)throw console.error("Supabase error fetching lists:",o),o;console.log("Lists fetched successfully from DB:",r);const i=(r||[]).map(a=>{var c,d;return{...a,items:((d=(c=a.items)==null?void 0:c[0])==null?void 0:d.count)||0,sharedWith:[],date:new Date(a.created_at||Date.now()).toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:a.updated_at?new Date(a.updated_at).toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"}):" ",description:a.description||" ",status:a.status||"active"}});return console.log("Lists converted to UI format:",i),i}catch(e){console.error("Error fetching lists from Supabase:",e);try{const t=localStorage.getItem("shoppingLists"),r=t?JSON.parse(t):[];return console.log("Using localStorage fallback for lists:",r),r}catch(t){return console.error("Error reading from localStorage:",t),[]}}},Nh=async e=>{var t,r;try{if(console.log("Fetching list with ID:",e),!e)return console.error("No ID provided for list fetch"),null;const{data:o,error:i}=await Re.from("shopping_lists").select(`
        *,
        items:shopping_items(count)
      `).eq("id",e).single();if(i)throw console.error("Supabase error fetching list:",i),i;console.log("List fetched successfully from DB:",o);const a=o?{...o,items:((r=(t=o.items)==null?void 0:t[0])==null?void 0:r.count)||0,sharedWith:[],date:new Date(o.created_at||Date.now()).toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:o.updated_at?new Date(o.updated_at).toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"}):" ",description:o.description||" ",status:o.status||"active"}:null;return console.log("List converted to UI format:",a),a}catch(o){console.error("Error fetching list from Supabase:",o);try{const i=localStorage.getItem("shoppingLists");if(i){const c=JSON.parse(i).find(d=>d.id===e);return console.log("Using localStorage fallback for list:",c),c||null}}catch(i){console.error("Error reading from localStorage:",i)}return null}},Af=async e=>{try{const{data:{user:t}}=await Re.auth.getUser();if(!t)return console.warn("No authenticated user found when creating list"),{...e,_not_synced:!0,_error:"User not authenticated"};const r={name:e.name,user_id:t.id};console.log("Sending list data to Supabase:",r);const{data:o,error:i}=await Re.from("shopping_lists").insert(r).select().single();return i?(console.error("Error creating list in Supabase:",i),{...e,_not_synced:!0,_error:i.message}):(console.log("List created in Supabase:",o),o)}catch(t){if(console.error("Exception creating list:",t),typeof localStorage<"u")try{const r=JSON.parse(localStorage.getItem("shoppingLists"))||[];r.unshift(e),localStorage.setItem("shoppingLists",JSON.stringify(r))}catch(r){console.error("Error saving to localStorage:",r)}return{...e,_not_synced:!0,_error:t.message}}},Th=async e=>{try{const{data:{user:t}}=await Re.auth.getUser();if(!t)return console.warn("No authenticated user found when updating list"),{...e,_not_synced:!0,_error:"User not authenticated"};if(!e.id)return console.error("Cannot update list without ID"),{...e,_not_synced:!0,_error:"Missing list ID"};const{data:r,error:o}=await Re.from("shopping_lists").update({name:e.name,description:e.description,status:e.status,updated_at:new Date().toISOString()}).eq("id",e.id).select().single();if(o)return console.error("Error updating list in Supabase:",o),{...e,_not_synced:!0,_error:o.message};console.log("List updated in Supabase:",r);try{const a=(JSON.parse(localStorage.getItem("shoppingLists"))||[]).map(c=>c.id===e.id?{...c,name:r.name,description:r.description,status:r.status,updated_at:r.updated_at,date:new Date(r.created_at).toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:new Date(r.updated_at).toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"})}:c);return localStorage.setItem("shoppingLists",JSON.stringify(a)),console.log("List updated in localStorage"),{...r,date:new Date(r.created_at).toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:new Date(r.updated_at).toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"})}}catch(i){return console.error("Error updating list in localStorage:",i),r}}catch(t){return console.error("Exception updating list:",t),{...e,_not_synced:!0,_error:t.message}}},lT=async e=>{try{const{data:{user:t}}=await Re.auth.getUser();if(!t)return console.warn("No authenticated user found when deleting list"),{id:e,_not_synced:!0,_error:"User not authenticated"};if(!e)return console.error("Cannot delete list without ID"),{id:e,_not_synced:!0,_error:"Missing list ID"};console.log("Deleting list from Supabase:",e);const{error:r}=await Re.from("shopping_lists").delete().eq("id",e);if(r)return console.error("Error deleting list from Supabase:",r),{id:e,_not_synced:!0,_error:r.message};if(console.log("List deleted from Supabase:",e),typeof localStorage<"u")try{const o=JSON.parse(localStorage.getItem("shoppingLists"))||[];if(!Array.isArray(o))return console.error("Lists is not an array in deleteList localStorage update"),{id:e,success:!0};const i=o.filter(a=>a.id!==e);localStorage.setItem("shoppingLists",JSON.stringify(i))}catch(o){console.error("Error updating localStorage after delete:",o)}return{id:e,success:!0}}catch(t){return console.error("Exception deleting list:",t),{id:e,_not_synced:!0,_error:t.message}}},cT=async e=>{try{if(!Array.isArray(e))return console.error("localLists is not an array in syncLists"),{lists:[],_not_synced:!0,_error:"Invalid local lists data (not an array)"};const{data:{user:t}}=await Re.auth.getUser();if(!t)return console.error("No authenticated user found in syncLists"),{lists:e,_not_synced:!0,_error:"User not authenticated"};console.log("Starting sync process with local lists:",e);const{data:r,error:o}=await Re.from("shopping_lists").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(o)return console.error("Error fetching lists from Supabase:",o),{lists:e,_not_synced:!0,_error:o.message};console.log("Server lists:",r);const a=e.map(v=>v._not_synced?v:{id:v.id,name:v.name,items:v.items||[],items_count:v.items_count||(typeof v.items=="number"?v.items:0),shared_with:v.shared_with||v.sharedWith||[],status:v.status||"active",user_id:t.id}).filter(v=>{if(v._not_synced)return!1;if(typeof v.id=="number"&&v.id>1e9)return!0;const y=r.find(w=>w.id===v.id);return y?JSON.stringify(v)!==JSON.stringify(y):!0});console.log("Lists that need to be synced:",a);const c=await Promise.all(a.map(async v=>{try{if(typeof v.id=="number"&&v.id>1e9){const{id:y,...w}=v,S=await Af(w);return{originalId:y,result:S,action:"create"}}else{const y=await Th(v);return{originalId:v.id,result:y,action:"update"}}}catch(y){return console.error(`Error syncing list ${v.id}:`,y),{originalId:v.id,error:y.message,action:"error"}}}));console.log("Sync results:",c);const{data:d,error:h}=await Re.from("shopping_lists").select(`
        *,
        items:shopping_items(count)
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(h)return console.error("Error refreshing lists from Supabase after sync:",h),{lists:e,_not_synced:!0,_error:h.message,syncResults:c};if(!Array.isArray(d))return console.error("updatedServerLists is not an array in syncLists"),{lists:e,_not_synced:!0,_error:"Invalid server lists data (not an array)",syncResults:c};const p=d.map(v=>{var y,w;return{...v,items:((w=(y=v.items)==null?void 0:y[0])==null?void 0:w.count)||0,sharedWith:[],date:new Date(v.created_at||Date.now()).toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:v.updated_at?new Date(v.updated_at).toLocaleDateString("he-IL",{hour:"2-digit",minute:"2-digit"}):" ",description:v.description||" ",status:v.status||"active"}});return console.log("Updated display lists after sync:",p),typeof localStorage<"u"&&localStorage.setItem("shoppingLists",JSON.stringify(p)),{lists:p,syncResults:c}}catch(t){return console.error("Exception during sync process:",t),{lists:e,_not_synced:!0,_error:t.message}}},uT=5,dT=1e6,bn={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ef=0;function fT(){return ef=(ef+1)%Number.MAX_VALUE,ef.toString()}const tf=new Map,Kv=e=>{if(tf.has(e))return;const t=setTimeout(()=>{tf.delete(e),ra({type:bn.REMOVE_TOAST,toastId:e})},dT);tf.set(e,t)},hT=(e,t)=>{switch(t.type){case bn.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,uT)};case bn.UPDATE_TOAST:return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case bn.DISMISS_TOAST:{const{toastId:r}=t;return r?Kv(r):e.toasts.forEach(o=>{Kv(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,open:!1}:o)}}case bn.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},tc=[];let rc={toasts:[]};function ra(e){rc=hT(rc,e),tc.forEach(t=>{t(rc)})}function Pe({variant:e="default",title:t,description:r,duration:o=5e3,...i}){const a=fT(),c=h=>ra({type:bn.UPDATE_TOAST,toast:{...h,id:a}}),d=()=>ra({type:bn.DISMISS_TOAST,toastId:a});return ra({type:bn.ADD_TOAST,toast:{id:a,variant:e,title:t,description:r,duration:o,open:!0,...i}}),o>0&&setTimeout(()=>{d()},o),{id:a,dismiss:d,update:c}}function pT(){const[e,t]=m.useState(rc);return m.useEffect(()=>(tc.push(t),()=>{const r=tc.indexOf(t);r>-1&&tc.splice(r,1)}),[e]),{...e,toast:Pe,dismiss:r=>ra({type:bn.DISMISS_TOAST,toastId:r})}}class yt{constructor(t){this.id=t.id,this.name=t.name,this.category=t.category,this.createdAt=t.created_at,this.updatedAt=t.updated_at}static async create({name:t,category:r}){try{const{data:o}=await Re.from("products").select("*").ilike("name",t).single();if(o)throw new Error(`  "${t}"   `);const{data:i,error:a}=await Re.from("products").insert([{name:t,category:r}]).select().single();if(a)throw a;return new yt(i)}catch(o){throw console.error("Error creating product:",o),o}}static async findByName(t){try{const{data:r,error:o}=await Re.from("products").select("*").ilike("name",t).single();if(o){if(o.code==="PGRST116")return null;throw o}return r?new yt(r):null}catch(r){throw console.error("Error finding product by name:",r),r}}static async getAll(){try{const{data:t,error:r}=await Re.from("products").select("*").order("name");if(r)throw r;return t.map(o=>new yt(o))}catch(t){throw console.error("Error getting products:",t),t}}static async getById(t){try{const{data:r,error:o}=await Re.from("products").select("*").eq("id",t).single();if(o)throw o;return new yt(r)}catch(r){throw console.error("Error getting product:",r),r}}static async update(t,r){try{const o=await this.getById(t);if(!o)throw new Error("  ");return await o.update(r)}catch(o){throw console.error("Error updating product:",o),o}}static async search(t){try{const{data:r,error:o}=await Re.from("products").select("*").ilike("name",`%${t}%`).order("name");if(o)throw o;return r.map(i=>new yt(i))}catch(r){throw console.error("Error searching products:",r),r}}static async getByCategory(t){try{const{data:r,error:o}=await Re.from("products").select("*").eq("category",t).order("name");if(o)throw o;return r.map(i=>new yt(i))}catch(r){throw console.error("Error getting products by category:",r),r}}static async getCategories(){try{const{data:t,error:r}=await Re.from("products").select("category").not("category","is",null).order("category");if(r)throw r;return[...new Set(t.map(o=>o.category))]}catch(t){throw console.error("Error getting categories:",t),t}}async update({name:t,category:r}){try{const o={};if(r!==void 0&&(o.category=r),t!==void 0){if(t!==this.name){const c=await yt.findByName(t);if(c&&c.id!==this.id)throw new Error("    ")}o.name=t}const{data:i,error:a}=await Re.from("products").update(o).eq("id",this.id).select().single();if(a)throw a;return Object.assign(this,i),this}catch(o){throw console.error("Error updating product:",o),o}}async delete(){try{const{error:t}=await Re.from("products").delete().eq("id",this.id);if(t)throw t;return!0}catch(t){throw console.error("Error deleting product:",t),t}}static async findDuplicates(){try{const{data:t,error:r}=await Re.from("products").select("name, count(*)").group("name").having("count(*) > 1");if(r)throw r;return t}catch(t){throw console.error("Error finding duplicates:",t),t}}static async mergeDuplicates(){try{const t=await this.findDuplicates();for(const r of t){const{data:o}=await Re.from("products").select("*").eq("name",r.name).order("created_at");if(!o||o.length<=1)continue;const i=o[0],a=o.slice(1).map(c=>c.id);await Re.from("shopping_items").update({product_id:i.id}).in("product_id",a),await Re.from("products").delete().in("id",a)}return!0}catch(t){throw console.error("Error merging duplicates:",t),t}}}class Fr{constructor(t){this.id=t.id,this.list_id=t.list_id,this.product_id=t.product_id,this.quantity=t.quantity,this.is_checked=t.is_checked??!1,this.created_at=t.created_at,this.updated_at=t.updated_at,this.product=t.product?t.product instanceof yt?t.product:new yt(t.product):null}static async create({listId:t,productId:r,quantity:o=1}){try{const{data:i,error:a}=await Re.from("shopping_items").insert([{list_id:t,product_id:r,quantity:o,is_checked:!1}]).select(`
          *,
          product:products(*)
        `).single();if(a)throw a;return new Fr(i)}catch(i){throw console.error("Error creating shopping item:",i),i}}static async getById(t){try{const{data:r,error:o}=await Re.from("shopping_items").select(`
          *,
          product:products(*)
        `).eq("id",t).single();if(o)throw o;return new Fr(r)}catch(r){throw console.error("Error getting shopping item:",r),r}}static async getByListId(t){try{const{data:r,error:o}=await Re.from("shopping_items").select(`
          *,
          product:products(*)
        `).eq("list_id",t);if(o)throw o;return r.map(i=>new Fr(i))}catch(r){throw console.error("Error fetching shopping items:",r),r}}async update({quantity:t,isChecked:r}){try{const o={};t!==void 0&&(o.quantity=t),r!==void 0&&(o.is_checked=r);const{data:i,error:a}=await Re.from("shopping_items").update(o).eq("id",this.id).select(`
          *,
          product:products(*)
        `).single();if(a)throw a;return Object.assign(this,i),this}catch(o){throw console.error("Error updating shopping item:",o),o}}async delete(){try{const{error:t}=await Re.from("shopping_items").delete().eq("id",this.id);if(t)throw t;return!0}catch(t){throw console.error("Error deleting shopping item:",t),t}}async toggleChecked(){return this.update({isChecked:!this.is_checked})}async incrementQuantity(){return this.update({quantity:this.quantity+1})}async decrementQuantity(){return this.quantity>1?this.update({quantity:this.quantity-1}):this.delete()}}function Gv(e,[t,r]){return Math.min(r,Math.max(t,e))}const mT=["top","right","bottom","left"],ls=Math.min,dr=Math.max,lc=Math.round,Jl=Math.floor,Zr=e=>({x:e,y:e}),gT={left:"right",right:"left",bottom:"top",top:"bottom"},vT={start:"end",end:"start"};function Of(e,t,r){return dr(e,ls(t,r))}function En(e,t){return typeof e=="function"?e(t):e}function kn(e){return e.split("-")[0]}function ei(e){return e.split("-")[1]}function Ph(e){return e==="x"?"y":"x"}function Rh(e){return e==="y"?"height":"width"}function cs(e){return["top","bottom"].includes(kn(e))?"y":"x"}function Ih(e){return Ph(cs(e))}function yT(e,t,r){r===void 0&&(r=!1);const o=ei(e),i=Ih(e),a=Rh(i);let c=i==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(c=cc(c)),[c,cc(c)]}function xT(e){const t=cc(e);return[Df(e),t,Df(t)]}function Df(e){return e.replace(/start|end/g,t=>vT[t])}function wT(e,t,r){const o=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:o:t?o:i;case"left":case"right":return t?a:c;default:return[]}}function bT(e,t,r,o){const i=ei(e);let a=wT(kn(e),r==="start",o);return i&&(a=a.map(c=>c+"-"+i),t&&(a=a.concat(a.map(Df)))),a}function cc(e){return e.replace(/left|right|bottom|top/g,t=>gT[t])}function ST(e){return{top:0,right:0,bottom:0,left:0,...e}}function Px(e){return typeof e!="number"?ST(e):{top:e,right:e,bottom:e,left:e}}function uc(e){const{x:t,y:r,width:o,height:i}=e;return{width:o,height:i,top:r,left:t,right:t+o,bottom:r+i,x:t,y:r}}function Jv(e,t,r){let{reference:o,floating:i}=e;const a=cs(t),c=Ih(t),d=Rh(c),h=kn(t),p=a==="y",v=o.x+o.width/2-i.width/2,y=o.y+o.height/2-i.height/2,w=o[d]/2-i[d]/2;let S;switch(h){case"top":S={x:v,y:o.y-i.height};break;case"bottom":S={x:v,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y};break;case"left":S={x:o.x-i.width,y};break;default:S={x:o.x,y:o.y}}switch(ei(t)){case"start":S[c]-=w*(r&&p?-1:1);break;case"end":S[c]+=w*(r&&p?-1:1);break}return S}const _T=async(e,t,r)=>{const{placement:o="bottom",strategy:i="absolute",middleware:a=[],platform:c}=r,d=a.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:i}),{x:v,y}=Jv(p,o,h),w=o,S={},E=0;for(let b=0;b<d.length;b++){const{name:C,fn:k}=d[b],{x:j,y:N,data:A,reset:D}=await k({x:v,y,initialPlacement:o,placement:w,strategy:i,middlewareData:S,rects:p,platform:c,elements:{reference:e,floating:t}});v=j??v,y=N??y,S={...S,[C]:{...S[C],...A}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(w=D.placement),D.rects&&(p=D.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:i}):D.rects),{x:v,y}=Jv(p,w,h)),b=-1)}return{x:v,y,placement:w,strategy:i,middlewareData:S}};async function ca(e,t){var r;t===void 0&&(t={});const{x:o,y:i,platform:a,rects:c,elements:d,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:w=!1,padding:S=0}=En(t,e),E=Px(S),C=d[w?y==="floating"?"reference":"floating":y],k=uc(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:h})),j=y==="floating"?{x:o,y:i,width:c.floating.width,height:c.floating.height}:c.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),A=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},D=uc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:N,strategy:h}):j);return{top:(k.top-D.top+E.top)/A.y,bottom:(D.bottom-k.bottom+E.bottom)/A.y,left:(k.left-D.left+E.left)/A.x,right:(D.right-k.right+E.right)/A.x}}const CT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:i,rects:a,platform:c,elements:d,middlewareData:h}=t,{element:p,padding:v=0}=En(e,t)||{};if(p==null)return{};const y=Px(v),w={x:r,y:o},S=Ih(i),E=Rh(S),b=await c.getDimensions(p),C=S==="y",k=C?"top":"left",j=C?"bottom":"right",N=C?"clientHeight":"clientWidth",A=a.reference[E]+a.reference[S]-w[S]-a.floating[E],D=w[S]-a.reference[S],U=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let $=U?U[N]:0;(!$||!await(c.isElement==null?void 0:c.isElement(U)))&&($=d.floating[N]||a.floating[E]);const q=A/2-D/2,ce=$/2-b[E]/2-1,K=ls(y[k],ce),V=ls(y[j],ce),J=K,oe=$-b[E]-V,W=$/2-b[E]/2+q,ge=Of(J,W,oe),ie=!h.arrow&&ei(i)!=null&&W!==ge&&a.reference[E]/2-(W<J?K:V)-b[E]/2<0,ae=ie?W<J?W-J:W-oe:0;return{[S]:w[S]+ae,data:{[S]:ge,centerOffset:W-ge-ae,...ie&&{alignmentOffset:ae}},reset:ie}}}),ET=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:h,elements:p}=t,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...C}=En(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const k=kn(i),j=cs(d),N=kn(d)===d,A=await(h.isRTL==null?void 0:h.isRTL(p.floating)),D=w||(N||!b?[cc(d)]:xT(d)),U=E!=="none";!w&&U&&D.push(...bT(d,b,E,A));const $=[d,...D],q=await ca(t,C),ce=[];let K=((o=a.flip)==null?void 0:o.overflows)||[];if(v&&ce.push(q[k]),y){const W=yT(i,c,A);ce.push(q[W[0]],q[W[1]])}if(K=[...K,{placement:i,overflows:ce}],!ce.every(W=>W<=0)){var V,J;const W=(((V=a.flip)==null?void 0:V.index)||0)+1,ge=$[W];if(ge)return{data:{index:W,overflows:K},reset:{placement:ge}};let ie=(J=K.filter(ae=>ae.overflows[0]<=0).sort((ae,B)=>ae.overflows[1]-B.overflows[1])[0])==null?void 0:J.placement;if(!ie)switch(S){case"bestFit":{var oe;const ae=(oe=K.filter(B=>{if(U){const ee=cs(B.placement);return ee===j||ee==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ee=>ee>0).reduce((ee,ne)=>ee+ne,0)]).sort((B,ee)=>B[1]-ee[1])[0])==null?void 0:oe[0];ae&&(ie=ae);break}case"initialPlacement":ie=d;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Yv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qv(e){return mT.some(t=>e[t]>=0)}const kT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:o="referenceHidden",...i}=En(e,t);switch(o){case"referenceHidden":{const a=await ca(t,{...i,elementContext:"reference"}),c=Yv(a,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qv(c)}}}case"escaped":{const a=await ca(t,{...i,altBoundary:!0}),c=Yv(a,r.floating);return{data:{escapedOffsets:c,escaped:Qv(c)}}}default:return{}}}}};async function jT(e,t){const{placement:r,platform:o,elements:i}=e,a=await(o.isRTL==null?void 0:o.isRTL(i.floating)),c=kn(r),d=ei(r),h=cs(r)==="y",p=["left","top"].includes(c)?-1:1,v=a&&h?-1:1,y=En(t,e);let{mainAxis:w,crossAxis:S,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof E=="number"&&(S=d==="end"?E*-1:E),h?{x:S*v,y:w*p}:{x:w*p,y:S*v}}const NT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:i,y:a,placement:c,middlewareData:d}=t,h=await jT(t,e);return c===((r=d.offset)==null?void 0:r.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:i+h.x,y:a+h.y,data:{...h,placement:c}}}}},TT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:i}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:C=>{let{x:k,y:j}=C;return{x:k,y:j}}},...h}=En(e,t),p={x:r,y:o},v=await ca(t,h),y=cs(kn(i)),w=Ph(y);let S=p[w],E=p[y];if(a){const C=w==="y"?"top":"left",k=w==="y"?"bottom":"right",j=S+v[C],N=S-v[k];S=Of(j,S,N)}if(c){const C=y==="y"?"top":"left",k=y==="y"?"bottom":"right",j=E+v[C],N=E-v[k];E=Of(j,E,N)}const b=d.fn({...t,[w]:S,[y]:E});return{...b,data:{x:b.x-r,y:b.y-o,enabled:{[w]:a,[y]:c}}}}}},PT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:o,placement:i,rects:a,middlewareData:c}=t,{offset:d=0,mainAxis:h=!0,crossAxis:p=!0}=En(e,t),v={x:r,y:o},y=cs(i),w=Ph(y);let S=v[w],E=v[y];const b=En(d,t),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(h){const N=w==="y"?"height":"width",A=a.reference[w]-a.floating[N]+C.mainAxis,D=a.reference[w]+a.reference[N]-C.mainAxis;S<A?S=A:S>D&&(S=D)}if(p){var k,j;const N=w==="y"?"width":"height",A=["top","left"].includes(kn(i)),D=a.reference[y]-a.floating[N]+(A&&((k=c.offset)==null?void 0:k[y])||0)+(A?0:C.crossAxis),U=a.reference[y]+a.reference[N]+(A?0:((j=c.offset)==null?void 0:j[y])||0)-(A?C.crossAxis:0);E<D?E=D:E>U&&(E=U)}return{[w]:S,[y]:E}}}},RT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,o;const{placement:i,rects:a,platform:c,elements:d}=t,{apply:h=()=>{},...p}=En(e,t),v=await ca(t,p),y=kn(i),w=ei(i),S=cs(i)==="y",{width:E,height:b}=a.floating;let C,k;y==="top"||y==="bottom"?(C=y,k=w===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(k=y,C=w==="end"?"top":"bottom");const j=b-v.top-v.bottom,N=E-v.left-v.right,A=ls(b-v[C],j),D=ls(E-v[k],N),U=!t.middlewareData.shift;let $=A,q=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(q=N),(o=t.middlewareData.shift)!=null&&o.enabled.y&&($=j),U&&!w){const K=dr(v.left,0),V=dr(v.right,0),J=dr(v.top,0),oe=dr(v.bottom,0);S?q=E-2*(K!==0||V!==0?K+V:dr(v.left,v.right)):$=b-2*(J!==0||oe!==0?J+oe:dr(v.top,v.bottom))}await h({...t,availableWidth:q,availableHeight:$});const ce=await c.getDimensions(d.floating);return E!==ce.width||b!==ce.height?{reset:{rects:!0}}:{}}}};function Ac(){return typeof window<"u"}function ti(e){return Rx(e)?(e.nodeName||"").toLowerCase():"#document"}function fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function an(e){var t;return(t=(Rx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rx(e){return Ac()?e instanceof Node||e instanceof fr(e).Node:!1}function Ur(e){return Ac()?e instanceof Element||e instanceof fr(e).Element:!1}function nn(e){return Ac()?e instanceof HTMLElement||e instanceof fr(e).HTMLElement:!1}function Xv(e){return!Ac()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fr(e).ShadowRoot}function _a(e){const{overflow:t,overflowX:r,overflowY:o,display:i}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(i)}function IT(e){return["table","td","th"].includes(ti(e))}function Oc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ah(e){const t=Oh(),r=Ur(e)?Br(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(r.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(r.contain||"").includes(o))}function AT(e){let t=us(e);for(;nn(t)&&!Wo(t);){if(Ah(t))return t;if(Oc(t))return null;t=us(t)}return null}function Oh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wo(e){return["html","body","#document"].includes(ti(e))}function Br(e){return fr(e).getComputedStyle(e)}function Dc(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function us(e){if(ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xv(e)&&e.host||an(e);return Xv(t)?t.host:t}function Ix(e){const t=us(e);return Wo(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&_a(t)?t:Ix(t)}function ua(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=Ix(e),a=i===((o=e.ownerDocument)==null?void 0:o.body),c=fr(i);if(a){const d=Lf(c);return t.concat(c,c.visualViewport||[],_a(i)?i:[],d&&r?ua(d):[])}return t.concat(i,ua(i,[],r))}function Lf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ax(e){const t=Br(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=nn(e),a=i?e.offsetWidth:r,c=i?e.offsetHeight:o,d=lc(r)!==a||lc(o)!==c;return d&&(r=a,o=c),{width:r,height:o,$:d}}function Dh(e){return Ur(e)?e:e.contextElement}function Lo(e){const t=Dh(e);if(!nn(t))return Zr(1);const r=t.getBoundingClientRect(),{width:o,height:i,$:a}=Ax(t);let c=(a?lc(r.width):r.width)/o,d=(a?lc(r.height):r.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const OT=Zr(0);function Ox(e){const t=fr(e);return!Oh()||!t.visualViewport?OT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DT(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fr(e)?!1:t}function zs(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=Dh(e);let c=Zr(1);t&&(o?Ur(o)&&(c=Lo(o)):c=Lo(e));const d=DT(a,r,o)?Ox(a):Zr(0);let h=(i.left+d.x)/c.x,p=(i.top+d.y)/c.y,v=i.width/c.x,y=i.height/c.y;if(a){const w=fr(a),S=o&&Ur(o)?fr(o):o;let E=w,b=Lf(E);for(;b&&o&&S!==E;){const C=Lo(b),k=b.getBoundingClientRect(),j=Br(b),N=k.left+(b.clientLeft+parseFloat(j.paddingLeft))*C.x,A=k.top+(b.clientTop+parseFloat(j.paddingTop))*C.y;h*=C.x,p*=C.y,v*=C.x,y*=C.y,h+=N,p+=A,E=fr(b),b=Lf(E)}}return uc({width:v,height:y,x:h,y:p})}function Lh(e,t){const r=Dc(e).scrollLeft;return t?t.left+r:zs(an(e)).left+r}function Dx(e,t,r){r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=o.left+t.scrollLeft-(r?0:Lh(e,o)),a=o.top+t.scrollTop;return{x:i,y:a}}function LT(e){let{elements:t,rect:r,offsetParent:o,strategy:i}=e;const a=i==="fixed",c=an(o),d=t?Oc(t.floating):!1;if(o===c||d&&a)return r;let h={scrollLeft:0,scrollTop:0},p=Zr(1);const v=Zr(0),y=nn(o);if((y||!y&&!a)&&((ti(o)!=="body"||_a(c))&&(h=Dc(o)),nn(o))){const S=zs(o);p=Lo(o),v.x=S.x+o.clientLeft,v.y=S.y+o.clientTop}const w=c&&!y&&!a?Dx(c,h,!0):Zr(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-h.scrollLeft*p.x+v.x+w.x,y:r.y*p.y-h.scrollTop*p.y+v.y+w.y}}function MT(e){return Array.from(e.getClientRects())}function $T(e){const t=an(e),r=Dc(e),o=e.ownerDocument.body,i=dr(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=dr(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let c=-r.scrollLeft+Lh(e);const d=-r.scrollTop;return Br(o).direction==="rtl"&&(c+=dr(t.clientWidth,o.clientWidth)-i),{width:i,height:a,x:c,y:d}}function FT(e,t){const r=fr(e),o=an(e),i=r.visualViewport;let a=o.clientWidth,c=o.clientHeight,d=0,h=0;if(i){a=i.width,c=i.height;const p=Oh();(!p||p&&t==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:a,height:c,x:d,y:h}}function zT(e,t){const r=zs(e,!0,t==="fixed"),o=r.top+e.clientTop,i=r.left+e.clientLeft,a=nn(e)?Lo(e):Zr(1),c=e.clientWidth*a.x,d=e.clientHeight*a.y,h=i*a.x,p=o*a.y;return{width:c,height:d,x:h,y:p}}function Zv(e,t,r){let o;if(t==="viewport")o=FT(e,r);else if(t==="document")o=$T(an(e));else if(Ur(t))o=zT(t,r);else{const i=Ox(e);o={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return uc(o)}function Lx(e,t){const r=us(e);return r===t||!Ur(r)||Wo(r)?!1:Br(r).position==="fixed"||Lx(r,t)}function UT(e,t){const r=t.get(e);if(r)return r;let o=ua(e,[],!1).filter(d=>Ur(d)&&ti(d)!=="body"),i=null;const a=Br(e).position==="fixed";let c=a?us(e):e;for(;Ur(c)&&!Wo(c);){const d=Br(c),h=Ah(c);!h&&d.position==="fixed"&&(i=null),(a?!h&&!i:!h&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_a(c)&&!h&&Lx(e,c))?o=o.filter(v=>v!==c):i=d,c=us(c)}return t.set(e,o),o}function BT(e){let{element:t,boundary:r,rootBoundary:o,strategy:i}=e;const c=[...r==="clippingAncestors"?Oc(t)?[]:UT(t,this._c):[].concat(r),o],d=c[0],h=c.reduce((p,v)=>{const y=Zv(t,v,i);return p.top=dr(y.top,p.top),p.right=ls(y.right,p.right),p.bottom=ls(y.bottom,p.bottom),p.left=dr(y.left,p.left),p},Zv(t,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function VT(e){const{width:t,height:r}=Ax(e);return{width:t,height:r}}function WT(e,t,r){const o=nn(t),i=an(t),a=r==="fixed",c=zs(e,!0,a,t);let d={scrollLeft:0,scrollTop:0};const h=Zr(0);if(o||!o&&!a)if((ti(t)!=="body"||_a(i))&&(d=Dc(t)),o){const w=zs(t,!0,a,t);h.x=w.x+t.clientLeft,h.y=w.y+t.clientTop}else i&&(h.x=Lh(i));const p=i&&!o&&!a?Dx(i,d):Zr(0),v=c.left+d.scrollLeft-h.x-p.x,y=c.top+d.scrollTop-h.y-p.y;return{x:v,y,width:c.width,height:c.height}}function rf(e){return Br(e).position==="static"}function ey(e,t){if(!nn(e)||Br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return an(e)===r&&(r=r.ownerDocument.body),r}function Mx(e,t){const r=fr(e);if(Oc(e))return r;if(!nn(e)){let i=us(e);for(;i&&!Wo(i);){if(Ur(i)&&!rf(i))return i;i=us(i)}return r}let o=ey(e,t);for(;o&&IT(o)&&rf(o);)o=ey(o,t);return o&&Wo(o)&&rf(o)&&!Ah(o)?r:o||AT(e)||r}const HT=async function(e){const t=this.getOffsetParent||Mx,r=this.getDimensions,o=await r(e.floating);return{reference:WT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function qT(e){return Br(e).direction==="rtl"}const KT={convertOffsetParentRelativeRectToViewportRelativeRect:LT,getDocumentElement:an,getClippingRect:BT,getOffsetParent:Mx,getElementRects:HT,getClientRects:MT,getDimensions:VT,getScale:Lo,isElement:Ur,isRTL:qT};function $x(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function GT(e,t){let r=null,o;const i=an(e);function a(){var d;clearTimeout(o),(d=r)==null||d.disconnect(),r=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const p=e.getBoundingClientRect(),{left:v,top:y,width:w,height:S}=p;if(d||t(),!w||!S)return;const E=Jl(y),b=Jl(i.clientWidth-(v+w)),C=Jl(i.clientHeight-(y+S)),k=Jl(v),N={rootMargin:-E+"px "+-b+"px "+-C+"px "+-k+"px",threshold:dr(0,ls(1,h))||1};let A=!0;function D(U){const $=U[0].intersectionRatio;if($!==h){if(!A)return c();$?c(!1,$):o=setTimeout(()=>{c(!1,1e-7)},1e3)}$===1&&!$x(p,e.getBoundingClientRect())&&c(),A=!1}try{r=new IntersectionObserver(D,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(D,N)}r.observe(e)}return c(!0),a}function JT(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=o,p=Dh(e),v=i||a?[...p?ua(p):[],...ua(t)]:[];v.forEach(k=>{i&&k.addEventListener("scroll",r,{passive:!0}),a&&k.addEventListener("resize",r)});const y=p&&d?GT(p,r):null;let w=-1,S=null;c&&(S=new ResizeObserver(k=>{let[j]=k;j&&j.target===p&&S&&(S.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=S)==null||N.observe(t)})),r()}),p&&!h&&S.observe(p),S.observe(t));let E,b=h?zs(e):null;h&&C();function C(){const k=zs(e);b&&!$x(b,k)&&r(),b=k,E=requestAnimationFrame(C)}return r(),()=>{var k;v.forEach(j=>{i&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),y==null||y(),(k=S)==null||k.disconnect(),S=null,h&&cancelAnimationFrame(E)}}const YT=NT,QT=TT,XT=ET,ZT=RT,eP=kT,ty=CT,tP=PT,rP=(e,t,r)=>{const o=new Map,i={platform:KT,...r},a={...i.platform,_c:o};return _T(e,t,{...i,platform:a})};var nc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function dc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!dc(e[o],t[o]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){const a=i[o];if(!(a==="_owner"&&e.$$typeof)&&!dc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Fx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ry(e,t){const r=Fx(e);return Math.round(t*r)/r}function nf(e){const t=m.useRef(e);return nc(()=>{t.current=e}),t}function nP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:h,open:p}=e,[v,y]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,S]=m.useState(o);dc(w,o)||S(o);const[E,b]=m.useState(null),[C,k]=m.useState(null),j=m.useCallback(B=>{B!==U.current&&(U.current=B,b(B))},[]),N=m.useCallback(B=>{B!==$.current&&($.current=B,k(B))},[]),A=a||E,D=c||C,U=m.useRef(null),$=m.useRef(null),q=m.useRef(v),ce=h!=null,K=nf(h),V=nf(i),J=nf(p),oe=m.useCallback(()=>{if(!U.current||!$.current)return;const B={placement:t,strategy:r,middleware:w};V.current&&(B.platform=V.current),rP(U.current,$.current,B).then(ee=>{const ne={...ee,isPositioned:J.current!==!1};W.current&&!dc(q.current,ne)&&(q.current=ne,zr.flushSync(()=>{y(ne)}))})},[w,t,r,V,J]);nc(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,y(B=>({...B,isPositioned:!1})))},[p]);const W=m.useRef(!1);nc(()=>(W.current=!0,()=>{W.current=!1}),[]),nc(()=>{if(A&&(U.current=A),D&&($.current=D),A&&D){if(K.current)return K.current(A,D,oe);oe()}},[A,D,oe,K,ce]);const ge=m.useMemo(()=>({reference:U,floating:$,setReference:j,setFloating:N}),[j,N]),ie=m.useMemo(()=>({reference:A,floating:D}),[A,D]),ae=m.useMemo(()=>{const B={position:r,left:0,top:0};if(!ie.floating)return B;const ee=ry(ie.floating,v.x),ne=ry(ie.floating,v.y);return d?{...B,transform:"translate("+ee+"px, "+ne+"px)",...Fx(ie.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:ne}},[r,d,ie.floating,v.x,v.y]);return m.useMemo(()=>({...v,update:oe,refs:ge,elements:ie,floatingStyles:ae}),[v,oe,ge,ie,ae])}const sP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:i}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?ty({element:o.current,padding:i}).fn(r):{}:o?ty({element:o,padding:i}).fn(r):{}}}},oP=(e,t)=>({...YT(e),options:[e,t]}),iP=(e,t)=>({...QT(e),options:[e,t]}),aP=(e,t)=>({...tP(e),options:[e,t]}),lP=(e,t)=>({...XT(e),options:[e,t]}),cP=(e,t)=>({...ZT(e),options:[e,t]}),uP=(e,t)=>({...eP(e),options:[e,t]}),dP=(e,t)=>({...sP(e),options:[e,t]});var fP="Arrow",zx=m.forwardRef((e,t)=>{const{children:r,width:o=10,height:i=5,...a}=e;return u.jsx(Ce.svg,{...a,ref:t,width:o,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});zx.displayName=fP;var hP=zx;function Ux(e){const[t,r]=m.useState(void 0);return kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;r({width:c,height:d})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}var Mh="Popper",[Bx,ri]=Cr(Mh),[pP,Vx]=Bx(Mh),Wx=e=>{const{__scopePopper:t,children:r}=e,[o,i]=m.useState(null);return u.jsx(pP,{scope:t,anchor:o,onAnchorChange:i,children:r})};Wx.displayName=Mh;var Hx="PopperAnchor",qx=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:o,...i}=e,a=Vx(Hx,r),c=m.useRef(null),d=Ke(t,c);return m.useEffect(()=>{a.onAnchorChange((o==null?void 0:o.current)||c.current)}),o?null:u.jsx(Ce.div,{...i,ref:d})});qx.displayName=Hx;var $h="PopperContent",[mP,gP]=Bx($h),Kx=m.forwardRef((e,t)=>{var Q,de,me,pe,Ae,Te;const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:E,...b}=e,C=Vx($h,r),[k,j]=m.useState(null),N=Ke(t,He=>j(He)),[A,D]=m.useState(null),U=Ux(A),$=(U==null?void 0:U.width)??0,q=(U==null?void 0:U.height)??0,ce=o+(a!=="center"?"-"+a:""),K=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},V=Array.isArray(p)?p:[p],J=V.length>0,oe={padding:K,boundary:V.filter(yP),altBoundary:J},{refs:W,floatingStyles:ge,placement:ie,isPositioned:ae,middlewareData:B}=nP({strategy:"fixed",placement:ce,whileElementsMounted:(...He)=>JT(...He,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[oP({mainAxis:i+q,alignmentAxis:c}),h&&iP({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?aP():void 0,...oe}),h&&lP({...oe}),cP({...oe,apply:({elements:He,rects:Be,availableWidth:mt,availableHeight:lt})=>{const{width:jt,height:fe}=Be.reference,M=He.floating.style;M.setProperty("--radix-popper-available-width",`${mt}px`),M.setProperty("--radix-popper-available-height",`${lt}px`),M.setProperty("--radix-popper-anchor-width",`${jt}px`),M.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),A&&dP({element:A,padding:d}),xP({arrowWidth:$,arrowHeight:q}),w&&uP({strategy:"referenceHidden",...oe})]}),[ee,ne]=Yx(ie),I=Ht(E);kt(()=>{ae&&(I==null||I())},[ae,I]);const P=(Q=B.arrow)==null?void 0:Q.x,Y=(de=B.arrow)==null?void 0:de.y,re=((me=B.arrow)==null?void 0:me.centerOffset)!==0,[Z,ue]=m.useState();return kt(()=>{k&&ue(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:ae?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(pe=B.transformOrigin)==null?void 0:pe.x,(Ae=B.transformOrigin)==null?void 0:Ae.y].join(" "),...((Te=B.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(mP,{scope:r,placedSide:ee,onArrowChange:D,arrowX:P,arrowY:Y,shouldHideArrow:re,children:u.jsx(Ce.div,{"data-side":ee,"data-align":ne,...b,ref:N,style:{...b.style,animation:ae?void 0:"none"}})})})});Kx.displayName=$h;var Gx="PopperArrow",vP={top:"bottom",right:"left",bottom:"top",left:"right"},Jx=m.forwardRef(function(t,r){const{__scopePopper:o,...i}=t,a=gP(Gx,o),c=vP[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(hP,{...i,ref:r,style:{...i.style,display:"block"}})})});Jx.displayName=Gx;function yP(e){return e!==null}var xP=e=>({name:"transformOrigin",options:e,fn(t){var C,k,j;const{placement:r,rects:o,middlewareData:i}=t,c=((C=i.arrow)==null?void 0:C.centerOffset)!==0,d=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[p,v]=Yx(r),y={start:"0%",center:"50%",end:"100%"}[v],w=(((k=i.arrow)==null?void 0:k.x)??0)+d/2,S=(((j=i.arrow)==null?void 0:j.y)??0)+h/2;let E="",b="";return p==="bottom"?(E=c?y:`${w}px`,b=`${-h}px`):p==="top"?(E=c?y:`${w}px`,b=`${o.floating.height+h}px`):p==="right"?(E=`${-h}px`,b=c?y:`${S}px`):p==="left"&&(E=`${o.floating.width+h}px`,b=c?y:`${S}px`),{data:{x:E,y:b}}}});function Yx(e){const[t,r="center"]=e.split("-");return[t,r]}var Qx=Wx,Lc=qx,Fh=Kx,zh=Jx;function Xx(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wP="VisuallyHidden",Ca=m.forwardRef((e,t)=>u.jsx(Ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ca.displayName=wP;var bP=Ca,SP=[" ","Enter","ArrowUp","ArrowDown"],_P=[" ","Enter"],Ea="Select",[Mc,$c,CP]=_h(Ea),[ni,tO]=Cr(Ea,[CP,ri]),Fc=ri(),[EP,hs]=ni(Ea),[kP,jP]=ni(Ea),Zx=e=>{const{__scopeSelect:t,children:r,open:o,defaultOpen:i,onOpenChange:a,value:c,defaultValue:d,onValueChange:h,dir:p,name:v,autoComplete:y,disabled:w,required:S,form:E}=e,b=Fc(t),[C,k]=m.useState(null),[j,N]=m.useState(null),[A,D]=m.useState(!1),U=Ch(p),[$=!1,q]=as({prop:o,defaultProp:i,onChange:a}),[ce,K]=as({prop:c,defaultProp:d,onChange:h}),V=m.useRef(null),J=C?E||!!C.closest("form"):!0,[oe,W]=m.useState(new Set),ge=Array.from(oe).map(ie=>ie.props.value).join(";");return u.jsx(Qx,{...b,children:u.jsxs(EP,{required:S,scope:t,trigger:C,onTriggerChange:k,valueNode:j,onValueNodeChange:N,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:Wt(),value:ce,onValueChange:K,open:$,onOpenChange:q,dir:U,triggerPointerDownPosRef:V,disabled:w,children:[u.jsx(Mc.Provider,{scope:t,children:u.jsx(kP,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(ie=>{W(ae=>new Set(ae).add(ie))},[]),onNativeOptionRemove:m.useCallback(ie=>{W(ae=>{const B=new Set(ae);return B.delete(ie),B})},[]),children:r})}),J?u.jsxs(Cw,{"aria-hidden":!0,required:S,tabIndex:-1,name:v,autoComplete:y,value:ce,onChange:ie=>K(ie.target.value),disabled:w,form:E,children:[ce===void 0?u.jsx("option",{value:""}):null,Array.from(oe)]},ge):null]})})};Zx.displayName=Ea;var ew="SelectTrigger",tw=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:o=!1,...i}=e,a=Fc(r),c=hs(ew,r),d=c.disabled||o,h=Ke(t,c.onTriggerChange),p=$c(r),v=m.useRef("touch"),[y,w,S]=Ew(b=>{const C=p().filter(N=>!N.disabled),k=C.find(N=>N.value===c.value),j=kw(C,b,k);j!==void 0&&c.onValueChange(j.value)}),E=b=>{d||(c.onOpenChange(!0),S()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return u.jsx(Lc,{asChild:!0,...a,children:u.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":_w(c.value)?"":void 0,...i,ref:h,onClick:_e(i.onClick,b=>{b.currentTarget.focus(),v.current!=="mouse"&&E(b)}),onPointerDown:_e(i.onPointerDown,b=>{v.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(E(b),b.preventDefault())}),onKeyDown:_e(i.onKeyDown,b=>{const C=y.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&w(b.key),!(C&&b.key===" ")&&SP.includes(b.key)&&(E(),b.preventDefault())})})})});tw.displayName=ew;var rw="SelectValue",nw=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:i,children:a,placeholder:c="",...d}=e,h=hs(rw,r),{onValueNodeHasChildrenChange:p}=h,v=a!==void 0,y=Ke(t,h.onValueNodeChange);return kt(()=>{p(v)},[p,v]),u.jsx(Ce.span,{...d,ref:y,style:{pointerEvents:"none"},children:_w(h.value)?u.jsx(u.Fragment,{children:c}):a})});nw.displayName=rw;var NP="SelectIcon",sw=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:o,...i}=e;return u.jsx(Ce.span,{"aria-hidden":!0,...i,ref:t,children:o||""})});sw.displayName=NP;var TP="SelectPortal",ow=e=>u.jsx(xa,{asChild:!0,...e});ow.displayName=TP;var Us="SelectContent",iw=m.forwardRef((e,t)=>{const r=hs(Us,e.__scopeSelect),[o,i]=m.useState();if(kt(()=>{i(new DocumentFragment)},[]),!r.open){const a=o;return a?zr.createPortal(u.jsx(aw,{scope:e.__scopeSelect,children:u.jsx(Mc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(lw,{...e,ref:t})});iw.displayName=Us;var Lr=10,[aw,ps]=ni(Us),PP="SelectContentImpl",lw=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:E,hideWhenDetached:b,avoidCollisions:C,...k}=e,j=hs(Us,r),[N,A]=m.useState(null),[D,U]=m.useState(null),$=Ke(t,Q=>A(Q)),[q,ce]=m.useState(null),[K,V]=m.useState(null),J=$c(r),[oe,W]=m.useState(!1),ge=m.useRef(!1);m.useEffect(()=>{if(N)return mh(N)},[N]),ph();const ie=m.useCallback(Q=>{const[de,...me]=J().map(Te=>Te.ref.current),[pe]=me.slice(-1),Ae=document.activeElement;for(const Te of Q)if(Te===Ae||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===de&&D&&(D.scrollTop=0),Te===pe&&D&&(D.scrollTop=D.scrollHeight),Te==null||Te.focus(),document.activeElement!==Ae))return},[J,D]),ae=m.useCallback(()=>ie([q,N]),[ie,q,N]);m.useEffect(()=>{oe&&ae()},[oe,ae]);const{onOpenChange:B,triggerPointerDownPosRef:ee}=j;m.useEffect(()=>{if(N){let Q={x:0,y:0};const de=pe=>{var Ae,Te;Q={x:Math.abs(Math.round(pe.pageX)-(((Ae=ee.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Te=ee.current)==null?void 0:Te.y)??0))}},me=pe=>{Q.x<=10&&Q.y<=10?pe.preventDefault():N.contains(pe.target)||B(!1),document.removeEventListener("pointermove",de),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",me,{capture:!0})}}},[N,B,ee]),m.useEffect(()=>{const Q=()=>B(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[B]);const[ne,I]=Ew(Q=>{const de=J().filter(Ae=>!Ae.disabled),me=de.find(Ae=>Ae.ref.current===document.activeElement),pe=kw(de,Q,me);pe&&setTimeout(()=>pe.ref.current.focus())}),P=m.useCallback((Q,de,me)=>{const pe=!ge.current&&!me;(j.value!==void 0&&j.value===de||pe)&&(ce(Q),pe&&(ge.current=!0))},[j.value]),Y=m.useCallback(()=>N==null?void 0:N.focus(),[N]),re=m.useCallback((Q,de,me)=>{const pe=!ge.current&&!me;(j.value!==void 0&&j.value===de||pe)&&V(Q)},[j.value]),Z=o==="popper"?Mf:cw,ue=Z===Mf?{side:d,sideOffset:h,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:w,collisionPadding:S,sticky:E,hideWhenDetached:b,avoidCollisions:C}:{};return u.jsx(aw,{scope:r,content:N,viewport:D,onViewportChange:U,itemRefCallback:P,selectedItem:q,onItemLeave:Y,itemTextRefCallback:re,focusSelectedItem:ae,selectedItemText:K,position:o,isPositioned:oe,searchRef:ne,children:u.jsx(Pc,{as:is,allowPinchZoom:!0,children:u.jsx(Nc,{asChild:!0,trapped:j.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:_e(i,Q=>{var de;(de=j.trigger)==null||de.focus({preventScroll:!0}),Q.preventDefault()}),children:u.jsx(Qo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:Q=>Q.preventDefault(),...k,...ue,onPlaced:()=>W(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:_e(k.onKeyDown,Q=>{const de=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!de&&Q.key.length===1&&I(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let pe=J().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Ae=Q.target,Te=pe.indexOf(Ae);pe=pe.slice(Te+1)}setTimeout(()=>ie(pe)),Q.preventDefault()}})})})})})})});lw.displayName=PP;var RP="SelectItemAlignedPosition",cw=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:o,...i}=e,a=hs(Us,r),c=ps(Us,r),[d,h]=m.useState(null),[p,v]=m.useState(null),y=Ke(t,$=>v($)),w=$c(r),S=m.useRef(!1),E=m.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:k,focusSelectedItem:j}=c,N=m.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&b&&C&&k){const $=a.trigger.getBoundingClientRect(),q=p.getBoundingClientRect(),ce=a.valueNode.getBoundingClientRect(),K=k.getBoundingClientRect();if(a.dir!=="rtl"){const Ae=K.left-q.left,Te=ce.left-Ae,He=$.left-Te,Be=$.width+He,mt=Math.max(Be,q.width),lt=window.innerWidth-Lr,jt=Gv(Te,[Lr,Math.max(Lr,lt-mt)]);d.style.minWidth=Be+"px",d.style.left=jt+"px"}else{const Ae=q.right-K.right,Te=window.innerWidth-ce.right-Ae,He=window.innerWidth-$.right-Te,Be=$.width+He,mt=Math.max(Be,q.width),lt=window.innerWidth-Lr,jt=Gv(Te,[Lr,Math.max(Lr,lt-mt)]);d.style.minWidth=Be+"px",d.style.right=jt+"px"}const V=w(),J=window.innerHeight-Lr*2,oe=b.scrollHeight,W=window.getComputedStyle(p),ge=parseInt(W.borderTopWidth,10),ie=parseInt(W.paddingTop,10),ae=parseInt(W.borderBottomWidth,10),B=parseInt(W.paddingBottom,10),ee=ge+ie+oe+B+ae,ne=Math.min(C.offsetHeight*5,ee),I=window.getComputedStyle(b),P=parseInt(I.paddingTop,10),Y=parseInt(I.paddingBottom,10),re=$.top+$.height/2-Lr,Z=J-re,ue=C.offsetHeight/2,Q=C.offsetTop+ue,de=ge+ie+Q,me=ee-de;if(de<=re){const Ae=V.length>0&&C===V[V.length-1].ref.current;d.style.bottom="0px";const Te=p.clientHeight-b.offsetTop-b.offsetHeight,He=Math.max(Z,ue+(Ae?Y:0)+Te+ae),Be=de+He;d.style.height=Be+"px"}else{const Ae=V.length>0&&C===V[0].ref.current;d.style.top="0px";const He=Math.max(re,ge+b.offsetTop+(Ae?P:0)+ue)+me;d.style.height=He+"px",b.scrollTop=de-re+b.offsetTop}d.style.margin=`${Lr}px 0`,d.style.minHeight=ne+"px",d.style.maxHeight=J+"px",o==null||o(),requestAnimationFrame(()=>S.current=!0)}},[w,a.trigger,a.valueNode,d,p,b,C,k,a.dir,o]);kt(()=>N(),[N]);const[A,D]=m.useState();kt(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const U=m.useCallback($=>{$&&E.current===!0&&(N(),j==null||j(),E.current=!1)},[N,j]);return u.jsx(AP,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:S,onScrollButtonChange:U,children:u.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(Ce.div,{...i,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});cw.displayName=RP;var IP="SelectPopperPosition",Mf=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=Lr,...a}=e,c=Fc(r);return u.jsx(Fh,{...c,...a,ref:t,align:o,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mf.displayName=IP;var[AP,Uh]=ni(Us,{}),$f="SelectViewport",uw=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:o,...i}=e,a=ps($f,r),c=Uh($f,r),d=Ke(t,a.onViewportChange),h=m.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),u.jsx(Mc.Slot,{scope:r,children:u.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:_e(i.onScroll,p=>{const v=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=c;if(w!=null&&w.current&&y){const S=Math.abs(h.current-v.scrollTop);if(S>0){const E=window.innerHeight-Lr*2,b=parseFloat(y.style.minHeight),C=parseFloat(y.style.height),k=Math.max(b,C);if(k<E){const j=k+S,N=Math.min(E,j),A=j-N;y.style.height=N+"px",y.style.bottom==="0px"&&(v.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}h.current=v.scrollTop})})})]})});uw.displayName=$f;var dw="SelectGroup",[OP,DP]=ni(dw),LP=m.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,i=Wt();return u.jsx(OP,{scope:r,id:i,children:u.jsx(Ce.div,{role:"group","aria-labelledby":i,...o,ref:t})})});LP.displayName=dw;var fw="SelectLabel",hw=m.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,i=DP(fw,r);return u.jsx(Ce.div,{id:i.id,...o,ref:t})});hw.displayName=fw;var fc="SelectItem",[MP,pw]=ni(fc),mw=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:a,...c}=e,d=hs(fc,r),h=ps(fc,r),p=d.value===o,[v,y]=m.useState(a??""),[w,S]=m.useState(!1),E=Ke(t,j=>{var N;return(N=h.itemRefCallback)==null?void 0:N.call(h,j,o,i)}),b=Wt(),C=m.useRef("touch"),k=()=>{i||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(MP,{scope:r,value:o,disabled:i,textId:b,isSelected:p,onItemTextChange:m.useCallback(j=>{y(N=>N||((j==null?void 0:j.textContent)??"").trim())},[]),children:u.jsx(Mc.ItemSlot,{scope:r,value:o,disabled:i,textValue:v,children:u.jsx(Ce.div,{role:"option","aria-labelledby":b,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:E,onFocus:_e(c.onFocus,()=>S(!0)),onBlur:_e(c.onBlur,()=>S(!1)),onClick:_e(c.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:_e(c.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:_e(c.onPointerDown,j=>{C.current=j.pointerType}),onPointerMove:_e(c.onPointerMove,j=>{var N;C.current=j.pointerType,i?(N=h.onItemLeave)==null||N.call(h):C.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(c.onPointerLeave,j=>{var N;j.currentTarget===document.activeElement&&((N=h.onItemLeave)==null||N.call(h))}),onKeyDown:_e(c.onKeyDown,j=>{var A;((A=h.searchRef)==null?void 0:A.current)!==""&&j.key===" "||(_P.includes(j.key)&&k(),j.key===" "&&j.preventDefault())})})})})});mw.displayName=fc;var Zi="SelectItemText",gw=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:i,...a}=e,c=hs(Zi,r),d=ps(Zi,r),h=pw(Zi,r),p=jP(Zi,r),[v,y]=m.useState(null),w=Ke(t,k=>y(k),h.onItemTextChange,k=>{var j;return(j=d.itemTextRefCallback)==null?void 0:j.call(d,k,h.value,h.disabled)}),S=v==null?void 0:v.textContent,E=m.useMemo(()=>u.jsx("option",{value:h.value,disabled:h.disabled,children:S},h.value),[h.disabled,h.value,S]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=p;return kt(()=>(b(E),()=>C(E)),[b,C,E]),u.jsxs(u.Fragment,{children:[u.jsx(Ce.span,{id:h.textId,...a,ref:w}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?zr.createPortal(a.children,c.valueNode):null]})});gw.displayName=Zi;var vw="SelectItemIndicator",yw=m.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return pw(vw,r).isSelected?u.jsx(Ce.span,{"aria-hidden":!0,...o,ref:t}):null});yw.displayName=vw;var Ff="SelectScrollUpButton",xw=m.forwardRef((e,t)=>{const r=ps(Ff,e.__scopeSelect),o=Uh(Ff,e.__scopeSelect),[i,a]=m.useState(!1),c=Ke(t,o.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=h.scrollTop>0;a(p)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?u.jsx(bw,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});xw.displayName=Ff;var zf="SelectScrollDownButton",ww=m.forwardRef((e,t)=>{const r=ps(zf,e.__scopeSelect),o=Uh(zf,e.__scopeSelect),[i,a]=m.useState(!1),c=Ke(t,o.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let d=function(){const p=h.scrollHeight-h.clientHeight,v=Math.ceil(h.scrollTop)<p;a(v)};const h=r.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[r.viewport,r.isPositioned]),i?u.jsx(bw,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=r;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});ww.displayName=zf;var bw=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=e,a=ps("SelectScrollButton",r),c=m.useRef(null),d=$c(r),h=m.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return m.useEffect(()=>()=>h(),[h]),kt(()=>{var v;const p=d().find(y=>y.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),u.jsx(Ce.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:_e(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{h()})})}),$P="SelectSeparator",Sw=m.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return u.jsx(Ce.div,{"aria-hidden":!0,...o,ref:t})});Sw.displayName=$P;var Uf="SelectArrow",FP=m.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,i=Fc(r),a=hs(Uf,r),c=ps(Uf,r);return a.open&&c.position==="popper"?u.jsx(zh,{...i,...o,ref:t}):null});FP.displayName=Uf;function _w(e){return e===""||e===void 0}var Cw=m.forwardRef((e,t)=>{const{value:r,...o}=e,i=m.useRef(null),a=Ke(t,i),c=Xx(r);return m.useEffect(()=>{const d=i.current,h=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==r&&v){const y=new Event("change",{bubbles:!0});v.call(d,r),d.dispatchEvent(y)}},[c,r]),u.jsx(Ca,{asChild:!0,children:u.jsx("select",{...o,ref:a,defaultValue:r})})});Cw.displayName="BubbleSelect";function Ew(e){const t=Ht(e),r=m.useRef(""),o=m.useRef(0),i=m.useCallback(c=>{const d=r.current+c;t(d),function h(p){r.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>h(""),1e3))}(d)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,i,a]}function kw(e,t,r){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let c=zP(e,Math.max(a,0));i.length===1&&(c=c.filter(p=>p!==r));const h=c.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==r?h:void 0}function zP(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var UP=Zx,jw=tw,BP=nw,VP=sw,WP=ow,Nw=iw,HP=uw,Tw=hw,Pw=mw,qP=gw,KP=yw,Rw=xw,Iw=ww,Aw=Sw;const hc=UP,pc=BP,da=m.forwardRef(({className:e,children:t,...r},o)=>u.jsxs(jw,{ref:o,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,u.jsx(VP,{asChild:!0,children:u.jsx(u0,{className:"h-4 w-4 opacity-50"})})]}));da.displayName=jw.displayName;const Ow=m.forwardRef(({className:e,...t},r)=>u.jsx(Rw,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(bk,{className:"h-4 w-4"})}));Ow.displayName=Rw.displayName;const Dw=m.forwardRef(({className:e,...t},r)=>u.jsx(Iw,{ref:r,className:ke("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(u0,{className:"h-4 w-4"})}));Dw.displayName=Iw.displayName;const fa=m.forwardRef(({className:e,children:t,position:r="popper",...o},i)=>u.jsx(WP,{children:u.jsxs(Nw,{ref:i,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[u.jsx(Ow,{}),u.jsx(HP,{className:ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(Dw,{})]})}));fa.displayName=Nw.displayName;const GP=m.forwardRef(({className:e,...t},r)=>u.jsx(Tw,{ref:r,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));GP.displayName=Tw.displayName;const Sn=m.forwardRef(({className:e,children:t,...r},o)=>u.jsxs(Pw,{ref:o,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(KP,{children:u.jsx(c0,{className:"h-4 w-4"})})}),u.jsx(qP,{children:t})]}));Sn.displayName=Pw.displayName;const JP=m.forwardRef(({className:e,...t},r)=>u.jsx(Aw,{ref:r,className:ke("-mx-1 my-1 h-px bg-muted",e),...t}));JP.displayName=Aw.displayName;const YP="https://whotduhtlhlamsvjgrnz.supabase.co",QP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indob3RkdWh0bGhsYW1zdmpncm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE4ODU3NzIsImV4cCI6MjA1NzQ2MTc3Mn0.TeJrtER8QZ_Bj5GKC99CRHlnMnjsLBoFsN3yXls41Lk",br=i0(YP,QP),Pt=[];for(let e=0;e<256;++e)Pt.push((e+256).toString(16).slice(1));function XP(e,t=0){return(Pt[e[t+0]]+Pt[e[t+1]]+Pt[e[t+2]]+Pt[e[t+3]]+"-"+Pt[e[t+4]]+Pt[e[t+5]]+"-"+Pt[e[t+6]]+Pt[e[t+7]]+"-"+Pt[e[t+8]]+Pt[e[t+9]]+"-"+Pt[e[t+10]]+Pt[e[t+11]]+Pt[e[t+12]]+Pt[e[t+13]]+Pt[e[t+14]]+Pt[e[t+15]]).toLowerCase()}let sf;const ZP=new Uint8Array(16);function eR(){if(!sf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sf=crypto.getRandomValues.bind(crypto)}return sf(ZP)}const tR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ny={randomUUID:tR};function rR(e,t,r){var i;if(ny.randomUUID&&!e)return ny.randomUUID();e=e||{};const o=e.random??((i=e.rng)==null?void 0:i.call(e))??eR();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,XP(o)}class Io{static async shareList(t,r,o){try{const{data:i}=await br.from("list_shares").select("*").eq("list_id",t).eq("user_id",r).single();if(i)throw new Error("This list is already shared with this user");const a=rR(),{data:{user:c}}=await br.auth.getUser();if(!c)throw new Error("User not authenticated");const{data:d,error:h}=await br.from("share_invitations").insert({list_id:t,created_by:c.id,recipient_email:r,token:a,status:"pending",expires_at:new Date(Date.now()+7*24*60*60*1e3)}).select().single();if(h)throw h;return d}catch(i){throw console.error("Error sharing list:",i),i}}static async acceptInvitation(t){try{const{data:{user:r}}=await br.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:o}=await br.from("share_invitations").select("*").eq("token",t).eq("status","pending").single();if(!o)throw new Error("Invalid or expired invitation");if(new Date(o.expires_at)<new Date)throw new Error("Invitation has expired");const{data:i,error:a}=await br.from("list_shares").insert({list_id:o.list_id,user_id:r.id,permission:o.permission||"read"}).select().single();if(a)throw a;const{error:c}=await br.from("share_invitations").update({status:"accepted"}).eq("id",o.id);if(c)throw c;return i}catch(r){throw console.error("Error accepting invitation:",r),r}}static async getSharedUsers(t){try{const{data:r,error:o}=await br.from("list_shares").select(`
          user_id,
          permission,
          created_at,
          profiles:user_id (
            email,
            full_name
          )
        `).eq("list_id",t);if(o)throw o;return r.map(i=>({shared_with_id:i.user_id,permission_level:i.permission,created_at:i.created_at,profiles:i.profiles}))}catch(r){throw console.error("Error getting shared users:",r),r}}static async removeShare(t,r){try{const{error:o}=await br.from("list_shares").delete().eq("list_id",t).eq("user_id",r);if(o)throw o;return!0}catch(o){throw console.error("Error removing share:",o),o}}static async updatePermission(t,r,o){try{const{data:i,error:a}=await br.from("list_shares").update({permission:o}).eq("list_id",t).eq("user_id",r).select().single();if(a)throw a;return i}catch(i){throw console.error("Error updating permission:",i),i}}static async getPendingInvitations(){try{const{data:{user:t}}=await br.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:o}=await br.from("share_invitations").select("*").eq("recipient_email",t.email).eq("status","pending").gt("expires_at",new Date().toISOString());if(o)throw o;return r}catch(t){throw console.error("Error getting pending invitations:",t),t}}}function Bh({isOpen:e,onClose:t,listId:r}){const[o,i]=m.useState(""),[a,c]=m.useState("editor"),[d,h]=m.useState(!1),[p,v]=m.useState([]),[y,w]=m.useState(!0);m.useEffect(()=>{e&&r&&S()},[e,r]);const S=async()=>{try{const k=await Io.getSharedUsers(r);v(k)}catch(k){Pe({title:"  ",description:k.message,variant:"destructive"})}finally{w(!1)}},E=async()=>{if(!o){Pe({title:"",description:"   ",variant:"destructive"});return}h(!0);try{await Io.shareList(r,o,a),Pe({title:" ",description:`  -${o}`}),i(""),await S()}catch(k){Pe({title:" ",description:k.message,variant:"destructive"})}finally{h(!1)}},b=async k=>{try{await Io.removeShare(r,k),Pe({title:" ",description:"   "}),await S()}catch(j){Pe({title:"  ",description:j.message,variant:"destructive"})}},C=async(k,j)=>{try{await Io.updatePermission(r,k,j),Pe({title:" ",description:"   "}),await S()}catch(N){Pe({title:"  ",description:N.message,variant:"destructive"})}};return u.jsx(Uo,{open:e,onOpenChange:t,children:u.jsxs(Ms,{className:"bg-slate-900 border-slate-800 sm:max-w-[500px]",children:[u.jsxs($s,{children:[u.jsx(Fs,{className:"text-slate-100",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Os,{className:"h-5 w-5 text-blue-500"})," "]})}),u.jsx(Vo,{className:"text-slate-400",children:"     "})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"email",className:"text-slate-200",children:" "}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ht,{id:"email",placeholder:"  ...",value:o,onChange:k=>i(k.target.value),className:"flex-1 bg-slate-800 border-slate-700 text-slate-100"}),u.jsxs(hc,{value:a,onValueChange:c,children:[u.jsx(da,{className:"w-[120px] bg-slate-800 border-slate-700 text-slate-100",children:u.jsx(pc,{})}),u.jsxs(fa,{className:"bg-slate-800 border-slate-700",children:[u.jsx(Sn,{value:"editor",children:""}),u.jsx(Sn,{value:"viewer",children:""})]})]}),u.jsx(ye,{onClick:E,disabled:d||!o,className:"bg-blue-500 hover:bg-blue-600 text-white",children:d?u.jsx(en,{className:"h-4 w-4 animate-spin"}):u.jsx(fh,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{className:"text-slate-200",children:" "}),u.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto pr-2",children:y?u.jsx("div",{className:"flex justify-center py-4",children:u.jsx(en,{className:"h-6 w-6 text-slate-400 animate-spin"})}):p.length===0?u.jsxs("div",{className:"text-center py-4",children:[u.jsx(Os,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-400",children:"     "})]}):p.map(k=>{var j,N,A;return u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-slate-800/50 border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Pk,{className:"h-5 w-5 text-slate-400"})}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-100",children:((j=k.profiles)==null?void 0:j.full_name)||((N=k.profiles)==null?void 0:N.email)}),u.jsx("div",{className:"text-sm text-slate-400",children:(A=k.profiles)==null?void 0:A.email})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(hc,{value:k.permission_level,onValueChange:D=>C(k.shared_with_id,D),children:[u.jsx(da,{className:"h-8 w-[100px] bg-slate-800 border-slate-700 text-slate-100",children:u.jsx(pc,{})}),u.jsxs(fa,{className:"bg-slate-800 border-slate-700",children:[u.jsx(Sn,{value:"editor",children:""}),u.jsx(Sn,{value:"viewer",children:""})]})]}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>b(k.shared_with_id),className:"h-8 w-8 p-0 hover:bg-red-500/10 hover:text-red-500",children:u.jsx(kc,{className:"h-4 w-4"})})]})]},k.shared_with_id)})})]})]})}),u.jsx(Bo,{children:u.jsx(ye,{variant:"ghost",onClick:t,className:"text-slate-400 hover:text-slate-300",children:""})})]})})}function Lw(){const[e,t]=m.useState([]),[r,o]=m.useState(!0),[i,a]=m.useState(new Set);m.useEffect(()=>{c()},[]);const c=async()=>{try{const h=await Io.getPendingInvitations();t(h)}catch(h){console.error("Error loading invitations:",h),Pe({title:"  ",description:h.message,variant:"destructive"})}finally{o(!1)}},d=async h=>{a(p=>new Set([...p,h]));try{await Io.acceptInvitation(h),t(p=>p.filter(v=>v.invitation_token!==h)),Pe({title:" ",description:"   "})}catch(p){console.error("Error accepting invitation:",p),Pe({title:"  ",description:p.message,variant:"destructive"})}finally{a(p=>{const v=new Set(p);return v.delete(h),v})}};return r?u.jsx("div",{className:"flex justify-center p-4",children:u.jsx(en,{className:"h-6 w-6 animate-spin text-slate-400"})}):e.length===0?null:u.jsx("div",{className:"space-y-2",children:e.map(h=>u.jsx(Vt,{className:"p-4 bg-slate-800/50 border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(fh,{className:"h-5 w-5 text-blue-500"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-100",children:"  "}),u.jsxs("div",{className:"text-sm text-slate-400",children:["  ",h.permission_level==="editor"?"":""]})]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>d(h.invitation_token),disabled:i.has(h.invitation_token),className:"hover:bg-emerald-500/10 hover:text-emerald-500",children:i.has(h.invitation_token)?u.jsx(en,{className:"h-4 w-4 animate-spin"}):u.jsx(c0,{className:"h-4 w-4"})})})]})},h.invitation_token))})}const nR=[{id:1,name:" ",description:"   ",items:12,sharedWith:["",""],lastUpdated:" ",status:"active",date:" , 10/03/2024",user_id:"mock-user-id"},{id:2,name:"",description:"  ",items:5,sharedWith:[],lastUpdated:" ",status:"completed",date:" , 05/03/2024",user_id:"mock-user-id"}],sR=()=>{try{const e="__test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return console.error("localStorage is not available:",e),!1}},oR=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-slate-800/50 rounded-lg border border-slate-700",children:[u.jsx(en,{className:"h-12 w-12 text-emerald-500 animate-spin mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-100",children:" ..."})]}),iR=({onCreateList:e})=>u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-slate-800/50 rounded-lg border border-slate-700",children:[u.jsx(Ec,{className:"h-12 w-12 text-slate-300 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2 text-slate-100",children:"  "}),u.jsx("p",{className:"text-slate-300 text-center mb-4",children:"       "}),u.jsxs(ye,{onClick:e,className:"bg-emerald-500 hover:bg-emerald-600",children:[u.jsx($r,{className:"ml-2 h-4 w-4"})," "]})]}),aR=()=>{const e=on(),t=sR(),[r,o]=m.useState(null),[i,a]=m.useState(!1),[c,d]=m.useState("active"),[h,p]=m.useState(()=>{if(!t)return console.warn("localStorage not available, using mock data"),nR;try{const K=localStorage.getItem("shoppingLists");if(console.log("Initial load - data from localStorage:",K),K&&K!=="undefined"&&K!=="null"){const V=JSON.parse(K);if(Array.isArray(V)&&V.length>0)return console.log("Using saved lists from localStorage:",V),V}}catch(K){console.error("Error loading initial lists from localStorage:",K)}return console.log("No valid saved lists found, returning empty array"),[]}),[v,y]=m.useState(!1),[w,S]=m.useState(""),[E,b]=m.useState(null),[C,k]=m.useState(!1),[j,N]=m.useState(null),A=m.useRef(!0);m.useEffect(()=>{(async()=>{try{const J=await yk();o(J),J||e("/login")}catch(J){console.error("Authentication error:",J),b("Authentication error. Please log in again.")}})();const{data:V}=Re.auth.onAuthStateChange(async(J,oe)=>{if(J==="SIGNED_IN"){const W=oe==null?void 0:oe.user;o(W)}else J==="SIGNED_OUT"&&(o(null),e("/login"))});return()=>{V&&V.subscription&&V.subscription.unsubscribe()}},[e]),m.useEffect(()=>{if(!r){console.log("User not authenticated, skipping list fetch");return}console.log("Loading lists for user:",r.id),(async()=>{a(!0);try{console.log("Fetching lists from API");const V=await aT();if(console.log("Lists fetched from API:",V),Array.isArray(V)){const J=JSON.stringify(h.map(W=>({id:W.id,name:W.name,updated_at:W.updated_at}))),oe=JSON.stringify(V.map(W=>({id:W.id,name:W.name,updated_at:W.updated_at})));J!==oe?(console.log("API data differs from current state, updating"),p(V),t&&(localStorage.setItem("shoppingLists",JSON.stringify(V)),console.log("Lists saved to localStorage"))):console.log("API data matches current state, no update needed"),b(null)}else console.error("API returned invalid lists data (not an array):",V),b("  .     .")}catch(V){console.error("Failed to fetch lists from API:",V),b("Failed to sync with server. Using local data.")}finally{a(!1)}})()},[t,r]),m.useEffect(()=>{if(!t){console.warn("localStorage not available, changes will not persist");return}if(A.current){console.log("Skipping initial render for sync effect"),A.current=!1;return}if(!r){console.log("User not authenticated, skipping sync");return}console.log("Lists changed, saving to localStorage and syncing with server");try{localStorage.setItem("shoppingLists",JSON.stringify(h)),console.log("Lists saved to localStorage")}catch(V){console.error("Error saving lists to localStorage:",V)}const K=setTimeout(()=>{if(console.log("Starting sync with server"),!Array.isArray(h)||h.length===0){console.log("No lists to sync");return}cT(h).then(V=>{if(console.log("Lists synced with server, received:",V),!V||!V.lists){console.error("Invalid response from server");return}const J=JSON.stringify(V.lists.map(W=>({id:W.id,name:W.name,updated_at:W.updated_at}))),oe=JSON.stringify(h.map(W=>({id:W.id,name:W.name,updated_at:W.updated_at})));J!==oe?(console.log("Server data differs from local, updating local state"),p(V.lists),localStorage.setItem("shoppingLists",JSON.stringify(V.lists))):console.log("Server data matches local data, no update needed"),b(null)}).catch(V=>{console.error("Error syncing lists with server:",V),b("Failed to sync changes with server. Changes saved locally.")})},2e3);return()=>{console.log("Clearing sync timer"),clearTimeout(K)}},[h,t,r]);const D=()=>{if(!w.trim()||!r)return;a(!0);const K={id:Date.now(),name:w,user_id:r.id,status:"active"};console.log("Creating new list:",K);const V={...K,items:0,sharedWith:[],date:new Date().toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:" ",description:"  ",status:"active"},J=Array.isArray(h)?h:[],oe=[V,...J];p(oe),t&&localStorage.setItem("shoppingLists",JSON.stringify(oe)),S(""),y(!1),Af(K).then(W=>{const ge=oe.map(ie=>ie.id===V.id?{...ie,...W}:ie);p(ge),t&&localStorage.setItem("shoppingLists",JSON.stringify(ge)),Pe({title:"  ",description:` "${W.name}"   `}),e(`/list-detail/${W.id}`)}).catch(W=>{console.error("Error syncing new list with server:",W),b("Failed to sync new list with server. Changes saved locally.")}).finally(()=>{a(!1)})},U=async K=>{if(window.confirm("      ?"))try{if(a(!0),!Array.isArray(h)){console.error("Lists is not an array in handleDeleteList"),a(!1);return}const V=h.filter(J=>J.id!==K);p(V),localStorage.setItem("shoppingLists",JSON.stringify(V)),await lT(K),console.log("List deleted successfully"),a(!1),Pe({title:"  ",description:"  "})}catch(V){console.error("Error deleting list:",V);const J=JSON.parse(localStorage.getItem("shoppingLists")||"[]");p(J),a(!1),b("Failed to delete list. Please try again.")}},$=Array.isArray(h)?h.filter(K=>c==="all"?!0:K.status===c):[],q=async K=>{try{const V={...K,id:Date.now(),name:`${K.name} (Copy)`,date:new Date().toLocaleDateString("he-IL",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),lastUpdated:" ",status:"active"},J=[V,...h];p(J),t&&localStorage.setItem("shoppingLists",JSON.stringify(J));const oe=await Af(V);if(oe._not_synced)throw new Error(oe._error||"Failed to create list on server");const W=await Fr.getByListId(K.id);for(const ae of W)await Fr.create({listId:oe.id,productId:ae.product_id,quantity:ae.quantity});const ge=await Nh(oe.id),ie=h.map(ae=>ae.id===V.id?ge:ae);p(ie),t&&localStorage.setItem("shoppingLists",JSON.stringify(ie)),Pe({title:"  ",description:` "${oe.name}"      `}),e(`/list-detail/${oe.id}`)}catch(V){console.error("Error duplicating list:",V),b("Failed to duplicate list. Please try again."),Pe({title:"  ",description:V.message,variant:"destructive"})}},ce=K=>{N(K),k(!0)};return u.jsx(_n,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-1",children:"  "}),u.jsx("p",{className:"text-slate-400",children:"        "})]}),u.jsxs(Uo,{open:v,onOpenChange:y,children:[u.jsx(Pf,{asChild:!0,children:u.jsxs(ye,{className:"w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600",children:[u.jsx($r,{className:"ml-2 h-4 w-4"})," "]})}),u.jsxs(Ms,{className:"bg-slate-900 border-slate-800 text-white rtl",children:[u.jsx($s,{children:u.jsx(Fs,{children:"  "})}),u.jsx("div",{className:"space-y-4 py-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"name",className:"text-slate-200",children:" "}),u.jsx(ht,{id:"name",placeholder:"  ",value:w,onChange:K=>S(K.target.value),className:"bg-slate-800 border-slate-700 text-slate-100 placeholder:text-slate-400"})]})}),u.jsxs("div",{className:"flex justify-start space-x-reverse space-x-2",children:[u.jsx(ye,{variant:"outline",onClick:()=>y(!1),className:"border-slate-700 text-slate-200 hover:text-slate-100",children:""}),u.jsx(ye,{onClick:D,disabled:i||!w.trim(),className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:i?u.jsxs(u.Fragment,{children:[u.jsx(en,{className:"ml-2 h-4 w-4 animate-spin"}),"..."]}):" "})]})]})]})]}),u.jsx(Lw,{}),E&&u.jsxs(ba,{variant:"destructive",className:"bg-red-900/20 border-red-800 text-red-400",children:[u.jsx(a0,{className:"h-4 w-4"}),u.jsx(jh,{children:" "}),u.jsx(Sa,{children:E})]}),u.jsx(Ic,{defaultValue:"active",className:"w-full",onValueChange:d,children:u.jsxs(wa,{className:"bg-slate-800 border border-slate-700 w-full sm:w-auto",children:[u.jsx(_r,{value:"all",className:"flex-1 sm:flex-none",children:""}),u.jsxs(_r,{value:"active",className:"relative flex-1 sm:flex-none",children:["",u.jsx(Ft,{className:"absolute -top-2 -right-2 bg-emerald-500",children:Array.isArray(h)?h.filter(K=>K.status==="active").length:0})]}),u.jsxs(_r,{value:"completed",className:"relative flex-1 sm:flex-none",children:["",u.jsx(Ft,{className:"absolute -top-2 -right-2 bg-emerald-500",children:Array.isArray(h)?h.filter(K=>K.status==="completed").length:0})]}),u.jsxs(_r,{value:"archived",className:"relative flex-1 sm:flex-none",children:["",u.jsx(Ft,{className:"absolute -top-2 -right-2 bg-emerald-500",children:Array.isArray(h)?h.filter(K=>K.status==="archived").length:0})]})]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:i?u.jsx("div",{className:"col-span-full",children:u.jsx(oR,{})}):$.length>0?$.map(K=>u.jsx("div",{children:u.jsx(iT,{list:K,onDelete:U,onDuplicate:q,onShare:ce})},K.id)):u.jsx("div",{className:"col-span-full",children:u.jsx(iR,{onCreateList:()=>y(!0)})})}),u.jsx(Bh,{isOpen:C,onClose:()=>{k(!1),N(null)},listId:j})]})})},lR=()=>{const e=[{id:1,listName:" ",date:"13/03/2025",items:12,total:"156.80",status:"completed",sharedWith:["",""]},{id:2,listName:" ",date:"12/03/2025",items:8,total:"245.30",status:"completed",sharedWith:[""]}];return u.jsx(_n,{children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:" "}),u.jsx("p",{className:"text-slate-400",children:"   "})]}),u.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:u.jsx(Ic,{defaultValue:"all",className:"w-full",children:u.jsxs(wa,{className:"bg-slate-900 border-slate-800 w-full sm:w-auto",children:[u.jsx(_r,{value:"all",className:"flex-1 sm:flex-none",children:""}),u.jsx(_r,{value:"week",className:"flex-1 sm:flex-none",children:" "}),u.jsx(_r,{value:"month",className:"flex-1 sm:flex-none",children:" "}),u.jsx(_r,{value:"year",className:"flex-1 sm:flex-none",children:" "})]})})}),e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsx(_c,{className:"h-12 w-12 text-slate-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),u.jsx("p",{className:"text-slate-400 text-center mb-4",children:"   "})]}):u.jsx("div",{className:"space-y-4",children:e.map(t=>u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsx(tn,{children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx(rn,{children:t.listName}),u.jsx(Cn,{className:"text-slate-400",children:t.date})]}),u.jsx(Ft,{variant:t.status==="completed"?"default":"secondary",className:t.status==="completed"?"bg-emerald-500":"",children:t.status==="completed"?"":""})]})}),u.jsx(rr,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[u.jsx(zo,{className:"h-4 w-4 ml-2"}),u.jsxs("span",{children:[t.items," "]})]}),u.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[u.jsx(Ec,{className:"h-4 w-4 ml-2"}),u.jsxs("span",{children:['": ',t.total]})]}),t.sharedWith.length>0&&u.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[u.jsx(Os,{className:"h-4 w-4 text-slate-400"}),u.jsx("span",{className:"text-sm text-slate-400",children:" :"}),u.jsx("div",{className:"flex -space-x-reverse -space-x-2",children:t.sharedWith.map((r,o)=>u.jsx(Xo,{className:"h-6 w-6 border-2 border-slate-900",children:u.jsx(Zo,{children:r[0]})},o))})]})]})}),u.jsx(ya,{className:"flex justify-end",children:u.jsx(ye,{variant:"outline",size:"sm",className:"border-slate-700",children:" "})})]},t.id))})]})})},Vh=m.forwardRef(({className:e,...t},r)=>u.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Vh.displayName="Textarea";var Wh="Progress",Hh=100,[cR,rO]=Cr(Wh),[uR,dR]=cR(Wh),Mw=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:o=null,max:i,getValueLabel:a=fR,...c}=e;(i||i===0)&&!sy(i)&&console.error(hR(`${i}`,"Progress"));const d=sy(i)?i:Hh;o!==null&&!oy(o,d)&&console.error(pR(`${o}`,"Progress"));const h=oy(o,d)?o:null,p=mc(h)?a(h,d):void 0;return u.jsx(uR,{scope:r,value:h,max:d,children:u.jsx(Ce.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":mc(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":zw(h,d),"data-value":h??void 0,"data-max":d,...c,ref:t})})});Mw.displayName=Wh;var $w="ProgressIndicator",Fw=m.forwardRef((e,t)=>{const{__scopeProgress:r,...o}=e,i=dR($w,r);return u.jsx(Ce.div,{"data-state":zw(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...o,ref:t})});Fw.displayName=$w;function fR(e,t){return`${Math.round(e/t*100)}%`}function zw(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mc(e){return typeof e=="number"}function sy(e){return mc(e)&&!isNaN(e)&&e>0}function oy(e,t){return mc(e)&&!isNaN(e)&&e<=t&&e>=0}function hR(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Hh}\`.`}function pR(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Hh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Uw=Mw,mR=Fw;const Bw=m.forwardRef(({className:e,value:t,...r},o)=>u.jsx(Uw,{ref:o,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-slate-800",e),...r,children:u.jsx(mR,{className:"h-full w-full flex-1 bg-emerald-500 transition-all",style:{transform:`translateX(${100-(t||0)}%)`}})}));Bw.displayName=Uw.displayName;const of={" ":["","","",""," ","","","","","","","","","","",""]," ":["","","","","","",""," "," ",""]," ":["","","","","","","","","",""],:["","","","","","","","",""],:["","",""," ",""," ",""," "],:["","","","","","",""," ","",""]," ":["","","","","","","","",""]," ":["","",""," ","",""," "," "," "]},Vw={" ":["",""]," ":["",""]," ":["",""]},iy=Object.entries(Vw).reduce((e,[t,r])=>(r.forEach(o=>{e[o]=t}),e),{});class To{static async suggestCategory(t,r,o=!1){if(this.isExperimentalAIEnabled&&o)try{const i=await this.huggingFaceSuggest(t,r);if(i)return this.normalizeCategory(i)}catch(i){console.error("Error with Hugging Face API:",i)}return this.basicSuggestCategory(t,r)}static setExperimentalAIEnabled(t){this.isExperimentalAIEnabled=t}static async huggingFaceSuggest(t,r){try{const o=[...new Set(r.map(y=>y.category).filter(y=>y&&y!==""))],i=Object.keys(of),a=[...new Set([...o,...i])];if(a.length<2)return null;const c=r.filter(y=>y.category&&y.category!=="").map(y=>({text:y.name,label:y.category})).slice(0,10);Object.entries(of).forEach(([y,w])=>{w.slice(0,3).forEach(S=>{c.push({text:S,label:y})})});const h=await(await fetch("https://api-inference.huggingface.co/models/facebook/bart-large-mnli",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:t,parameters:{candidate_labels:a,multi_label:!1,hypothesis_template:"This product is in the category of {}.",premise_template:"Product name: {}"},examples:c.map(y=>({text:`Product name: ${y.text}`,label:y.label}))})})).json();if(!h.labels||!h.scores||h.labels.length===0)return null;const p=h.labels[0];return h.scores[0]>.6?p:null}catch(o){return console.error("Error with Hugging Face classification:",o),null}}static normalizeCategory(t){return iy[t]?iy[t]:t}static basicSuggestCategory(t,r){const o=t.toLowerCase(),i=this.findMatchesInExisting(o,r);if(i.length>0){const c=r.reduce((p,v)=>{if(v.category&&v.category!==""){const y=this.normalizeCategory(v.category);p[y]=(p[y]||0)+1}return p},{}),d=i.reduce((p,v)=>{if(!v.category||v.category==="")return p;const y=this.normalizeCategory(v.category);let w=v.similarity;const S=Math.log(c[y]||1)/20;return w*=1+S,p[y]=(p[y]||0)+w,p},{}),[h]=Object.entries(d).sort(([,p],[,v])=>v-p);if(h&&h[1]>.7)return h[0]}const a=this.findMatchInDefaults(o);if(a)return a;if(r.length>0){const c=r.reduce((h,p)=>{if(p.category&&p.category!==""){const v=this.normalizeCategory(p.category);h[v]=(h[v]||0)+1}return h},{}),[d]=Object.entries(c).sort(([,h],[,p])=>p-h);if(d&&d[1]>5)return d[0]}return""}static findMatchesInExisting(t,r){const o=[],i=t.split(" ");for(const a of r){if(!a.name)continue;const d=a.name.toLowerCase().split(" "),h=this.calculateWordSimilarity(i,d);h>.5&&o.push({...a,similarity:h})}return o.sort((a,c)=>c.similarity-a.similarity)}static calculateWordSimilarity(t,r){let o=0;for(const i of t)if(!(i.length<2))for(const a of r){if(a.length<2)continue;const c=this.levenshteinDistance(i,a),d=Math.max(i.length,a.length),h=1-c/d;if(i.includes(a)||a.includes(i)){const p=Math.min(i.length,a.length)/Math.max(i.length,a.length);o=Math.max(o,p)}o=Math.max(o,h)}return o}static levenshteinDistance(t,r){const o=t.length,i=r.length,a=Array(o+1).fill().map(()=>Array(i+1).fill(0));for(let c=0;c<=o;c++)a[c][0]=c;for(let c=0;c<=i;c++)a[0][c]=c;for(let c=1;c<=o;c++)for(let d=1;d<=i;d++)t[c-1]===r[d-1]?a[c][d]=a[c-1][d-1]:a[c][d]=1+Math.min(a[c-1][d],a[c][d-1],a[c-1][d-1]);return a[o][i]}static findMatchInDefaults(t){const r=t.split(" ");let o=null,i=0,a={};for(const[d,h]of Object.entries(Vw)){let p=0;for(const v of h){const y=this.calculateWordSimilarity([v.toLowerCase()],r);y>p&&(p=y)}a[d]=p,p>i&&(i=p,o=d)}if(i<.7)for(const[d,h]of Object.entries(of)){let p=0;for(const v of h){const y=v.toLowerCase().split(" "),w=this.calculateWordSimilarity(r,y);p=Math.max(p,w)}a[d]=Math.max(a[d]||0,p),p>i&&(i=p,o=d)}return Object.entries(a).filter(([,d])=>d>i-.1).length>1?null:i>.7?o:null}}Fg(To,"isExperimentalAIEnabled",!1);var qh="Switch",[gR,nO]=Cr(qh),[vR,yR]=gR(qh),Ww=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:o,checked:i,defaultChecked:a,required:c,disabled:d,value:h="on",onCheckedChange:p,form:v,...y}=e,[w,S]=m.useState(null),E=Ke(t,N=>S(N)),b=m.useRef(!1),C=w?v||!!w.closest("form"):!0,[k=!1,j]=as({prop:i,defaultProp:a,onChange:p});return u.jsxs(vR,{scope:r,checked:k,disabled:d,children:[u.jsx(Ce.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":Kw(k),"data-disabled":d?"":void 0,disabled:d,value:h,...y,ref:E,onClick:_e(e.onClick,N=>{j(A=>!A),C&&(b.current=N.isPropagationStopped(),b.current||N.stopPropagation())})}),C&&u.jsx(xR,{control:w,bubbles:!b.current,name:o,value:h,checked:k,required:c,disabled:d,form:v,style:{transform:"translateX(-100%)"}})]})});Ww.displayName=qh;var Hw="SwitchThumb",qw=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...o}=e,i=yR(Hw,r);return u.jsx(Ce.span,{"data-state":Kw(i.checked),"data-disabled":i.disabled?"":void 0,...o,ref:t})});qw.displayName=Hw;var xR=e=>{const{control:t,checked:r,bubbles:o=!0,...i}=e,a=m.useRef(null),c=Xx(r),d=Ux(t);return m.useEffect(()=>{const h=a.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&y){const w=new Event("click",{bubbles:o});y.call(h,r),h.dispatchEvent(w)}},[c,r,o]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Kw(e){return e?"checked":"unchecked"}var Gw=Ww,wR=qw;const Bf=m.forwardRef(({className:e,...t},r)=>u.jsx(Gw,{className:ke("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=unchecked]:bg-slate-200",e),...t,ref:r,children:u.jsx(wR,{className:ke("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Bf.displayName=Gw.displayName;var[zc,sO]=Cr("Tooltip",[ri]),Uc=ri(),Jw="TooltipProvider",bR=700,Vf="tooltip.open",[SR,Kh]=zc(Jw),Yw=e=>{const{__scopeTooltip:t,delayDuration:r=bR,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=e,[c,d]=m.useState(!0),h=m.useRef(!1),p=m.useRef(0);return m.useEffect(()=>{const v=p.current;return()=>window.clearTimeout(v)},[]),u.jsx(SR,{scope:t,isOpenDelayed:c,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(p.current),d(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>d(!0),o)},[o]),isPointerInTransitRef:h,onPointerInTransitChange:m.useCallback(v=>{h.current=v},[]),disableHoverableContent:i,children:a})};Yw.displayName=Jw;var Bc="Tooltip",[_R,Vc]=zc(Bc),Qw=e=>{const{__scopeTooltip:t,children:r,open:o,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:c,delayDuration:d}=e,h=Kh(Bc,e.__scopeTooltip),p=Uc(t),[v,y]=m.useState(null),w=Wt(),S=m.useRef(0),E=c??h.disableHoverableContent,b=d??h.delayDuration,C=m.useRef(!1),[k=!1,j]=as({prop:o,defaultProp:i,onChange:$=>{$?(h.onOpen(),document.dispatchEvent(new CustomEvent(Vf))):h.onClose(),a==null||a($)}}),N=m.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),A=m.useCallback(()=>{window.clearTimeout(S.current),S.current=0,C.current=!1,j(!0)},[j]),D=m.useCallback(()=>{window.clearTimeout(S.current),S.current=0,j(!1)},[j]),U=m.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>{C.current=!0,j(!0),S.current=0},b)},[b,j]);return m.useEffect(()=>()=>{S.current&&(window.clearTimeout(S.current),S.current=0)},[]),u.jsx(Qx,{...p,children:u.jsx(_R,{scope:t,contentId:w,open:k,stateAttribute:N,trigger:v,onTriggerChange:y,onTriggerEnter:m.useCallback(()=>{h.isOpenDelayed?U():A()},[h.isOpenDelayed,U,A]),onTriggerLeave:m.useCallback(()=>{E?D():(window.clearTimeout(S.current),S.current=0)},[D,E]),onOpen:A,onClose:D,disableHoverableContent:E,children:r})})};Qw.displayName=Bc;var Wf="TooltipTrigger",Xw=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,i=Vc(Wf,r),a=Kh(Wf,r),c=Uc(r),d=m.useRef(null),h=Ke(t,d,i.onTriggerChange),p=m.useRef(!1),v=m.useRef(!1),y=m.useCallback(()=>p.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),u.jsx(Lc,{asChild:!0,...c,children:u.jsx(Ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:h,onPointerMove:_e(e.onPointerMove,w=>{w.pointerType!=="touch"&&!v.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),v.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{i.onTriggerLeave(),v.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:_e(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:_e(e.onBlur,i.onClose),onClick:_e(e.onClick,i.onClose)})})});Xw.displayName=Wf;var CR="TooltipPortal",[oO,ER]=zc(CR,{forceMount:void 0}),Ho="TooltipContent",Zw=m.forwardRef((e,t)=>{const r=ER(Ho,e.__scopeTooltip),{forceMount:o=r.forceMount,side:i="top",...a}=e,c=Vc(Ho,e.__scopeTooltip);return u.jsx(Nn,{present:o||c.open,children:c.disableHoverableContent?u.jsx(eb,{side:i,...a,ref:t}):u.jsx(kR,{side:i,...a,ref:t})})}),kR=m.forwardRef((e,t)=>{const r=Vc(Ho,e.__scopeTooltip),o=Kh(Ho,e.__scopeTooltip),i=m.useRef(null),a=Ke(t,i),[c,d]=m.useState(null),{trigger:h,onClose:p}=r,v=i.current,{onPointerInTransitChange:y}=o,w=m.useCallback(()=>{d(null),y(!1)},[y]),S=m.useCallback((E,b)=>{const C=E.currentTarget,k={x:E.clientX,y:E.clientY},j=PR(k,C.getBoundingClientRect()),N=RR(k,j),A=IR(b.getBoundingClientRect()),D=OR([...N,...A]);d(D),y(!0)},[y]);return m.useEffect(()=>()=>w(),[w]),m.useEffect(()=>{if(h&&v){const E=C=>S(C,v),b=C=>S(C,h);return h.addEventListener("pointerleave",E),v.addEventListener("pointerleave",b),()=>{h.removeEventListener("pointerleave",E),v.removeEventListener("pointerleave",b)}}},[h,v,S,w]),m.useEffect(()=>{if(c){const E=b=>{const C=b.target,k={x:b.clientX,y:b.clientY},j=(h==null?void 0:h.contains(C))||(v==null?void 0:v.contains(C)),N=!AR(k,c);j?w():N&&(w(),p())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[h,v,c,p,w]),u.jsx(eb,{...e,ref:a})}),[jR,NR]=zc(Bc,{isInside:!1}),eb=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:c,...d}=e,h=Vc(Ho,r),p=Uc(r),{onClose:v}=h;return m.useEffect(()=>(document.addEventListener(Vf,v),()=>document.removeEventListener(Vf,v)),[v]),m.useEffect(()=>{if(h.trigger){const y=w=>{const S=w.target;S!=null&&S.contains(h.trigger)&&v()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,v]),u.jsx(Qo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:y=>y.preventDefault(),onDismiss:v,children:u.jsxs(Fh,{"data-state":h.stateAttribute,...p,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(f0,{children:o}),u.jsx(jR,{scope:r,isInside:!0,children:u.jsx(bP,{id:h.contentId,role:"tooltip",children:i||o})})]})})});Zw.displayName=Ho;var tb="TooltipArrow",TR=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,i=Uc(r);return NR(tb,r).isInside?null:u.jsx(zh,{...i,...o,ref:t})});TR.displayName=tb;function PR(e,t){const r=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,o,i,a)){case a:return"left";case i:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function RR(e,t,r=5){const o=[];switch(t){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function IR(e){const{top:t,right:r,bottom:o,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:o},{x:i,y:o}]}function AR(e,t){const{x:r,y:o}=e;let i=!1;for(let a=0,c=t.length-1;a<t.length;c=a++){const d=t[a].x,h=t[a].y,p=t[c].x,v=t[c].y;h>o!=v>o&&r<(p-d)*(o-h)/(v-h)+d&&(i=!i)}return i}function OR(e){const t=e.slice();return t.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),DR(t)}function DR(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const i=e[o];for(;t.length>=2;){const a=t[t.length-1],c=t[t.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let o=e.length-1;o>=0;o--){const i=e[o];for(;r.length>=2;){const a=r[r.length-1],c=r[r.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var LR=Yw,MR=Qw,$R=Xw,rb=Zw;const ay=LR,ly=MR,cy=$R,Hf=m.forwardRef(({className:e,sideOffset:t=4,...r},o)=>u.jsx(rb,{ref:o,sideOffset:t,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Hf.displayName=rb.displayName;const FR=()=>{const[e,t]=m.useState([]),[r,o]=m.useState(!0),[i,a]=m.useState({name:"",description:"",category:"",price:"",inStock:!0,notes:""}),[c,d]=m.useState(!1),[h,p]=m.useState(""),[v,y]=m.useState("all"),[w,S]=m.useState(["all"]),[E,b]=m.useState(!1),[C,k]=m.useState(""),[j,N]=m.useState(0),[A,D]=m.useState(!1),[U,$]=m.useState(null),[q,ce]=m.useState("grid"),[K,V]=m.useState("none"),[J,oe]=m.useState(!1),[W,ge]=m.useState([]),[ie,ae]=m.useState(!1),[B,ee]=m.useState(!1),[ne,I]=m.useState([]),[P,Y]=m.useTransition(),[re,Z]=m.useState(!1),[ue,Q]=m.useState(!1);m.useEffect(()=>{de(),me(),To.setExperimentalAIEnabled(!0)},[]);const de=async()=>{o(!0);try{const M=await yt.getAll();t(M)}catch(M){console.error("  :",M),Pe({title:"  ",description:M.message,variant:"destructive"})}finally{o(!1)}},me=async()=>{try{const M=await yt.getCategories();S(["all",...M])}catch(M){console.error("  :",M),Pe({title:"  ",description:M.message,variant:"destructive"})}},pe=async(M,H)=>{try{return await To.suggestCategory(M,e,H)}catch(G){return console.error("Error suggesting category:",G),""}},Ae=async()=>{if(!i.name){Pe({title:"",description:"    ",variant:"destructive"});return}try{if(!i.category){const H=await pe(i.name,re);i.category=H}const M=await yt.create({name:i.name,category:i.category||""});t(H=>[M,...H]),a({name:"",description:"",category:"",price:"",inStock:!0,notes:""}),d(!1),Pe({title:"  ",description:` ${M.name}    ${M.category}`})}catch(M){console.error("  :",M),M.message.includes(" ")?Pe({title:"  ",description:M.message,variant:"destructive"}):Pe({title:"  ",description:M.message,variant:"destructive"})}},Te=async M=>{try{const H=await yt.getById(M);if(!H){Pe({title:"",description:"  ",variant:"destructive"});return}a(H),d(!0)}catch(H){console.error("  :",H),Pe({title:"  ",description:H.message,variant:"destructive"})}},He=async()=>{if(!i.id){await Ae();return}try{const M=await yt.update(i.id,i);t(H=>H.map(G=>G.id===M.id?M:G)),a({name:"",description:"",category:"",price:"",inStock:!0,notes:""}),d(!1),Pe({title:"  ",description:` ${M.name}  `})}catch(M){console.error("  :",M),Pe({title:"  ",description:M.message,variant:"destructive"})}},Be=async M=>{try{const H=await yt.getById(M);if(!H){Pe({title:"",description:"  ",variant:"destructive"});return}await H.delete(),t(G=>G.filter(he=>he.id!==M)),Pe({title:"  ",description:` ${H.name}  `})}catch(H){console.error("  :",H),Pe({title:"  ",description:H.message,variant:"destructive"})}},mt=M=>K==="none"?{"":M}:M.reduce((H,G)=>{let he="";switch(K){case"category":he=G.category||" ";break;case"month":he=new Date(G.createdAt).toLocaleString("he-IL",{month:"long",year:"numeric"});break;case"recent":const Ee=new Date,Fe=new Date(G.createdAt),tt=Math.floor((Ee-Fe)/(1e3*60*60*24));tt===0?he="":tt===1?he="":tt<7?he="":tt<30?he="":he=" ";break;default:he=""}return H[he]||(H[he]=[]),H[he].push(G),H},{}),lt=e.filter(M=>{const H=h===""||M.name.toLowerCase().includes(h.toLowerCase())||M.description&&M.description.toLowerCase().includes(h.toLowerCase()),G=v==="all"||M.category===v;return H&&G}),jt=async()=>{D(!0),N(0),$(null);try{const M=C.split(`
`).map(G=>G.trim()).filter(G=>G.length>0).slice(0,50),H={total:M.length,successful:0,failed:0,categories:new Set};for(let G=0;G<M.length;G++){const he=M[G];try{const Ee=re?await pe(he,re):"",Fe=await yt.create({name:he,category:Ee});H.successful++,H.categories.add(Ee),t(tt=>[Fe,...tt]),N((G+1)/M.length*100)}catch(Ee){console.error(`Failed to import product: ${he}`,Ee),H.failed++}}H.categories.size>0&&me(),$({total:H.total,successful:H.successful,failed:H.failed,categories:Array.from(H.categories)}),H.failed===0&&(k(""),setTimeout(()=>{b(!1),$(null)},3e3)),Pe({title:" ",description:` ${H.successful}  ${H.total}  `,variant:H.failed>0?"destructive":"default"})}catch(M){console.error("  :",M),Pe({title:"  ",description:M.message,variant:"destructive"})}finally{D(!1)}},fe=async()=>{ae(!0);try{const M=e.filter(H=>H.category==="");if(M.length===0){oe(!0),ae(!1);return}if(B)I(M.map(H=>({productId:H.id,productName:H.name,currentCategory:H.category,newCategory:H.category,approved:!0}))),ge([]);else{I([]);const H=await Promise.all(M.map(async G=>{const he=await To.suggestCategory(G.name,e.filter(Ee=>Ee.category&&Ee.category!==""));return{productId:G.id,productName:G.name,currentCategory:G.category,suggestedCategory:he,approved:!0}}));ge(H.filter(G=>G.suggestedCategory!==G.currentCategory))}oe(!0)}catch(M){console.error("Error suggesting categories:",M),Pe({title:"  ",description:M.message,variant:"destructive"})}finally{ae(!1)}};return u.jsxs(_n,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-100",children:""}),u.jsx("p",{className:"text-slate-400",children:"    "})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 w-full sm:w-auto",children:[u.jsxs(ye,{onClick:fe,disabled:ie,className:"bg-blue-500 hover:bg-blue-600 text-white text-sm sm:text-base flex-1 sm:flex-none",size:"sm",children:[u.jsx(Rk,{className:"h-4 w-4 ml-1 sm:ml-2"}),u.jsx("span",{className:"sm:inline",children:" "}),u.jsx("span",{className:"inline sm:hidden",children:""})]}),u.jsxs(ye,{onClick:()=>Q(!0),className:"bg-blue-500 hover:bg-blue-600 text-white text-sm sm:text-base flex-1 sm:flex-none",size:"sm",children:[u.jsx(d0,{className:"h-4 w-4 ml-1 sm:ml-2"}),u.jsx("span",{children:""})]}),u.jsxs(Uo,{open:c,onOpenChange:d,children:[u.jsx(Pf,{asChild:!0,children:u.jsxs(ye,{className:"bg-emerald-500 hover:bg-emerald-600 text-white text-sm sm:text-base flex-1 sm:flex-none",size:"sm",children:[u.jsx($r,{className:"h-4 w-4 ml-1 sm:ml-2"}),u.jsx("span",{children:" "})]})}),u.jsxs(Ms,{className:"bg-slate-900 border-slate-800",children:[u.jsxs($s,{children:[u.jsx(Fs,{className:"text-slate-100",children:i.id?" ":"  "}),u.jsx(Vo,{className:"text-slate-400",children:i.id?"    ":"    "})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"name",className:"text-slate-200",children:" "}),u.jsx(ht,{id:"name",value:i.name,onChange:M=>{const H=M.target.value;a(G=>({...G,name:H}))},onBlur:async M=>{const H=M.target.value;if(H&&!i.category&&re){const G=await pe(H,re);a(he=>({...he,category:G}))}},className:"bg-slate-800 border-slate-700 text-slate-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx(it,{htmlFor:"category",className:"text-slate-200",children:""}),!i.id&&To.isExperimentalAIEnabled&&u.jsx("div",{className:"flex items-center gap-3",children:u.jsx(ay,{children:u.jsxs(ly,{children:[u.jsx(cy,{children:u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700/50 transition-colors",children:[u.jsx(Bf,{id:"useAI",checked:re,onCheckedChange:Z,className:"relative h-[24px] w-[44px] cursor-default rounded-full bg-slate-700 transition-colors data-[state=checked]:bg-yellow-500/20 border-2 border-slate-600 data-[state=checked]:border-yellow-500 [&>span]:translate-x-0 data-[state=checked]:[&>span]:translate-x-5",children:u.jsx("span",{className:"block h-5 w-5 rounded-full bg-slate-300 shadow-lg ring-0 transition-transform data-[state=checked]:bg-yellow-500 transform -translate-y-1/2 top-1/2 absolute left-[2px]"})}),u.jsxs("span",{className:"text-xs flex items-center gap-1 text-slate-200",children:[u.jsx(Ev,{className:"h-3.5 w-3.5 text-yellow-500"})," "]}),u.jsx(jv,{className:"h-3.5 w-3.5 text-slate-400"})]})}),u.jsx(Hf,{side:"top",className:"bg-slate-900 border-slate-800",children:u.jsx("p",{className:"text-xs text-slate-200",children:" :     AI"})})]})})})]}),u.jsx(ht,{id:"category",value:i.category,onChange:M=>a({...i,category:M.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100"})]})]}),u.jsx(Bo,{children:u.jsx(ye,{onClick:He,className:"bg-emerald-500 hover:bg-emerald-600",children:i.id?" ":" "})})]})]}),u.jsxs(Uo,{open:E,onOpenChange:b,children:[u.jsx(Pf,{asChild:!0,children:u.jsxs(ye,{variant:"outline",className:"border-emerald-500 text-emerald-500 hover:bg-emerald-500/10 text-sm sm:text-base flex-1 sm:flex-none",size:"sm",children:[u.jsx(kv,{className:"h-4 w-4 ml-1 sm:ml-2"}),u.jsx("span",{children:""}),u.jsx("span",{className:"hidden sm:inline",children:" "})]})}),u.jsxs(Ms,{className:"bg-slate-900 border-slate-800 sm:max-w-[600px]",children:[u.jsxs($s,{children:[u.jsx(Fs,{className:"text-slate-100",children:" "}),u.jsx(Vo,{className:"text-slate-400",children:"           "})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[To.isExperimentalAIEnabled&&u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx(ay,{children:u.jsxs(ly,{children:[u.jsx(cy,{children:u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-slate-800 border border-slate-700 hover:bg-slate-700/50 transition-colors",children:[u.jsx(Bf,{id:"useAIBulk",checked:re,onCheckedChange:Z,className:"relative h-[24px] w-[44px] cursor-default rounded-full bg-slate-700 transition-colors data-[state=checked]:bg-yellow-500/20 border-2 border-slate-600 data-[state=checked]:border-yellow-500 [&>span]:translate-x-0 data-[state=checked]:[&>span]:translate-x-5",children:u.jsx("span",{className:"block h-5 w-5 rounded-full bg-slate-300 shadow-lg ring-0 transition-transform data-[state=checked]:bg-yellow-500 transform -translate-y-1/2 top-1/2 absolute left-[2px]"})}),u.jsxs("span",{className:"text-xs flex items-center gap-1 text-slate-200",children:[u.jsx(Ev,{className:"h-3.5 w-3.5 text-yellow-500"})," "]}),u.jsx(jv,{className:"h-3.5 w-3.5 text-slate-400"})]})}),u.jsx(Hf,{side:"top",className:"bg-slate-900 border-slate-800",children:u.jsx("p",{className:"text-xs text-slate-200",children:" :      AI"})})]})})}),u.jsx(it,{htmlFor:"bulkProducts",className:"text-slate-200",children:"  (   ,  50 )"}),u.jsx(Vh,{id:"bulkProducts",value:C,onChange:M=>k(M.target.value),placeholder:`:


`,className:"h-[200px] bg-slate-800 border-slate-700 text-slate-100",dir:"rtl"})]}),A&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Bw,{value:j,className:"h-2"}),u.jsx("p",{className:"text-sm text-slate-400 text-center",children:" ..."})]}),U&&u.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg space-y-2",children:[u.jsx("p",{className:"text-sm text-slate-200",children:" :"}),u.jsxs("ul",{className:"text-sm text-slate-400 space-y-1",children:[u.jsxs("li",{children:['" : ',U.total]}),u.jsxs("li",{children:[" : ",U.successful]}),U.failed>0&&u.jsxs("li",{className:"text-red-400",children:[": ",U.failed]}),u.jsxs("li",{children:[": ",U.categories.join(", ")]})]})]})]}),u.jsx(Bo,{children:u.jsx(ye,{type:"submit",onClick:jt,disabled:A||!C.trim(),className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:A?u.jsxs(u.Fragment,{children:[u.jsx(en,{className:"h-4 w-4 ml-2 animate-spin"}),"..."]}):u.jsxs(u.Fragment,{children:[u.jsx(kv,{className:"h-4 w-4 ml-2"})," "]})})})]})]})]})]}),u.jsx(Lw,{}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Cc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),u.jsx(ht,{placeholder:" ...",value:h,onChange:M=>p(M.target.value),className:"pr-10 bg-slate-800 border-slate-700 text-slate-100"})]}),u.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0 mt-1 sm:mt-0",children:[u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-md p-1 flex shrink-0",children:[u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ce("grid"),className:`px-3 ${q==="grid"?"bg-slate-700":""}`,title:" ",children:u.jsx(kk,{className:"h-4 w-4"})}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ce("list"),className:`px-3 ${q==="list"?"bg-slate-700":""}`,title:" ",children:u.jsx(jk,{className:"h-4 w-4"})}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>ce("table"),className:`px-3 ${q==="table"?"bg-slate-700":""}`,title:" ",children:u.jsx(Ik,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-md p-1 flex shrink-0",children:[u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>V("none"),className:`px-3 ${K==="none"?"bg-slate-700":""}`,title:" ",children:u.jsx(zo,{className:"h-4 w-4"})}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>V("category"),className:`px-3 ${K==="category"?"bg-slate-700":""}`,title:"  ",children:u.jsx(Ek,{className:"h-4 w-4"})}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>V("month"),className:`px-3 ${K==="month"?"bg-slate-700":""}`,title:"  ",children:u.jsx(_c,{className:"h-4 w-4"})})]})]})]}),u.jsx("div",{className:"bg-slate-800/50 rounded-lg p-2 overflow-x-auto",children:u.jsx(Ic,{value:v,onValueChange:y,className:"w-full",children:u.jsx(wa,{className:"w-full bg-slate-800 border border-slate-700 p-1 h-auto flex-wrap",children:w.map(M=>u.jsx(_r,{value:M,className:"px-3 py-1.5 data-[state=active]:bg-slate-700",children:M==="all"?"":M},M))})})})]}),r?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsx(en,{className:"h-12 w-12 text-emerald-500 animate-spin mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:" ..."})]}):lt.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsx(zo,{className:"h-12 w-12 text-slate-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:" "}),u.jsx("p",{className:"text-slate-400 text-center mb-4",children:h||v!=="all"?"    ":"   "}),u.jsxs(ye,{onClick:()=>d(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:[u.jsx($r,{className:"h-4 w-4 ml-2"}),"  "]})]}):u.jsx(u.Fragment,{children:Object.entries(mt(lt)).map(([M,H])=>u.jsxs("div",{className:"space-y-4 mb-8",children:[M&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-lg font-medium text-slate-200",children:M}),u.jsx(Ft,{variant:"secondary",className:"bg-slate-700",children:H.length})]}),q==="grid"&&u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2 sm:gap-3",children:H.map(G=>u.jsxs("div",{className:"group relative bg-slate-800/50 rounded-lg border border-slate-700 p-2 sm:p-3 hover:bg-slate-800 transition-all hover:shadow-lg hover:border-slate-600",children:[u.jsx("div",{className:"text-sm font-medium text-slate-100 mb-1 sm:mb-2 truncate",title:G.name,children:G.name}),u.jsx("div",{className:"mb-1 sm:mb-2",children:u.jsx(Ft,{variant:"secondary",className:"text-xs bg-slate-700 hover:bg-slate-600 text-slate-100 truncate max-w-full",title:G.category,children:G.category})}),u.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 opacity-0 group-hover:opacity-100 sm:transition-opacity flex items-center justify-center gap-2 rounded-lg",children:[u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Te(G.id),className:"h-8 w-8 p-0 hover:bg-slate-700",children:u.jsx(Xi,{className:"h-4 w-4 text-slate-100"})}),u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Be(G.id),className:"h-8 w-8 p-0 hover:bg-red-500/10 hover:text-red-500",children:u.jsx(Is,{className:"h-4 w-4 text-slate-100 hover:text-red-400"})})]}),u.jsxs("div",{className:"absolute top-1 left-1 sm:hidden flex gap-1",children:[u.jsx(ye,{size:"sm",variant:"ghost",onClick:he=>{he.stopPropagation(),Te(G.id)},className:"h-6 w-6 p-0 bg-slate-700/70",children:u.jsx(Xi,{className:"h-3 w-3 text-slate-100"})}),u.jsx(ye,{size:"sm",variant:"ghost",onClick:he=>{he.stopPropagation(),Be(G.id)},className:"h-6 w-6 p-0 bg-slate-700/70",children:u.jsx(Is,{className:"h-3 w-3 text-slate-100"})})]})]},G.id))}),q==="list"&&u.jsx("div",{className:"space-y-2",children:H.map(G=>u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-slate-800/50 rounded-lg border border-slate-700 p-3 sm:p-4 hover:bg-slate-800 transition-all hover:shadow-lg hover:border-slate-600",children:[u.jsx("div",{className:"flex items-start gap-2 flex-1",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-slate-100",children:G.name}),u.jsx(Ft,{variant:"secondary",className:"mt-1 text-xs bg-slate-700 hover:bg-slate-600 text-slate-100",children:G.category})]})}),u.jsxs("div",{className:"flex items-center gap-2 mt-3 sm:mt-0 self-end sm:self-auto",children:[u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Te(G.id),className:"hover:bg-slate-700",children:u.jsx(Xi,{className:"h-4 w-4 text-slate-100"})}),u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Be(G.id),className:"hover:bg-red-500/10",children:u.jsx(Is,{className:"h-4 w-4 text-slate-100 hover:text-red-400"})})]})]},G.id))}),q==="table"&&u.jsx("div",{className:"rounded-lg border border-slate-700 overflow-x-auto",children:u.jsx("div",{className:"min-w-[600px]",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-800",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-right text-slate-400 text-sm font-medium py-3 px-4",children:" "}),u.jsx("th",{className:"text-right text-slate-400 text-sm font-medium py-3 px-4",children:""}),u.jsx("th",{className:"text-right text-slate-400 text-sm font-medium py-3 px-4",children:" "}),u.jsx("th",{className:"text-right text-slate-400 text-sm font-medium py-3 px-4",children:""})]})}),u.jsx("tbody",{children:H.map((G,he)=>u.jsxs("tr",{className:`border-t border-slate-700 hover:bg-slate-800/50 ${he%2===0?"bg-slate-900/30":"bg-slate-900/50"}`,children:[u.jsx("td",{className:"py-3 px-4 text-slate-100",children:G.name}),u.jsx("td",{className:"py-3 px-4",children:u.jsx(Ft,{variant:"secondary",className:"text-xs bg-slate-700 hover:bg-slate-600 text-slate-100",children:G.category})}),u.jsx("td",{className:"py-3 px-4 text-slate-400",children:new Date(G.createdAt).toLocaleDateString("he-IL")}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Te(G.id),className:"hover:bg-slate-700",children:u.jsx(Xi,{className:"h-4 w-4 text-slate-100"})}),u.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>Be(G.id),className:"hover:bg-red-500/10",children:u.jsx(Is,{className:"h-4 w-4 text-slate-100 hover:text-red-400"})})]})})]},G.id))})]})})})]},M))})]}),u.jsx(Bh,{isOpen:ue,onClose:()=>Q(!1),listId:"products"})]})};function zR(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>o=>{t.forEach(i=>i(o))},t)}const Wc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function si(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Gh(e){return"nodeType"in e}function nr(e){var t,r;return e?si(e)?e:Gh(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Jh(e){const{Document:t}=nr(e);return e instanceof t}function ka(e){return si(e)?!1:e instanceof nr(e).HTMLElement}function nb(e){return e instanceof nr(e).SVGElement}function oi(e){return e?si(e)?e.document:Gh(e)?Jh(e)?e:ka(e)||nb(e)?e.ownerDocument:document:document:document}const sn=Wc?m.useLayoutEffect:m.useEffect;function Yh(e){const t=m.useRef(e);return sn(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.current==null?void 0:t.current(...o)},[])}function UR(){const e=m.useRef(null),t=m.useCallback((o,i)=>{e.current=setInterval(o,i)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function ha(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return sn(()=>{r.current!==e&&(r.current=e)},t),r}function ja(e,t){const r=m.useRef();return m.useMemo(()=>{const o=e(r.current);return r.current=o,o},[...t])}function gc(e){const t=Yh(e),r=m.useRef(null),o=m.useCallback(i=>{i!==r.current&&(t==null||t(i,r.current)),r.current=i},[]);return[r,o]}function qf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let af={};function Na(e,t){return m.useMemo(()=>{if(t)return t;const r=af[e]==null?0:af[e]+1;return af[e]=r,e+"-"+r},[e,t])}function sb(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((a,c)=>{const d=Object.entries(c);for(const[h,p]of d){const v=a[h];v!=null&&(a[h]=v+e*p)}return a},{...t})}}const Mo=sb(1),pa=sb(-1);function BR(e){return"clientX"in e&&"clientY"in e}function Qh(e){if(!e)return!1;const{KeyboardEvent:t}=nr(e.target);return t&&e instanceof t}function VR(e){if(!e)return!1;const{TouchEvent:t}=nr(e.target);return t&&e instanceof t}function Kf(e){if(VR(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return BR(e)?{x:e.clientX,y:e.clientY}:null}const ma=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ma.Translate.toString(e),ma.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:o}=e;return t+" "+r+"ms "+o}}}),uy="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function WR(e){return e.matches(uy)?e:e.querySelector(uy)}const HR={display:"none"};function qR(e){let{id:t,value:r}=e;return Ye.createElement("div",{id:t,style:HR},r)}function KR(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:t,style:i,role:"status","aria-live":o,"aria-atomic":!0},r)}function GR(){const[e,t]=m.useState("");return{announce:m.useCallback(o=>{o!=null&&t(o)},[]),announcement:e}}const ob=m.createContext(null);function JR(e){const t=m.useContext(ob);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function YR(){const[e]=m.useState(()=>new Set),t=m.useCallback(o=>(e.add(o),()=>e.delete(o)),[e]);return[m.useCallback(o=>{let{type:i,event:a}=o;e.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,a)})},[e]),t]}const QR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},XR={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ZR(e){let{announcements:t=XR,container:r,hiddenTextDescribedById:o,screenReaderInstructions:i=QR}=e;const{announce:a,announcement:c}=GR(),d=Na("DndLiveRegion"),[h,p]=m.useState(!1);if(m.useEffect(()=>{p(!0)},[]),JR(m.useMemo(()=>({onDragStart(y){let{active:w}=y;a(t.onDragStart({active:w}))},onDragMove(y){let{active:w,over:S}=y;t.onDragMove&&a(t.onDragMove({active:w,over:S}))},onDragOver(y){let{active:w,over:S}=y;a(t.onDragOver({active:w,over:S}))},onDragEnd(y){let{active:w,over:S}=y;a(t.onDragEnd({active:w,over:S}))},onDragCancel(y){let{active:w,over:S}=y;a(t.onDragCancel({active:w,over:S}))}}),[a,t])),!h)return null;const v=Ye.createElement(Ye.Fragment,null,Ye.createElement(qR,{id:o,value:i.draggable}),Ye.createElement(KR,{id:d,announcement:c}));return r?zr.createPortal(v,r):v}var xt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(xt||(xt={}));function vc(){}function dy(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function e2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(o=>o!=null),[...t])}const Vr=Object.freeze({x:0,y:0});function ib(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ab(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return r-o}function t2(e,t){let{data:{value:r}}=e,{data:{value:o}}=t;return o-r}function fy(e){let{left:t,top:r,height:o,width:i}=e;return[{x:t,y:r},{x:t+i,y:r},{x:t,y:r+o},{x:t+i,y:r+o}]}function lb(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function hy(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const r2=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const i=hy(t,t.left,t.top),a=[];for(const c of o){const{id:d}=c,h=r.get(d);if(h){const p=ib(hy(h),i);a.push({id:d,data:{droppableContainer:c,value:p}})}}return a.sort(ab)},n2=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const i=fy(t),a=[];for(const c of o){const{id:d}=c,h=r.get(d);if(h){const p=fy(h),v=i.reduce((w,S,E)=>w+ib(p[E],S),0),y=Number((v/4).toFixed(4));a.push({id:d,data:{droppableContainer:c,value:y}})}}return a.sort(ab)};function s2(e,t){const r=Math.max(t.top,e.top),o=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),c=i-o,d=a-r;if(o<i&&r<a){const h=t.width*t.height,p=e.width*e.height,v=c*d,y=v/(h+p-v);return Number(y.toFixed(4))}return 0}const o2=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:o}=e;const i=[];for(const a of o){const{id:c}=a,d=r.get(c);if(d){const h=s2(d,t);h>0&&i.push({id:c,data:{droppableContainer:a,value:h}})}}return i.sort(t2)};function i2(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function cb(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Vr}function a2(e){return function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return i.reduce((c,d)=>({...c,top:c.top+e*d.y,bottom:c.bottom+e*d.y,left:c.left+e*d.x,right:c.right+e*d.x}),{...r})}}const l2=a2(1);function c2(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function u2(e,t,r){const o=c2(t);if(!o)return e;const{scaleX:i,scaleY:a,x:c,y:d}=o,h=e.left-c-(1-i)*parseFloat(r),p=e.top-d-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),v=i?e.width/i:e.width,y=a?e.height/a:e.height;return{width:v,height:y,top:p,right:h+v,bottom:p+y,left:h}}const d2={ignoreTransform:!1};function ii(e,t){t===void 0&&(t=d2);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:v}=nr(e).getComputedStyle(e);p&&(r=u2(r,p,v))}const{top:o,left:i,width:a,height:c,bottom:d,right:h}=r;return{top:o,left:i,width:a,height:c,bottom:d,right:h}}function py(e){return ii(e,{ignoreTransform:!0})}function f2(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function h2(e,t){return t===void 0&&(t=nr(e).getComputedStyle(e)),t.position==="fixed"}function p2(e,t){t===void 0&&(t=nr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function Hc(e,t){const r=[];function o(i){if(t!=null&&r.length>=t||!i)return r;if(Jh(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!ka(i)||nb(i)||r.includes(i))return r;const a=nr(e).getComputedStyle(i);return i!==e&&p2(i,a)&&r.push(i),h2(i,a)?r:o(i.parentNode)}return e?o(e):r}function ub(e){const[t]=Hc(e,1);return t??null}function lf(e){return!Wc||!e?null:si(e)?e:Gh(e)?Jh(e)||e===oi(e).scrollingElement?window:ka(e)?e:null:null}function db(e){return si(e)?e.scrollX:e.scrollLeft}function fb(e){return si(e)?e.scrollY:e.scrollTop}function Gf(e){return{x:db(e),y:fb(e)}}var Et;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Et||(Et={}));function hb(e){return!Wc||!e?!1:e===document.scrollingElement}function pb(e){const t={x:0,y:0},r=hb(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},o={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,c=e.scrollTop>=o.y,d=e.scrollLeft>=o.x;return{isTop:i,isLeft:a,isBottom:c,isRight:d,maxScroll:o,minScroll:t}}const m2={x:.2,y:.2};function g2(e,t,r,o,i){let{top:a,left:c,right:d,bottom:h}=r;o===void 0&&(o=10),i===void 0&&(i=m2);const{isTop:p,isBottom:v,isLeft:y,isRight:w}=pb(e),S={x:0,y:0},E={x:0,y:0},b={height:t.height*i.y,width:t.width*i.x};return!p&&a<=t.top+b.height?(S.y=Et.Backward,E.y=o*Math.abs((t.top+b.height-a)/b.height)):!v&&h>=t.bottom-b.height&&(S.y=Et.Forward,E.y=o*Math.abs((t.bottom-b.height-h)/b.height)),!w&&d>=t.right-b.width?(S.x=Et.Forward,E.x=o*Math.abs((t.right-b.width-d)/b.width)):!y&&c<=t.left+b.width&&(S.x=Et.Backward,E.x=o*Math.abs((t.left+b.width-c)/b.width)),{direction:S,speed:E}}function v2(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:c}=window;return{top:0,left:0,right:a,bottom:c,width:a,height:c}}const{top:t,left:r,right:o,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:o,bottom:i,width:e.clientWidth,height:e.clientHeight}}function mb(e){return e.reduce((t,r)=>Mo(t,Gf(r)),Vr)}function y2(e){return e.reduce((t,r)=>t+db(r),0)}function x2(e){return e.reduce((t,r)=>t+fb(r),0)}function w2(e,t){if(t===void 0&&(t=ii),!e)return;const{top:r,left:o,bottom:i,right:a}=t(e);ub(e)&&(i<=0||a<=0||r>=window.innerHeight||o>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const b2=[["x",["left","right"],y2],["y",["top","bottom"],x2]];class Xh{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const o=Hc(r),i=mb(o);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,c,d]of b2)for(const h of c)Object.defineProperty(this,h,{get:()=>{const p=d(o),v=i[a]-p;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class na{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var o;return(o=this.target)==null?void 0:o.removeEventListener(...r)})},this.target=t}add(t,r,o){var i;(i=this.target)==null||i.addEventListener(t,r,o),this.listeners.push([t,r,o])}}function S2(e){const{EventTarget:t}=nr(e);return e instanceof t?e:oi(e)}function cf(e,t){const r=Math.abs(e.x),o=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+o**2)>t:"x"in t&&"y"in t?r>t.x&&o>t.y:"x"in t?r>t.x:"y"in t?o>t.y:!1}var Sr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Sr||(Sr={}));function my(e){e.preventDefault()}function _2(e){e.stopPropagation()}var $e;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})($e||($e={}));const gb={start:[$e.Space,$e.Enter],cancel:[$e.Esc],end:[$e.Space,$e.Enter,$e.Tab]},C2=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case $e.Right:return{...r,x:r.x+25};case $e.Left:return{...r,x:r.x-25};case $e.Down:return{...r,y:r.y+25};case $e.Up:return{...r,y:r.y-25}}};class Zh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new na(oi(r)),this.windowListeners=new na(nr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,o=t.node.current;o&&w2(o),r(Vr)}handleKeyDown(t){if(Qh(t)){const{active:r,context:o,options:i}=this.props,{keyboardCodes:a=gb,coordinateGetter:c=C2,scrollBehavior:d="smooth"}=i,{code:h}=t;if(a.end.includes(h)){this.handleEnd(t);return}if(a.cancel.includes(h)){this.handleCancel(t);return}const{collisionRect:p}=o.current,v=p?{x:p.left,y:p.top}:Vr;this.referenceCoordinates||(this.referenceCoordinates=v);const y=c(t,{active:r,context:o.current,currentCoordinates:v});if(y){const w=pa(y,v),S={x:0,y:0},{scrollableAncestors:E}=o.current;for(const b of E){const C=t.code,{isTop:k,isRight:j,isLeft:N,isBottom:A,maxScroll:D,minScroll:U}=pb(b),$=v2(b),q={x:Math.min(C===$e.Right?$.right-$.width/2:$.right,Math.max(C===$e.Right?$.left:$.left+$.width/2,y.x)),y:Math.min(C===$e.Down?$.bottom-$.height/2:$.bottom,Math.max(C===$e.Down?$.top:$.top+$.height/2,y.y))},ce=C===$e.Right&&!j||C===$e.Left&&!N,K=C===$e.Down&&!A||C===$e.Up&&!k;if(ce&&q.x!==y.x){const V=b.scrollLeft+w.x,J=C===$e.Right&&V<=D.x||C===$e.Left&&V>=U.x;if(J&&!w.y){b.scrollTo({left:V,behavior:d});return}J?S.x=b.scrollLeft-V:S.x=C===$e.Right?b.scrollLeft-D.x:b.scrollLeft-U.x,S.x&&b.scrollBy({left:-S.x,behavior:d});break}else if(K&&q.y!==y.y){const V=b.scrollTop+w.y,J=C===$e.Down&&V<=D.y||C===$e.Up&&V>=U.y;if(J&&!w.x){b.scrollTo({top:V,behavior:d});return}J?S.y=b.scrollTop-V:S.y=C===$e.Down?b.scrollTop-D.y:b.scrollTop-U.y,S.y&&b.scrollBy({top:-S.y,behavior:d});break}}this.handleMove(t,Mo(pa(y,this.referenceCoordinates),S))}}}handleMove(t,r){const{onMove:o}=this.props;t.preventDefault(),o(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zh.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:o=gb,onActivation:i}=t,{active:a}=r;const{code:c}=e.nativeEvent;if(o.start.includes(c)){const d=a.activatorNode.current;return d&&e.target!==d?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function gy(e){return!!(e&&"distance"in e)}function vy(e){return!!(e&&"delay"in e)}class ep{constructor(t,r,o){var i;o===void 0&&(o=S2(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:c}=a;this.props=t,this.events=r,this.document=oi(c),this.documentListeners=new na(this.document),this.listeners=new na(o),this.windowListeners=new na(nr(c)),this.initialCoordinates=(i=Kf(a))!=null?i:Vr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:o}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Sr.Resize,this.handleCancel),this.windowListeners.add(Sr.DragStart,my),this.windowListeners.add(Sr.VisibilityChange,this.handleCancel),this.windowListeners.add(Sr.ContextMenu,my),this.documentListeners.add(Sr.Keydown,this.handleKeydown),r){if(o!=null&&o({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vy(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(gy(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:o,onPending:i}=this.props;i(o,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Sr.Click,_2,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:o,initialCoordinates:i,props:a}=this,{onMove:c,options:{activationConstraint:d}}=a;if(!i)return;const h=(r=Kf(t))!=null?r:Vr,p=pa(i,h);if(!o&&d){if(gy(d)){if(d.tolerance!=null&&cf(p,d.tolerance))return this.handleCancel();if(cf(p,d.distance))return this.handleStart()}if(vy(d)&&cf(p,d.tolerance))return this.handleCancel();this.handlePending(d,p);return}t.cancelable&&t.preventDefault(),c(h)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===$e.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const E2={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class tp extends ep{constructor(t){const{event:r}=t,o=oi(r.target);super(t,E2,o)}}tp.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return!r.isPrimary||r.button!==0?!1:(o==null||o({event:r}),!0)}}];const k2={move:{name:"mousemove"},end:{name:"mouseup"}};var Jf;(function(e){e[e.RightClick=2]="RightClick"})(Jf||(Jf={}));class j2 extends ep{constructor(t){super(t,k2,oi(t.event.target))}}j2.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;return r.button===Jf.RightClick?!1:(o==null||o({event:r}),!0)}}];const uf={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class N2 extends ep{constructor(t){super(t,uf)}static setup(){return window.addEventListener(uf.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(uf.move.name,t)};function t(){}}}N2.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:o}=t;const{touches:i}=r;return i.length>1?!1:(o==null||o({event:r}),!0)}}];var sa;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(sa||(sa={}));var yc;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(yc||(yc={}));function T2(e){let{acceleration:t,activator:r=sa.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:c=5,order:d=yc.TreeOrder,pointerCoordinates:h,scrollableAncestors:p,scrollableAncestorRects:v,delta:y,threshold:w}=e;const S=R2({delta:y,disabled:!a}),[E,b]=UR(),C=m.useRef({x:0,y:0}),k=m.useRef({x:0,y:0}),j=m.useMemo(()=>{switch(r){case sa.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case sa.DraggableRect:return i}},[r,i,h]),N=m.useRef(null),A=m.useCallback(()=>{const U=N.current;if(!U)return;const $=C.current.x*k.current.x,q=C.current.y*k.current.y;U.scrollBy($,q)},[]),D=m.useMemo(()=>d===yc.TreeOrder?[...p].reverse():p,[d,p]);m.useEffect(()=>{if(!a||!p.length||!j){b();return}for(const U of D){if((o==null?void 0:o(U))===!1)continue;const $=p.indexOf(U),q=v[$];if(!q)continue;const{direction:ce,speed:K}=g2(U,q,j,t,w);for(const V of["x","y"])S[V][ce[V]]||(K[V]=0,ce[V]=0);if(K.x>0||K.y>0){b(),N.current=U,E(A,c),C.current=K,k.current=ce;return}}C.current={x:0,y:0},k.current={x:0,y:0},b()},[t,A,o,b,a,c,JSON.stringify(j),JSON.stringify(S),E,p,D,v,JSON.stringify(w)])}const P2={x:{[Et.Backward]:!1,[Et.Forward]:!1},y:{[Et.Backward]:!1,[Et.Forward]:!1}};function R2(e){let{delta:t,disabled:r}=e;const o=qf(t);return ja(i=>{if(r||!o||!i)return P2;const a={x:Math.sign(t.x-o.x),y:Math.sign(t.y-o.y)};return{x:{[Et.Backward]:i.x[Et.Backward]||a.x===-1,[Et.Forward]:i.x[Et.Forward]||a.x===1},y:{[Et.Backward]:i.y[Et.Backward]||a.y===-1,[Et.Forward]:i.y[Et.Forward]||a.y===1}}},[r,t,o])}function I2(e,t){const r=t!=null?e.get(t):void 0,o=r?r.node.current:null;return ja(i=>{var a;return t==null?null:(a=o??i)!=null?a:null},[o,t])}function A2(e,t){return m.useMemo(()=>e.reduce((r,o)=>{const{sensor:i}=o,a=i.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,o)}));return[...r,...a]},[]),[e,t])}var ga;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ga||(ga={}));var Yf;(function(e){e.Optimized="optimized"})(Yf||(Yf={}));const yy=new Map;function O2(e,t){let{dragging:r,dependencies:o,config:i}=t;const[a,c]=m.useState(null),{frequency:d,measure:h,strategy:p}=i,v=m.useRef(e),y=C(),w=ha(y),S=m.useCallback(function(k){k===void 0&&(k=[]),!w.current&&c(j=>j===null?k:j.concat(k.filter(N=>!j.includes(N))))},[w]),E=m.useRef(null),b=ja(k=>{if(y&&!r)return yy;if(!k||k===yy||v.current!==e||a!=null){const j=new Map;for(let N of e){if(!N)continue;if(a&&a.length>0&&!a.includes(N.id)&&N.rect.current){j.set(N.id,N.rect.current);continue}const A=N.node.current,D=A?new Xh(h(A),A):null;N.rect.current=D,D&&j.set(N.id,D)}return j}return k},[e,a,r,y,h]);return m.useEffect(()=>{v.current=e},[e]),m.useEffect(()=>{y||S()},[r,y]),m.useEffect(()=>{a&&a.length>0&&c(null)},[JSON.stringify(a)]),m.useEffect(()=>{y||typeof d!="number"||E.current!==null||(E.current=setTimeout(()=>{S(),E.current=null},d))},[d,y,S,...o]),{droppableRects:b,measureDroppableContainers:S,measuringScheduled:a!=null};function C(){switch(p){case ga.Always:return!1;case ga.BeforeDragging:return r;default:return!r}}}function vb(e,t){return ja(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function D2(e,t){return vb(e,t)}function L2(e){let{callback:t,disabled:r}=e;const o=Yh(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(o)},[o,r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function qc(e){let{callback:t,disabled:r}=e;const o=Yh(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(o)},[r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function M2(e){return new Xh(ii(e),e)}function xy(e,t,r){t===void 0&&(t=M2);const[o,i]=m.useState(null);function a(){i(h=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=h??r)!=null?p:null}const v=t(e);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=L2({callback(h){if(e)for(const p of h){const{type:v,target:y}=p;if(v==="childList"&&y instanceof HTMLElement&&y.contains(e)){a();break}}}}),d=qc({callback:a});return sn(()=>{a(),e?(d==null||d.observe(e),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),c==null||c.disconnect())},[e]),o}function $2(e){const t=vb(e);return cb(e,t)}const wy=[];function F2(e){const t=m.useRef(e),r=ja(o=>e?o&&o!==wy&&e&&t.current&&e.parentNode===t.current.parentNode?o:Hc(e):wy,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function z2(e){const[t,r]=m.useState(null),o=m.useRef(e),i=m.useCallback(a=>{const c=lf(a.target);c&&r(d=>d?(d.set(c,Gf(c)),new Map(d)):null)},[]);return m.useEffect(()=>{const a=o.current;if(e!==a){c(a);const d=e.map(h=>{const p=lf(h);return p?(p.addEventListener("scroll",i,{passive:!0}),[p,Gf(p)]):null}).filter(h=>h!=null);r(d.length?new Map(d):null),o.current=e}return()=>{c(e),c(a)};function c(d){d.forEach(h=>{const p=lf(h);p==null||p.removeEventListener("scroll",i)})}},[i,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,c)=>Mo(a,c),Vr):mb(e):Vr,[e,t])}function by(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const o=e!==Vr;o&&!r.current&&(r.current=e),!o&&r.current&&(r.current=null)},[e]),r.current?pa(e,r.current):Vr}function U2(e){m.useEffect(()=>{if(!Wc)return;const t=e.map(r=>{let{sensor:o}=r;return o.setup==null?void 0:o.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function B2(e,t){return m.useMemo(()=>e.reduce((r,o)=>{let{eventName:i,handler:a}=o;return r[i]=c=>{a(c,t)},r},{}),[e,t])}function yb(e){return m.useMemo(()=>e?f2(e):null,[e])}const Sy=[];function V2(e,t){t===void 0&&(t=ii);const[r]=e,o=yb(r?nr(r):null),[i,a]=m.useState(Sy);function c(){a(()=>e.length?e.map(h=>hb(h)?o:new Xh(t(h),h)):Sy)}const d=qc({callback:c});return sn(()=>{d==null||d.disconnect(),c(),e.forEach(h=>d==null?void 0:d.observe(h))},[e]),i}function W2(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ka(t)?t:e}function H2(e){let{measure:t}=e;const[r,o]=m.useState(null),i=m.useCallback(p=>{for(const{target:v}of p)if(ka(v)){o(y=>{const w=t(v);return y?{...y,width:w.width,height:w.height}:w});break}},[t]),a=qc({callback:i}),c=m.useCallback(p=>{const v=W2(p);a==null||a.disconnect(),v&&(a==null||a.observe(v)),o(v?t(v):null)},[t,a]),[d,h]=gc(c);return m.useMemo(()=>({nodeRef:d,rect:r,setRef:h}),[r,d,h])}const q2=[{sensor:tp,options:{}},{sensor:Zh,options:{}}],K2={current:{}},sc={draggable:{measure:py},droppable:{measure:py,strategy:ga.WhileDragging,frequency:Yf.Optimized},dragOverlay:{measure:ii}};class oa extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,o;return(r=(o=this.get(t))==null?void 0:o.node.current)!=null?r:void 0}}const G2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oa,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:vc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:sc,measureDroppableContainers:vc,windowRect:null,measuringScheduled:!1},J2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:vc,draggableNodes:new Map,over:null,measureDroppableContainers:vc},Kc=m.createContext(J2),xb=m.createContext(G2);function Y2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oa}}}function Q2(e,t){switch(t.type){case xt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case xt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case xt.DragEnd:case xt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xt.RegisterDroppable:{const{element:r}=t,{id:o}=r,i=new oa(e.droppable.containers);return i.set(o,r),{...e,droppable:{...e.droppable,containers:i}}}case xt.SetDroppableDisabled:{const{id:r,key:o,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||o!==a.key)return e;const c=new oa(e.droppable.containers);return c.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:c}}}case xt.UnregisterDroppable:{const{id:r,key:o}=t,i=e.droppable.containers.get(r);if(!i||o!==i.key)return e;const a=new oa(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function X2(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:i}=m.useContext(Kc),a=qf(o),c=qf(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!o&&a&&c!=null){if(!Qh(a)||document.activeElement===a.target)return;const d=i.get(c);if(!d)return;const{activatorNode:h,node:p}=d;if(!h.current&&!p.current)return;requestAnimationFrame(()=>{for(const v of[h.current,p.current]){if(!v)continue;const y=WR(v);if(y){y.focus();break}}})}},[o,t,i,c,a]),null}function Z2(e,t){let{transform:r,...o}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...o}),r):r}function eI(e){return m.useMemo(()=>({draggable:{...sc.draggable,...e==null?void 0:e.draggable},droppable:{...sc.droppable,...e==null?void 0:e.droppable},dragOverlay:{...sc.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function tI(e){let{activeNode:t,measure:r,initialRect:o,config:i=!0}=e;const a=m.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;sn(()=>{if(!c&&!d||!t){a.current=!1;return}if(a.current||!o)return;const p=t==null?void 0:t.node.current;if(!p||p.isConnected===!1)return;const v=r(p),y=cb(v,o);if(c||(y.x=0),d||(y.y=0),a.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=ub(p);w&&w.scrollBy({top:y.y,left:y.x})}},[t,c,d,o,r])}const wb=m.createContext({...Vr,scaleX:1,scaleY:1});var rs;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(rs||(rs={}));const rI=m.memo(function(t){var r,o,i,a;let{id:c,accessibility:d,autoScroll:h=!0,children:p,sensors:v=q2,collisionDetection:y=o2,measuring:w,modifiers:S,...E}=t;const b=m.useReducer(Q2,void 0,Y2),[C,k]=b,[j,N]=YR(),[A,D]=m.useState(rs.Uninitialized),U=A===rs.Initialized,{draggable:{active:$,nodes:q,translate:ce},droppable:{containers:K}}=C,V=$!=null?q.get($):null,J=m.useRef({initial:null,translated:null}),oe=m.useMemo(()=>{var rt;return $!=null?{id:$,data:(rt=V==null?void 0:V.data)!=null?rt:K2,rect:J}:null},[$,V]),W=m.useRef(null),[ge,ie]=m.useState(null),[ae,B]=m.useState(null),ee=ha(E,Object.values(E)),ne=Na("DndDescribedBy",c),I=m.useMemo(()=>K.getEnabled(),[K]),P=eI(w),{droppableRects:Y,measureDroppableContainers:re,measuringScheduled:Z}=O2(I,{dragging:U,dependencies:[ce.x,ce.y],config:P.droppable}),ue=I2(q,$),Q=m.useMemo(()=>ae?Kf(ae):null,[ae]),de=Tn(),me=D2(ue,P.draggable.measure);tI({activeNode:$!=null?q.get($):null,config:de.layoutShiftCompensation,initialRect:me,measure:P.draggable.measure});const pe=xy(ue,P.draggable.measure,me),Ae=xy(ue?ue.parentElement:null),Te=m.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:q,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),He=K.getNodeFor((r=Te.current.over)==null?void 0:r.id),Be=H2({measure:P.dragOverlay.measure}),mt=(o=Be.nodeRef.current)!=null?o:ue,lt=U?(i=Be.rect)!=null?i:pe:null,jt=!!(Be.nodeRef.current&&Be.rect),fe=$2(jt?null:pe),M=yb(mt?nr(mt):null),H=F2(U?He??ue:null),G=V2(H),he=Z2(S,{transform:{x:ce.x-fe.x,y:ce.y-fe.y,scaleX:1,scaleY:1},activatorEvent:ae,active:oe,activeNodeRect:pe,containerNodeRect:Ae,draggingNodeRect:lt,over:Te.current.over,overlayNodeRect:Be.rect,scrollableAncestors:H,scrollableAncestorRects:G,windowRect:M}),Ee=Q?Mo(Q,ce):null,Fe=z2(H),tt=by(Fe),ln=by(Fe,[pe]),We=Mo(he,tt),ct=lt?l2(lt,he):null,qt=oe&&ct?y({active:oe,collisionRect:ct,droppableRects:Y,droppableContainers:I,pointerCoordinates:Ee}):null,hr=lb(qt,"id"),[Kt,Pa]=m.useState(null),Ra=jt?he:Mo(he,ln),Ia=i2(Ra,(a=Kt==null?void 0:Kt.rect)!=null?a:null,pe),ai=m.useRef(null),qs=m.useCallback((rt,Rt)=>{let{sensor:It,options:Er}=Rt;if(W.current==null)return;const zt=q.get(W.current);if(!zt)return;const At=rt.nativeEvent,Gt=new It({active:W.current,activeNode:zt,event:At,options:Er,context:Te,onAbort(nt){if(!q.get(nt))return;const{onDragAbort:Ot}=ee.current,kr={id:nt};Ot==null||Ot(kr),j({type:"onDragAbort",event:kr})},onPending(nt,pr,Ot,kr){if(!q.get(nt))return;const{onDragPending:Hr}=ee.current,or={id:nt,constraint:pr,initialCoordinates:Ot,offset:kr};Hr==null||Hr(or),j({type:"onDragPending",event:or})},onStart(nt){const pr=W.current;if(pr==null)return;const Ot=q.get(pr);if(!Ot)return;const{onDragStart:kr}=ee.current,jr={activatorEvent:At,active:{id:pr,data:Ot.data,rect:J}};zr.unstable_batchedUpdates(()=>{kr==null||kr(jr),D(rs.Initializing),k({type:xt.DragStart,initialCoordinates:nt,active:pr}),j({type:"onDragStart",event:jr}),ie(ai.current),B(At)})},onMove(nt){k({type:xt.DragMove,coordinates:nt})},onEnd:cn(xt.DragEnd),onCancel:cn(xt.DragCancel)});ai.current=Gt;function cn(nt){return async function(){const{active:Ot,collisions:kr,over:jr,scrollAdjustedTranslate:Hr}=Te.current;let or=null;if(Ot&&Hr){const{cancelDrop:un}=ee.current;or={activatorEvent:At,active:Ot,collisions:kr,delta:Hr,over:jr},nt===xt.DragEnd&&typeof un=="function"&&await Promise.resolve(un(or))&&(nt=xt.DragCancel)}W.current=null,zr.unstable_batchedUpdates(()=>{k({type:nt}),D(rs.Uninitialized),Pa(null),ie(null),B(null),ai.current=null;const un=nt===xt.DragEnd?"onDragEnd":"onDragCancel";if(or){const di=ee.current[un];di==null||di(or),j({type:un,event:or})}})}}},[q]),li=m.useCallback((rt,Rt)=>(It,Er)=>{const zt=It.nativeEvent,At=q.get(Er);if(W.current!==null||!At||zt.dndKit||zt.defaultPrevented)return;const Gt={active:At};rt(It,Rt.options,Gt)===!0&&(zt.dndKit={capturedBy:Rt.sensor},W.current=Er,qs(It,Rt))},[q,qs]),Ks=A2(v,li);U2(v),sn(()=>{pe&&A===rs.Initializing&&D(rs.Initialized)},[pe,A]),m.useEffect(()=>{const{onDragMove:rt}=ee.current,{active:Rt,activatorEvent:It,collisions:Er,over:zt}=Te.current;if(!Rt||!It)return;const At={active:Rt,activatorEvent:It,collisions:Er,delta:{x:We.x,y:We.y},over:zt};zr.unstable_batchedUpdates(()=>{rt==null||rt(At),j({type:"onDragMove",event:At})})},[We.x,We.y]),m.useEffect(()=>{const{active:rt,activatorEvent:Rt,collisions:It,droppableContainers:Er,scrollAdjustedTranslate:zt}=Te.current;if(!rt||W.current==null||!Rt||!zt)return;const{onDragOver:At}=ee.current,Gt=Er.get(hr),cn=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,nt={active:rt,activatorEvent:Rt,collisions:It,delta:{x:zt.x,y:zt.y},over:cn};zr.unstable_batchedUpdates(()=>{Pa(cn),At==null||At(nt),j({type:"onDragOver",event:nt})})},[hr]),sn(()=>{Te.current={activatorEvent:ae,active:oe,activeNode:ue,collisionRect:ct,collisions:qt,droppableRects:Y,draggableNodes:q,draggingNode:mt,draggingNodeRect:lt,droppableContainers:K,over:Kt,scrollableAncestors:H,scrollAdjustedTranslate:We},J.current={initial:lt,translated:ct}},[oe,ue,qt,ct,q,mt,lt,Y,K,Kt,H,We]),T2({...de,delta:ce,draggingRect:ct,pointerCoordinates:Ee,scrollableAncestors:H,scrollableAncestorRects:G});const ci=m.useMemo(()=>({active:oe,activeNode:ue,activeNodeRect:pe,activatorEvent:ae,collisions:qt,containerNodeRect:Ae,dragOverlay:Be,draggableNodes:q,droppableContainers:K,droppableRects:Y,over:Kt,measureDroppableContainers:re,scrollableAncestors:H,scrollableAncestorRects:G,measuringConfiguration:P,measuringScheduled:Z,windowRect:M}),[oe,ue,pe,ae,qt,Ae,Be,q,K,Y,Kt,re,H,G,P,Z,M]),ui=m.useMemo(()=>({activatorEvent:ae,activators:Ks,active:oe,activeNodeRect:pe,ariaDescribedById:{draggable:ne},dispatch:k,draggableNodes:q,over:Kt,measureDroppableContainers:re}),[ae,Ks,oe,pe,k,ne,q,Kt,re]);return Ye.createElement(ob.Provider,{value:N},Ye.createElement(Kc.Provider,{value:ui},Ye.createElement(xb.Provider,{value:ci},Ye.createElement(wb.Provider,{value:Ia},p)),Ye.createElement(X2,{disabled:(d==null?void 0:d.restoreFocus)===!1})),Ye.createElement(ZR,{...d,hiddenTextDescribedById:ne}));function Tn(){const rt=(ge==null?void 0:ge.autoScrollEnabled)===!1,Rt=typeof h=="object"?h.enabled===!1:h===!1,It=U&&!rt&&!Rt;return typeof h=="object"?{...h,enabled:It}:{enabled:It}}}),nI=m.createContext(null),_y="button",sI="Draggable";function oI(e){let{id:t,data:r,disabled:o=!1,attributes:i}=e;const a=Na(sI),{activators:c,activatorEvent:d,active:h,activeNodeRect:p,ariaDescribedById:v,draggableNodes:y,over:w}=m.useContext(Kc),{role:S=_y,roleDescription:E="draggable",tabIndex:b=0}=i??{},C=(h==null?void 0:h.id)===t,k=m.useContext(C?wb:nI),[j,N]=gc(),[A,D]=gc(),U=B2(c,t),$=ha(r);sn(()=>(y.set(t,{id:t,key:a,node:j,activatorNode:A,data:$}),()=>{const ce=y.get(t);ce&&ce.key===a&&y.delete(t)}),[y,t]);const q=m.useMemo(()=>({role:S,tabIndex:b,"aria-disabled":o,"aria-pressed":C&&S===_y?!0:void 0,"aria-roledescription":E,"aria-describedby":v.draggable}),[o,S,b,C,E,v.draggable]);return{active:h,activatorEvent:d,activeNodeRect:p,attributes:q,isDragging:C,listeners:o?void 0:U,node:j,over:w,setNodeRef:N,setActivatorNodeRef:D,transform:k}}function iI(){return m.useContext(xb)}const aI="Droppable",lI={timeout:25};function cI(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:i}=e;const a=Na(aI),{active:c,dispatch:d,over:h,measureDroppableContainers:p}=m.useContext(Kc),v=m.useRef({disabled:r}),y=m.useRef(!1),w=m.useRef(null),S=m.useRef(null),{disabled:E,updateMeasurementsFor:b,timeout:C}={...lI,...i},k=ha(b??o),j=m.useCallback(()=>{if(!y.current){y.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{p(Array.isArray(k.current)?k.current:[k.current]),S.current=null},C)},[C]),N=qc({callback:j,disabled:E||!c}),A=m.useCallback((q,ce)=>{N&&(ce&&(N.unobserve(ce),y.current=!1),q&&N.observe(q))},[N]),[D,U]=gc(A),$=ha(t);return m.useEffect(()=>{!N||!D.current||(N.disconnect(),y.current=!1,N.observe(D.current))},[D,N]),m.useEffect(()=>(d({type:xt.RegisterDroppable,element:{id:o,key:a,disabled:r,node:D,rect:w,data:$}}),()=>d({type:xt.UnregisterDroppable,key:a,id:o})),[o]),m.useEffect(()=>{r!==v.current.disabled&&(d({type:xt.SetDroppableDisabled,id:o,key:a,disabled:r}),v.current.disabled=r)},[o,a,r,d]),{active:c,rect:w,isOver:(h==null?void 0:h.id)===o,node:D,over:h,setNodeRef:U}}function rp(e,t,r){const o=e.slice();return o.splice(r<0?o.length+r:r,0,o.splice(t,1)[0]),o}function uI(e,t){return e.reduce((r,o,i)=>{const a=t.get(o);return a&&(r[i]=a),r},Array(e.length))}function Yl(e){return e!==null&&e>=0}function dI(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function fI(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const bb=e=>{let{rects:t,activeIndex:r,overIndex:o,index:i}=e;const a=rp(t,o,r),c=t[i],d=a[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Ql={scaleX:1,scaleY:1},hI=e=>{var t;let{activeIndex:r,activeNodeRect:o,index:i,rects:a,overIndex:c}=e;const d=(t=a[r])!=null?t:o;if(!d)return null;if(i===r){const p=a[c];return p?{x:0,y:r<c?p.top+p.height-(d.top+d.height):p.top-d.top,...Ql}:null}const h=pI(a,i,r);return i>r&&i<=c?{x:0,y:-d.height-h,...Ql}:i<r&&i>=c?{x:0,y:d.height+h,...Ql}:{x:0,y:0,...Ql}};function pI(e,t,r){const o=e[t],i=e[t-1],a=e[t+1];return o?r<t?i?o.top-(i.top+i.height):a?a.top-(o.top+o.height):0:a?a.top-(o.top+o.height):i?o.top-(i.top+i.height):0:0}const Sb="Sortable",_b=Ye.createContext({activeIndex:-1,containerId:Sb,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:bb,disabled:{draggable:!1,droppable:!1}});function mI(e){let{children:t,id:r,items:o,strategy:i=bb,disabled:a=!1}=e;const{active:c,dragOverlay:d,droppableRects:h,over:p,measureDroppableContainers:v}=iI(),y=Na(Sb,r),w=d.rect!==null,S=m.useMemo(()=>o.map(U=>typeof U=="object"&&"id"in U?U.id:U),[o]),E=c!=null,b=c?S.indexOf(c.id):-1,C=p?S.indexOf(p.id):-1,k=m.useRef(S),j=!dI(S,k.current),N=C!==-1&&b===-1||j,A=fI(a);sn(()=>{j&&E&&v(S)},[j,S,E,v]),m.useEffect(()=>{k.current=S},[S]);const D=m.useMemo(()=>({activeIndex:b,containerId:y,disabled:A,disableTransforms:N,items:S,overIndex:C,useDragOverlay:w,sortedRects:uI(S,h),strategy:i}),[b,y,A.draggable,A.droppable,N,S,C,h,w,i]);return Ye.createElement(_b.Provider,{value:D},t)}const gI=e=>{let{id:t,items:r,activeIndex:o,overIndex:i}=e;return rp(r,o,i).indexOf(t)},vI=e=>{let{containerId:t,isSorting:r,wasDragging:o,index:i,items:a,newIndex:c,previousItems:d,previousContainerId:h,transition:p}=e;return!p||!o||d!==a&&i===c?!1:r?!0:c!==i&&t===h},yI={duration:200,easing:"ease"},Cb="transform",xI=ma.Transition.toString({property:Cb,duration:0,easing:"linear"}),wI={roleDescription:"sortable"};function bI(e){let{disabled:t,index:r,node:o,rect:i}=e;const[a,c]=m.useState(null),d=m.useRef(r);return sn(()=>{if(!t&&r!==d.current&&o.current){const h=i.current;if(h){const p=ii(o.current,{ignoreTransform:!0}),v={x:h.left-p.left,y:h.top-p.top,scaleX:h.width/p.width,scaleY:h.height/p.height};(v.x||v.y)&&c(v)}}r!==d.current&&(d.current=r)},[t,r,o,i]),m.useEffect(()=>{a&&c(null)},[a]),a}function SI(e){let{animateLayoutChanges:t=vI,attributes:r,disabled:o,data:i,getNewIndex:a=gI,id:c,strategy:d,resizeObserverConfig:h,transition:p=yI}=e;const{items:v,containerId:y,activeIndex:w,disabled:S,disableTransforms:E,sortedRects:b,overIndex:C,useDragOverlay:k,strategy:j}=m.useContext(_b),N=_I(o,S),A=v.indexOf(c),D=m.useMemo(()=>({sortable:{containerId:y,index:A,items:v},...i}),[y,i,A,v]),U=m.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:$,node:q,isOver:ce,setNodeRef:K}=cI({id:c,data:D,disabled:N.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...h}}),{active:V,activatorEvent:J,activeNodeRect:oe,attributes:W,setNodeRef:ge,listeners:ie,isDragging:ae,over:B,setActivatorNodeRef:ee,transform:ne}=oI({id:c,data:D,attributes:{...wI,...r},disabled:N.draggable}),I=zR(K,ge),P=!!V,Y=P&&!E&&Yl(w)&&Yl(C),re=!k&&ae,Z=re&&Y?ne:null,Q=Y?Z??(d??j)({rects:b,activeNodeRect:oe,activeIndex:w,overIndex:C,index:A}):null,de=Yl(w)&&Yl(C)?a({id:c,items:v,activeIndex:w,overIndex:C}):A,me=V==null?void 0:V.id,pe=m.useRef({activeId:me,items:v,newIndex:de,containerId:y}),Ae=v!==pe.current.items,Te=t({active:V,containerId:y,isDragging:ae,isSorting:P,id:c,index:A,items:v,newIndex:pe.current.newIndex,previousItems:pe.current.items,previousContainerId:pe.current.containerId,transition:p,wasDragging:pe.current.activeId!=null}),He=bI({disabled:!Te,index:A,node:q,rect:$});return m.useEffect(()=>{P&&pe.current.newIndex!==de&&(pe.current.newIndex=de),y!==pe.current.containerId&&(pe.current.containerId=y),v!==pe.current.items&&(pe.current.items=v)},[P,de,y,v]),m.useEffect(()=>{if(me===pe.current.activeId)return;if(me!=null&&pe.current.activeId==null){pe.current.activeId=me;return}const mt=setTimeout(()=>{pe.current.activeId=me},50);return()=>clearTimeout(mt)},[me]),{active:V,activeIndex:w,attributes:W,data:D,rect:$,index:A,newIndex:de,items:v,isOver:ce,isSorting:P,isDragging:ae,listeners:ie,node:q,overIndex:C,over:B,setNodeRef:I,setActivatorNodeRef:ee,setDroppableNodeRef:K,setDraggableNodeRef:ge,transform:He??Q,transition:Be()};function Be(){if(He||Ae&&pe.current.newIndex===A)return xI;if(!(re&&!Qh(J)||!p)&&(P||Te))return ma.Transition.toString({...p,property:Cb})}}function _I(e,t){var r,o;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(o=e==null?void 0:e.droppable)!=null?o:t.droppable}}function xc(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const CI=[$e.Down,$e.Right,$e.Up,$e.Left],EI=(e,t)=>{let{context:{active:r,collisionRect:o,droppableRects:i,droppableContainers:a,over:c,scrollableAncestors:d}}=t;if(CI.includes(e.code)){if(e.preventDefault(),!r||!o)return;const h=[];a.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const w=i.get(y.id);if(w)switch(e.code){case $e.Down:o.top<w.top&&h.push(y);break;case $e.Up:o.top>w.top&&h.push(y);break;case $e.Left:o.left>w.left&&h.push(y);break;case $e.Right:o.left<w.left&&h.push(y);break}});const p=n2({collisionRect:o,droppableRects:i,droppableContainers:h});let v=lb(p,"id");if(v===(c==null?void 0:c.id)&&p.length>1&&(v=p[1].id),v!=null){const y=a.get(r.id),w=a.get(v),S=w?i.get(w.id):null,E=w==null?void 0:w.node.current;if(E&&S&&y&&w){const C=Hc(E).some((U,$)=>d[$]!==U),k=Eb(y,w),j=kI(y,w),N=C||!k?{x:0,y:0}:{x:j?o.width-S.width:0,y:j?o.height-S.height:0},A={x:S.left,y:S.top};return N.x&&N.y?A:pa(A,N)}}}};function Eb(e,t){return!xc(e)||!xc(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function kI(e,t){return!xc(e)||!xc(t)||!Eb(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var Cy=1,jI=.9,NI=.8,TI=.17,df=.1,ff=.999,PI=.9999,RI=.99,II=/[\\\/_+.#"@\[\(\{&]/,AI=/[\\\/_+.#"@\[\(\{&]/g,OI=/[\s-]/,kb=/[\s-]/g;function Qf(e,t,r,o,i,a,c){if(a===t.length)return i===e.length?Cy:RI;var d=`${i},${a}`;if(c[d]!==void 0)return c[d];for(var h=o.charAt(a),p=r.indexOf(h,i),v=0,y,w,S,E;p>=0;)y=Qf(e,t,r,o,p+1,a+1,c),y>v&&(p===i?y*=Cy:II.test(e.charAt(p-1))?(y*=NI,S=e.slice(i,p-1).match(AI),S&&i>0&&(y*=Math.pow(ff,S.length))):OI.test(e.charAt(p-1))?(y*=jI,E=e.slice(i,p-1).match(kb),E&&i>0&&(y*=Math.pow(ff,E.length))):(y*=TI,i>0&&(y*=Math.pow(ff,p-i))),e.charAt(p)!==t.charAt(a)&&(y*=PI)),(y<df&&r.charAt(p-1)===o.charAt(a+1)||o.charAt(a+1)===o.charAt(a)&&r.charAt(p-1)!==o.charAt(a))&&(w=Qf(e,t,r,o,p+1,a+2,c),w*df>y&&(y=w*df)),y>v&&(v=y),p=r.indexOf(h,p+1);return c[d]=v,v}function Ey(e){return e.toLowerCase().replace(kb," ")}function DI(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Qf(e,t,Ey(e),Ey(t),0,0,{})}var Yi='[cmdk-group=""]',hf='[cmdk-group-items=""]',LI='[cmdk-group-heading=""]',jb='[cmdk-item=""]',ky=`${jb}:not([aria-disabled="true"])`,Xf="cmdk-item-select",Po="data-value",MI=(e,t,r)=>DI(e,t,r),Nb=m.createContext(void 0),Ta=()=>m.useContext(Nb),Tb=m.createContext(void 0),np=()=>m.useContext(Tb),Pb=m.createContext(void 0),Rb=m.forwardRef((e,t)=>{let r=Ro(()=>{var P,Y;return{search:"",value:(Y=(P=e.value)!=null?P:e.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=Ro(()=>new Set),i=Ro(()=>new Map),a=Ro(()=>new Map),c=Ro(()=>new Set),d=Ib(e),{label:h,children:p,value:v,onValueChange:y,filter:w,shouldFilter:S,loop:E,disablePointerSelection:b=!1,vimBindings:C=!0,...k}=e,j=Wt(),N=Wt(),A=Wt(),D=m.useRef(null),U=GI();Bs(()=>{if(v!==void 0){let P=v.trim();r.current.value=P,$.emit()}},[v]),Bs(()=>{U(6,oe)},[]);let $=m.useMemo(()=>({subscribe:P=>(c.current.add(P),()=>c.current.delete(P)),snapshot:()=>r.current,setState:(P,Y,re)=>{var Z,ue,Q,de;if(!Object.is(r.current[P],Y)){if(r.current[P]=Y,P==="search")J(),K(),U(1,V);else if(P==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let me=document.getElementById(A);me?me.focus():(Z=document.getElementById(j))==null||Z.focus()}if(U(7,()=>{var me;r.current.selectedItemId=(me=W())==null?void 0:me.id,$.emit()}),re||U(5,oe),((ue=d.current)==null?void 0:ue.value)!==void 0){let me=Y??"";(de=(Q=d.current).onValueChange)==null||de.call(Q,me);return}}$.emit()}},emit:()=>{c.current.forEach(P=>P())}}),[]),q=m.useMemo(()=>({value:(P,Y,re)=>{var Z;Y!==((Z=a.current.get(P))==null?void 0:Z.value)&&(a.current.set(P,{value:Y,keywords:re}),r.current.filtered.items.set(P,ce(Y,re)),U(2,()=>{K(),$.emit()}))},item:(P,Y)=>(o.current.add(P),Y&&(i.current.has(Y)?i.current.get(Y).add(P):i.current.set(Y,new Set([P]))),U(3,()=>{J(),K(),r.current.value||V(),$.emit()}),()=>{a.current.delete(P),o.current.delete(P),r.current.filtered.items.delete(P);let re=W();U(4,()=>{J(),(re==null?void 0:re.getAttribute("id"))===P&&V(),$.emit()})}),group:P=>(i.current.has(P)||i.current.set(P,new Set),()=>{a.current.delete(P),i.current.delete(P)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:j,inputId:A,labelId:N,listInnerRef:D}),[]);function ce(P,Y){var re,Z;let ue=(Z=(re=d.current)==null?void 0:re.filter)!=null?Z:MI;return P?ue(P,r.current.search,Y):0}function K(){if(!r.current.search||d.current.shouldFilter===!1)return;let P=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(Z=>{let ue=i.current.get(Z),Q=0;ue.forEach(de=>{let me=P.get(de);Q=Math.max(me,Q)}),Y.push([Z,Q])});let re=D.current;ge().sort((Z,ue)=>{var Q,de;let me=Z.getAttribute("id"),pe=ue.getAttribute("id");return((Q=P.get(pe))!=null?Q:0)-((de=P.get(me))!=null?de:0)}).forEach(Z=>{let ue=Z.closest(hf);ue?ue.appendChild(Z.parentElement===ue?Z:Z.closest(`${hf} > *`)):re.appendChild(Z.parentElement===re?Z:Z.closest(`${hf} > *`))}),Y.sort((Z,ue)=>ue[1]-Z[1]).forEach(Z=>{var ue;let Q=(ue=D.current)==null?void 0:ue.querySelector(`${Yi}[${Po}="${encodeURIComponent(Z[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function V(){let P=ge().find(re=>re.getAttribute("aria-disabled")!=="true"),Y=P==null?void 0:P.getAttribute(Po);$.setState("value",Y||void 0)}function J(){var P,Y,re,Z;if(!r.current.search||d.current.shouldFilter===!1){r.current.filtered.count=o.current.size;return}r.current.filtered.groups=new Set;let ue=0;for(let Q of o.current){let de=(Y=(P=a.current.get(Q))==null?void 0:P.value)!=null?Y:"",me=(Z=(re=a.current.get(Q))==null?void 0:re.keywords)!=null?Z:[],pe=ce(de,me);r.current.filtered.items.set(Q,pe),pe>0&&ue++}for(let[Q,de]of i.current)for(let me of de)if(r.current.filtered.items.get(me)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=ue}function oe(){var P,Y,re;let Z=W();Z&&(((P=Z.parentElement)==null?void 0:P.firstChild)===Z&&((re=(Y=Z.closest(Yi))==null?void 0:Y.querySelector(LI))==null||re.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function W(){var P;return(P=D.current)==null?void 0:P.querySelector(`${jb}[aria-selected="true"]`)}function ge(){var P;return Array.from(((P=D.current)==null?void 0:P.querySelectorAll(ky))||[])}function ie(P){let Y=ge()[P];Y&&$.setState("value",Y.getAttribute(Po))}function ae(P){var Y;let re=W(),Z=ge(),ue=Z.findIndex(de=>de===re),Q=Z[ue+P];(Y=d.current)!=null&&Y.loop&&(Q=ue+P<0?Z[Z.length-1]:ue+P===Z.length?Z[0]:Z[ue+P]),Q&&$.setState("value",Q.getAttribute(Po))}function B(P){let Y=W(),re=Y==null?void 0:Y.closest(Yi),Z;for(;re&&!Z;)re=P>0?qI(re,Yi):KI(re,Yi),Z=re==null?void 0:re.querySelector(ky);Z?$.setState("value",Z.getAttribute(Po)):ae(P)}let ee=()=>ie(ge().length-1),ne=P=>{P.preventDefault(),P.metaKey?ee():P.altKey?B(1):ae(1)},I=P=>{P.preventDefault(),P.metaKey?ie(0):P.altKey?B(-1):ae(-1)};return m.createElement(Ce.div,{ref:t,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:P=>{var Y;(Y=k.onKeyDown)==null||Y.call(k,P);let re=P.nativeEvent.isComposing||P.keyCode===229;if(!(P.defaultPrevented||re))switch(P.key){case"n":case"j":{C&&P.ctrlKey&&ne(P);break}case"ArrowDown":{ne(P);break}case"p":case"k":{C&&P.ctrlKey&&I(P);break}case"ArrowUp":{I(P);break}case"Home":{P.preventDefault(),ie(0);break}case"End":{P.preventDefault(),ee();break}case"Enter":{P.preventDefault();let Z=W();if(Z){let ue=new Event(Xf);Z.dispatchEvent(ue)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:q.inputId,id:q.labelId,style:YI},h),Gc(e,P=>m.createElement(Tb.Provider,{value:$},m.createElement(Nb.Provider,{value:q},P))))}),$I=m.forwardRef((e,t)=>{var r,o;let i=Wt(),a=m.useRef(null),c=m.useContext(Pb),d=Ta(),h=Ib(e),p=(o=(r=h.current)==null?void 0:r.forceMount)!=null?o:c==null?void 0:c.forceMount;Bs(()=>{if(!p)return d.item(i,c==null?void 0:c.id)},[p]);let v=Ab(i,a,[e.value,e.children,a],e.keywords),y=np(),w=ds(U=>U.value&&U.value===v.current),S=ds(U=>p||d.filter()===!1?!0:U.search?U.filtered.items.get(i)>0:!0);m.useEffect(()=>{let U=a.current;if(!(!U||e.disabled))return U.addEventListener(Xf,E),()=>U.removeEventListener(Xf,E)},[S,e.onSelect,e.disabled]);function E(){var U,$;b(),($=(U=h.current).onSelect)==null||$.call(U,v.current)}function b(){y.setState("value",v.current,!0)}if(!S)return null;let{disabled:C,value:k,onSelect:j,forceMount:N,keywords:A,...D}=e;return m.createElement(Ce.div,{ref:Ds(a,t),...D,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!w,"data-disabled":!!C,"data-selected":!!w,onPointerMove:C||d.getDisablePointerSelection()?void 0:b,onClick:C?void 0:E},e.children)}),FI=m.forwardRef((e,t)=>{let{heading:r,children:o,forceMount:i,...a}=e,c=Wt(),d=m.useRef(null),h=m.useRef(null),p=Wt(),v=Ta(),y=ds(S=>i||v.filter()===!1?!0:S.search?S.filtered.groups.has(c):!0);Bs(()=>v.group(c),[]),Ab(c,d,[e.value,e.heading,h]);let w=m.useMemo(()=>({id:c,forceMount:i}),[i]);return m.createElement(Ce.div,{ref:Ds(d,t),...a,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},r&&m.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:p},r),Gc(e,S=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?p:void 0},m.createElement(Pb.Provider,{value:w},S))))}),zI=m.forwardRef((e,t)=>{let{alwaysRender:r,...o}=e,i=m.useRef(null),a=ds(c=>!c.search);return!r&&!a?null:m.createElement(Ce.div,{ref:Ds(i,t),...o,"cmdk-separator":"",role:"separator"})}),UI=m.forwardRef((e,t)=>{let{onValueChange:r,...o}=e,i=e.value!=null,a=np(),c=ds(p=>p.search),d=ds(p=>p.selectedItemId),h=Ta();return m.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),m.createElement(Ce.input,{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":d,id:h.inputId,type:"text",value:i?e.value:c,onChange:p=>{i||a.setState("search",p.target.value),r==null||r(p.target.value)}})}),BI=m.forwardRef((e,t)=>{let{children:r,label:o="Suggestions",...i}=e,a=m.useRef(null),c=m.useRef(null),d=ds(p=>p.selectedItemId),h=Ta();return m.useEffect(()=>{if(c.current&&a.current){let p=c.current,v=a.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let S=p.offsetHeight;v.style.setProperty("--cmdk-list-height",S.toFixed(1)+"px")})});return w.observe(p),()=>{cancelAnimationFrame(y),w.unobserve(p)}}},[]),m.createElement(Ce.div,{ref:Ds(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":o,id:h.listId},Gc(e,p=>m.createElement("div",{ref:Ds(c,h.listInnerRef),"cmdk-list-sizer":""},p)))}),VI=m.forwardRef((e,t)=>{let{open:r,onOpenChange:o,overlayClassName:i,contentClassName:a,container:c,...d}=e;return m.createElement(J0,{open:r,onOpenChange:o},m.createElement(Y0,{container:c},m.createElement(wh,{"cmdk-overlay":"",className:i}),m.createElement(bh,{"aria-label":e.label,"cmdk-dialog":"",className:a},m.createElement(Rb,{ref:t,...d}))))}),WI=m.forwardRef((e,t)=>ds(r=>r.filtered.count===0)?m.createElement(Ce.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),HI=m.forwardRef((e,t)=>{let{progress:r,children:o,label:i="Loading...",...a}=e;return m.createElement(Ce.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Gc(e,c=>m.createElement("div",{"aria-hidden":!0},c)))}),sr=Object.assign(Rb,{List:BI,Item:$I,Input:UI,Group:FI,Separator:zI,Dialog:VI,Empty:WI,Loading:HI});function qI(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function KI(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Ib(e){let t=m.useRef(e);return Bs(()=>{t.current=e}),t}var Bs=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Ro(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function ds(e){let t=np(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function Ab(e,t,r,o=[]){let i=m.useRef(),a=Ta();return Bs(()=>{var c;let d=(()=>{var p;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(p=v.current.textContent)==null?void 0:p.trim():i.current}})(),h=o.map(p=>p.trim());a.value(e,d,h),(c=t.current)==null||c.setAttribute(Po,d),i.current=d}),i}var GI=()=>{let[e,t]=m.useState(),r=Ro(()=>new Map);return Bs(()=>{r.current.forEach(o=>o()),r.current=new Map},[e]),(o,i)=>{r.current.set(o,i),t({})}};function JI(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Gc({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(JI(t),{ref:t.ref},r(t.props.children)):r(t)}var YI={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const QI=m.forwardRef(({className:e,...t},r)=>u.jsx(sr,{ref:r,className:ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-slate-800 text-slate-100",e),...t}));QI.displayName=sr.displayName;const XI=m.forwardRef(({className:e,...t},r)=>u.jsxs("div",{className:"flex items-center border-b border-slate-700 px-3","cmdk-input-wrapper":"",children:[u.jsx(Cc,{className:"mr-2 h-4 w-4 shrink-0 text-slate-400"}),u.jsx(sr.Input,{ref:r,className:ke("flex h-10 w-full rounded-md bg-transparent py-3 text-sm text-slate-100 outline-none placeholder:text-slate-400 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));XI.displayName=sr.Input.displayName;const ZI=m.forwardRef(({className:e,...t},r)=>u.jsx(sr.List,{ref:r,className:ke("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ZI.displayName=sr.List.displayName;const eA=m.forwardRef((e,t)=>u.jsx(sr.Empty,{ref:t,className:"py-6 text-center text-sm text-slate-400",...e}));eA.displayName=sr.Empty.displayName;const tA=m.forwardRef(({className:e,...t},r)=>u.jsx(sr.Group,{ref:r,className:ke("overflow-hidden p-1 text-slate-100 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-slate-400",e),...t}));tA.displayName=sr.Group.displayName;const rA=m.forwardRef(({className:e,...t},r)=>u.jsx(sr.Separator,{ref:r,className:ke("-mx-1 h-px bg-slate-700",e),...t}));rA.displayName=sr.Separator.displayName;const nA=m.forwardRef(({className:e,...t},r)=>u.jsx(sr.Item,{ref:r,className:ke("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm text-slate-100 outline-none hover:bg-slate-700 hover:text-slate-100 aria-selected:bg-slate-700 aria-selected:text-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t}));nA.displayName=sr.Item.displayName;var Ob="Popover",[Db,iO]=Cr(Ob,[ri]),Jc=ri(),[aO,ms]=Db(Ob),Lb="PopoverAnchor",sA=m.forwardRef((e,t)=>{const{__scopePopover:r,...o}=e,i=ms(Lb,r),a=Jc(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return m.useEffect(()=>(c(),()=>d()),[c,d]),u.jsx(Lc,{...a,...o,ref:t})});sA.displayName=Lb;var Mb="PopoverTrigger",oA=m.forwardRef((e,t)=>{const{__scopePopover:r,...o}=e,i=ms(Mb,r),a=Jc(r),c=Ke(t,i.triggerRef),d=u.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Bb(i.open),...o,ref:c,onClick:_e(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:u.jsx(Lc,{asChild:!0,...a,children:d})});oA.displayName=Mb;var sp="PopoverPortal",[iA,aA]=Db(sp,{forceMount:void 0}),$b=e=>{const{__scopePopover:t,forceMount:r,children:o,container:i}=e,a=ms(sp,t);return u.jsx(iA,{scope:t,forceMount:r,children:u.jsx(Nn,{present:r||a.open,children:u.jsx(xa,{asChild:!0,container:i,children:o})})})};$b.displayName=sp;var qo="PopoverContent",Fb=m.forwardRef((e,t)=>{const r=aA(qo,e.__scopePopover),{forceMount:o=r.forceMount,...i}=e,a=ms(qo,e.__scopePopover);return u.jsx(Nn,{present:o||a.open,children:a.modal?u.jsx(lA,{...i,ref:t}):u.jsx(cA,{...i,ref:t})})});Fb.displayName=qo;var lA=m.forwardRef((e,t)=>{const r=ms(qo,e.__scopePopover),o=m.useRef(null),i=Ke(t,o),a=m.useRef(!1);return m.useEffect(()=>{const c=o.current;if(c)return mh(c)},[]),u.jsx(Pc,{as:is,allowPinchZoom:!0,children:u.jsx(zb,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),a.current||(d=r.triggerRef.current)==null||d.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,p=d.button===2||h;a.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),cA=m.forwardRef((e,t)=>{const r=ms(qo,e.__scopePopover),o=m.useRef(!1),i=m.useRef(!1);return u.jsx(zb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,a),a.defaultPrevented||(o.current||(d=r.triggerRef.current)==null||d.focus(),a.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:a=>{var h,p;(h=e.onInteractOutside)==null||h.call(e,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;((p=r.triggerRef.current)==null?void 0:p.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),zb=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:v,...y}=e,w=ms(qo,r),S=Jc(r);return ph(),u.jsx(Nc,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(Qo,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:v,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:u.jsx(Fh,{"data-state":Bb(w.open),role:"dialog",id:w.contentId,...S,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ub="PopoverClose",uA=m.forwardRef((e,t)=>{const{__scopePopover:r,...o}=e,i=ms(Ub,r);return u.jsx(Ce.button,{type:"button",...o,ref:t,onClick:_e(e.onClick,()=>i.onOpenChange(!1))})});uA.displayName=Ub;var dA="PopoverArrow",fA=m.forwardRef((e,t)=>{const{__scopePopover:r,...o}=e,i=Jc(r);return u.jsx(zh,{...i,...o,ref:t})});fA.displayName=dA;function Bb(e){return e?"open":"closed"}var hA=$b,Vb=Fb;const pA=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...o},i)=>u.jsx(hA,{children:u.jsx(Vb,{ref:i,align:t,sideOffset:r,className:ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));pA.displayName=Vb.displayName;const mA=({category:e,children:t})=>{const{attributes:r,listeners:o,setNodeRef:i,transform:a,transition:c}=SI({id:e}),d={transform:ma.Transform.toString(a),transition:c};return u.jsxs("div",{ref:i,style:d,className:"group",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing p-1 hover:bg-slate-800 rounded",...r,...o,children:u.jsx(Ck,{className:"h-4 w-4 text-slate-400"})}),u.jsx("h3",{className:"text-sm font-medium text-slate-400",children:e})]}),u.jsx("div",{className:"grid gap-2 pl-7",children:t})]})},gA=()=>{var jt;const{id:e}=Ly(),t=on(),[r,o]=m.useState(!0),[i,a]=m.useState(null),[c,d]=m.useState([]),[h,p]=m.useState([]),[v,y]=m.useState({name:"",quantity:"",unit:"",category:"",price:""}),[w,S]=m.useState(!1),[E,b]=m.useState(""),[C,k]=m.useState(""),[j,N]=m.useState([]),[A,D]=m.useState(null),[U,$]=m.useState([]),[q,ce]=m.useState(!1),[K,V]=m.useState({name:"",category:""}),[J,oe]=m.useState(""),[W,ge]=m.useState(!1),[ie,ae]=m.useState(""),[B,ee]=m.useState(!1),[ne,I]=m.useState(!1),[P,Y]=m.useState(!1),re=e2(dy(tp),dy(Zh,{coordinateGetter:EI}));m.useEffect(()=>{e&&Z()},[e]);const Z=async()=>{o(!0);try{const fe=await Nh(e);if(!fe){Pe({title:"  ",description:"  ",variant:"destructive"}),t("/");return}a(fe);let M=[],H=0;const G=3;for(;H<G;)try{if(M=await yt.getAll(),M&&M.length>0)break;H++,await new Promise(We=>setTimeout(We,1e3))}catch(We){if(console.error("Error loading products (attempt ${retryCount + 1}):",We),H++,H===G)throw We;await new Promise(ct=>setTimeout(ct,1e3))}p(M);const he=[...new Set(M.map(We=>We.category))];N(he);const Fe=(await Fr.getByListId(e)).map(We=>{const ct=M.find(qt=>qt.id===We.product_id);return{...We,product_id:We.product_id,product:ct,isChecked:We.is_checked,quantity:We.quantity}});d(Fe);const tt=[...new Set(Fe.filter(We=>!We.isChecked).map(We=>{const ct=M.find(qt=>qt.id===We.product_id);return(ct==null?void 0:ct.category)||" "}))],ln=localStorage.getItem(`categoryOrder_${e}`);if(ln){const We=JSON.parse(ln),ct=We.filter(hr=>tt.includes(hr)),qt=tt.filter(hr=>!We.includes(hr));$([...ct,...qt])}else $(tt)}catch(fe){console.error("Error loading data:",fe),Pe({title:"  ",description:fe.message,variant:"destructive"})}finally{o(!1)}},ue=m.useCallback(async()=>{await Z()},[e]);m.useEffect(()=>{!w&&!q&&ue()},[w,q,ue]);const Q=async(fe,M=1,H=null)=>{const G=H||h.find(he=>he.id===fe);if(G)try{const Ee={...await Fr.create({listId:e,productId:fe,quantity:M}),product_id:fe,product:G,isChecked:!1,quantity:M};if(d(Fe=>[...Fe,Ee]),window.innerWidth<=768){const Fe=document.createElement("div");Fe.className="fixed bottom-4 right-4 bg-emerald-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",Fe.textContent=`${G.name} `,document.body.appendChild(Fe),setTimeout(()=>{Fe.remove()},2e3)}else Pe({title:"  ",description:`${G.name}  `})}catch(he){console.error("Error adding item:",he),Pe({title:"  ",description:he.message,variant:"destructive"})}},de=async(fe,M)=>{if(M<1){await me(fe);return}const H=c.find(G=>G.id===fe);if(H)try{await new Fr(H).update({quantity:M}),d(he=>he.map(Ee=>Ee.id===fe?{...Ee,quantity:M}:Ee))}catch(G){console.error("Error updating quantity:",G),Pe({title:"  ",description:G.message,variant:"destructive"})}},me=async fe=>{var M;try{const H=c.find(he=>he.id===fe);if(!H)return;if(await new Fr(H).delete(),d(he=>he.filter(Ee=>Ee.id!==fe)),window.innerWidth<=768){const he=document.createElement("div");he.className="fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",he.textContent=`${((M=H.product)==null?void 0:M.name)||""} `,document.body.appendChild(he),setTimeout(()=>{he.remove()},2e3)}else Pe({title:"  ",description:"  "})}catch(H){console.error("Error removing item:",H),Pe({title:"  ",description:H.message,variant:"destructive"})}},pe=()=>h.filter(fe=>{const M=E===""||fe.name.toLowerCase().includes(E.toLowerCase())||fe.description&&fe.description.toLowerCase().includes(E.toLowerCase()),H=C===""||fe.category===C;return M&&H}),Ae=fe=>{const{active:M,over:H}=fe;M.id!==H.id&&$(G=>{const he=G.indexOf(M.id),Ee=G.indexOf(H.id),Fe=rp(G,he,Ee);return localStorage.setItem(`categoryOrder_${e}`,JSON.stringify(Fe)),Fe})},Te=async fe=>{try{const M=await yt.create(fe);p(G=>{const he=G.findIndex(Ee=>Ee.id===M.id);if(he>=0){const Ee=[...G];return Ee[he]=M,Ee}return[...G,M]}),fe.category&&!j.includes(fe.category)&&N(G=>[...G,fe.category]);const H=c.find(G=>G.product_id===M.id);if(H||await Q(M.id,1,M),window.innerWidth<=768){const G=document.createElement("div");G.className="fixed bottom-4 right-4 bg-emerald-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",G.textContent=`${M.name} `,document.body.appendChild(G),setTimeout(()=>{G.remove()},2e3)}else Pe({title:H?"  ":"  ",description:H?`${M.name}  `:`${M.name}   `});return M}catch(M){if(console.error("Error creating/updating product:",M),window.innerWidth<=768){const H=document.createElement("div");H.className="fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",H.textContent="  ",document.body.appendChild(H),setTimeout(()=>{H.remove()},2e3)}else Pe({title:"  ",description:M.message,variant:"destructive"});throw M}},He=async()=>{const fe=ie.split(`
`).filter(H=>H.trim()),M=[];for(const H of fe)try{const[G,he="",Ee=""]=H.split(",").map(ln=>ln.trim());if(!G)continue;const Fe={name:G,category:he||"",price:Ee?parseFloat(Ee):null},tt=await Te(Fe);M.push(tt)}catch(G){console.error(`Error creating product from line: ${H}`,G)}if(M.length>0)if(ae(""),ce(!1),window.innerWidth<=768){const H=document.createElement("div");H.className="fixed bottom-4 right-4 bg-emerald-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",H.textContent=`${M.length}  `,document.body.appendChild(H),setTimeout(()=>{H.remove()},2e3)}else Pe({title:"  ",description:`${M.length}    `})},Be=fe=>{const M=fe||c;if(M.length===0)return!1;M.every(G=>G.isChecked)&&i.status==="active"?I(!0):I(!1)},mt=async()=>{try{const fe={...i,status:"completed"};if(await Th(fe),window.innerWidth<=768){const M=document.createElement("div");M.className="fixed bottom-4 right-4 bg-emerald-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",M.textContent=" ",document.body.appendChild(M),setTimeout(()=>{M.remove()},2e3)}else Pe({title:"  ",description:"   ''"});a(fe),I(!1),t("/")}catch(fe){if(console.error("Error completing list:",fe),window.innerWidth<=768){const M=document.createElement("div");M.className="fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out",M.textContent="  ",document.body.appendChild(M),setTimeout(()=>{M.remove()},2e3)}else Pe({title:"  ",description:fe.message,variant:"destructive"})}},lt=async fe=>{try{await new Fr(fe).toggleChecked();const H=c.map(G=>G.id===fe.id?{...G,isChecked:!G.isChecked}:G);d(H),Be(H)}catch(M){console.error("Error toggling item:",M),Pe({title:"  ",description:M.message,variant:"destructive"})}};return m.useEffect(()=>{Be()},[c]),r?u.jsx(_n,{children:u.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:u.jsx(en,{className:"h-8 w-8 animate-spin text-emerald-500"})})}):i?u.jsx(_n,{children:u.jsxs("div",{className:"container max-w-4xl mx-auto py-4 sm:py-6 px-3 sm:px-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-slate-100 mb-2",children:i.name}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-400",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(zo,{className:"h-4 w-4"}),u.jsxs("span",{children:[c.length," "]})]}),i.date&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(_c,{className:"h-4 w-4"}),u.jsx("span",{children:i.date})]}),((jt=i.sharedWith)==null?void 0:jt.length)>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Os,{className:"h-4 w-4"}),u.jsx("div",{className:"flex -space-x-2",children:i.sharedWith.map((fe,M)=>u.jsx(Xo,{className:"h-6 w-6 border-2 border-slate-900",children:u.jsx(Zo,{className:"bg-slate-700 text-slate-200 text-xs",children:fe[0]})},M))})]})]})]}),u.jsxs("div",{className:"flex gap-2 w-full sm:w-auto mt-3 sm:mt-0",children:[u.jsxs(ye,{onClick:()=>Y(!0),className:"bg-blue-500 hover:bg-blue-600 text-white flex-1 sm:flex-none",size:"sm",children:[u.jsx(d0,{className:"h-4 w-4 mr-2"}),""]}),u.jsxs(ye,{onClick:()=>S(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white flex-1 sm:flex-none",size:"sm",children:[u.jsx($r,{className:"h-4 w-4 mr-2"})," "]})]})]}),u.jsx(Bh,{isOpen:P,onClose:Y,listId:i.id}),ne&&u.jsxs(ba,{className:"bg-emerald-900/20 border-emerald-800 mb-4",children:[u.jsx(Vd,{className:"h-4 w-4 text-emerald-400"}),u.jsx(jh,{className:"text-emerald-400",children:"  !"}),u.jsx(Sa,{className:"text-emerald-300",children:"     ?"}),u.jsxs("div",{className:"mt-3 sm:mt-4 flex gap-2 flex-wrap",children:[u.jsx(ye,{onClick:mt,className:"bg-emerald-500 hover:bg-emerald-600 text-white",size:"sm",children:" "}),u.jsx(ye,{variant:"outline",onClick:()=>I(!1),className:"border-emerald-800 text-emerald-300 hover:text-emerald-200",size:"sm",children:" "})]})]}),c.length===0?u.jsx(Vt,{className:"bg-slate-900 border-slate-800",children:u.jsxs(rr,{className:"flex flex-col items-center justify-center py-8 sm:py-12",children:[u.jsx(Ec,{className:"h-10 sm:h-12 w-10 sm:w-12 text-slate-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:" "}),u.jsx("p",{className:"text-slate-400 text-center mb-4",children:"     "}),u.jsxs(ye,{onClick:()=>S(!0),className:"bg-emerald-500 hover:bg-emerald-600 text-white",size:"sm",children:[u.jsx($r,{className:"h-4 w-4 mr-2"}),"  "]})]})}):u.jsx("div",{className:"grid gap-4 sm:gap-6",children:(()=>{const fe=c.filter(he=>!he.isChecked),M=c.filter(he=>he.isChecked),H=fe.reduce((he,Ee)=>{var tt;const Fe=((tt=Ee.product)==null?void 0:tt.category)||" ";return he[Fe]||(he[Fe]=[]),he[Fe].push(Ee),he},{}),G=U.filter(he=>H[he]);return u.jsxs(u.Fragment,{children:[u.jsx(rI,{sensors:re,collisionDetection:r2,onDragEnd:Ae,children:u.jsx(mI,{items:G,strategy:hI,children:G.map(he=>u.jsx(mA,{category:he,children:H[he].map(Ee=>{var Fe,tt;return u.jsx(Vt,{className:"bg-slate-900 border-slate-800",children:u.jsxs(rr,{className:"flex items-center gap-2 sm:gap-4 p-3 sm:p-4",children:[u.jsx(ye,{variant:"ghost",size:"sm",className:`p-1 sm:p-2 text-slate-400 hover:text-slate-300 ${Ee.isChecked&&"text-emerald-500 hover:text-emerald-400"}`,onClick:()=>lt(Ee),children:u.jsx(Vd,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-medium text-slate-100 mb-0 sm:mb-1 text-sm sm:text-base ${Ee.isChecked&&"text-slate-400 line-through"}`,children:((Fe=Ee.product)==null?void 0:Fe.name)||"  "}),u.jsx("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-400",children:((tt=Ee.product)==null?void 0:tt.price)&&u.jsxs("span",{children:["",Ee.product.price]})})]}),u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-slate-800 rounded-md px-1 sm:px-2 py-1",children:[u.jsx(ye,{size:"sm",variant:"ghost",className:"h-6 w-6 sm:h-7 sm:w-7 p-0 hover:bg-slate-700 hover:text-slate-100",onClick:()=>de(Ee.id,Ee.quantity-1),children:u.jsx(Tv,{className:"h-3 w-3"})}),u.jsx("span",{className:"text-xs sm:text-sm font-medium w-6 sm:w-8 text-center text-slate-100",children:Ee.quantity}),u.jsx(ye,{size:"sm",variant:"ghost",className:"h-6 w-6 sm:h-7 sm:w-7 p-0 hover:bg-slate-700 hover:text-slate-100",onClick:()=>de(Ee.id,Ee.quantity+1),children:u.jsx($r,{className:"h-3 w-3"})})]}),u.jsx(ye,{variant:"ghost",size:"sm",className:"p-1 sm:p-2 text-slate-400 hover:text-red-400",onClick:()=>me(Ee.id),children:u.jsx(Is,{className:"h-4 w-4"})})]})]})},Ee.id)})},he))})}),M.length>0&&u.jsxs("div",{className:"grid gap-2",children:[u.jsx("h3",{className:"text-xs sm:text-sm font-medium text-slate-400 px-1",children:" "}),u.jsx("div",{className:"grid gap-2 opacity-60",children:M.map(he=>{var Ee,Fe;return u.jsx(Vt,{className:"bg-slate-900/50 border-slate-800",children:u.jsxs(rr,{className:"flex items-center gap-2 sm:gap-4 p-3 sm:p-4",children:[u.jsx(ye,{variant:"ghost",size:"sm",className:"p-1 sm:p-2 text-emerald-500 hover:text-emerald-400",onClick:()=>lt(he),children:u.jsx(Vd,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-medium text-slate-400 line-through mb-0 sm:mb-1 text-sm sm:text-base",children:((Ee=he.product)==null?void 0:Ee.name)||"  "}),u.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-500",children:[u.jsxs("span",{children:[he.quantity," "]}),((Fe=he.product)==null?void 0:Fe.category)&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:""}),u.jsx("span",{children:he.product.category})]})]})]}),u.jsx(ye,{variant:"ghost",size:"sm",className:"p-1 sm:p-2 text-slate-400 hover:text-red-400",onClick:()=>me(he.id),children:u.jsx(Is,{className:"h-4 w-4"})})]})},he.id)})})]})]})})()}),u.jsx(Uo,{open:q,onOpenChange:ce,children:u.jsxs(Ms,{className:"bg-slate-900 border-slate-800 sm:max-w-[500px] w-[calc(100%-2rem)] max-h-[calc(100vh-2rem)] overflow-y-auto",children:[u.jsxs($s,{children:[u.jsx(Fs,{className:"text-slate-100",children:"  "}),u.jsx(Vo,{className:"text-slate-400",children:"      "})]}),u.jsxs(Ic,{defaultValue:"single",className:"w-full",children:[u.jsxs(wa,{className:"w-full bg-slate-800",children:[u.jsx(_r,{value:"single",className:"w-full text-slate-100 data-[state=active]:bg-slate-700",children:" "}),u.jsx(_r,{value:"batch",className:"w-full text-slate-100 data-[state=active]:bg-slate-700",children:" "})]}),u.jsxs(If,{value:"single",className:"mt-4",children:[u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"name",className:"text-slate-100",children:" "}),u.jsx(ht,{id:"name",value:K.name,onChange:fe=>V(M=>({...M,name:fe.target.value})),className:"bg-slate-800 border-slate-700 text-slate-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{className:"text-slate-100",children:""}),u.jsxs(hc,{value:K.category,onValueChange:fe=>V(M=>({...M,category:fe})),children:[u.jsx(da,{className:"bg-slate-800 border-slate-700 text-slate-100",children:u.jsx(pc,{placeholder:"   "})}),u.jsxs(fa,{className:"bg-slate-800 border-slate-700",children:[u.jsx(Sn,{value:"uncategorized",className:"text-slate-100 hover:text-slate-100",children:" "}),j.map(fe=>u.jsx(Sn,{value:fe,className:"text-slate-100 hover:text-slate-100",children:fe},fe))]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ht,{placeholder:"  ",value:J,onChange:fe=>oe(fe.target.value),className:"bg-slate-800 border-slate-700 text-slate-100"}),u.jsx(ye,{onClick:()=>{J&&(V(fe=>({...fe,category:J})),oe(""))},className:"bg-emerald-500 hover:bg-emerald-600",children:""})]})]})]}),u.jsx(Bo,{className:"mt-6",children:u.jsx(ye,{onClick:async()=>{if(K.name)try{await Te({name:K.name,category:K.category||J||""}),V({name:"",category:""}),oe(""),ce(!1)}catch{}},className:"bg-emerald-500 hover:bg-emerald-600",children:" "})})]}),u.jsxs(If,{value:"batch",className:"mt-4",children:[u.jsx("div",{className:"grid gap-4",children:u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:" "}),u.jsx(Vo,{className:"text-sm text-slate-400",children:"     ,  . : ,  "}),u.jsx(Vh,{value:ie,onChange:fe=>ae(fe.target.value),className:"h-[200px] bg-slate-800 border-slate-700 text-slate-100 placeholder:text-slate-400",placeholder:`,  
, 
, `,dir:"rtl"})]})}),u.jsx(Bo,{className:"mt-6",children:u.jsx(ye,{onClick:He,className:"bg-emerald-500 hover:bg-emerald-600",children:" "})})]})]})]})}),u.jsx(Uo,{open:w,onOpenChange:S,children:u.jsxs(Ms,{className:"bg-slate-900 border-slate-800 sm:max-w-[800px] w-[calc(100%-2rem)] max-h-[calc(100vh-2rem)] overflow-y-auto p-4",children:[u.jsx($s,{children:u.jsx(Fs,{className:"text-slate-100 text-lg",children:"  "})}),u.jsxs("div",{className:"flex flex-col h-full overflow-hidden mt-2",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Cc,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),u.jsx(ht,{placeholder:" ...",value:E,onChange:fe=>b(fe.target.value),className:"pl-3 pr-10 bg-slate-800 border-slate-700 text-slate-100 text-sm"})]}),u.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[u.jsxs(hc,{value:C,onValueChange:k,children:[u.jsx(da,{className:"w-full sm:w-[130px] bg-slate-800 border-slate-700 text-slate-100 text-sm h-9",children:u.jsx(pc,{placeholder:""})}),u.jsxs(fa,{className:"bg-slate-800 border-slate-700",children:[u.jsx(Sn,{value:"",className:"text-slate-100 hover:text-slate-100",children:" "}),j.map(fe=>u.jsx(Sn,{value:fe,className:"text-slate-100 hover:text-slate-100",children:fe},fe))]})]}),u.jsxs(ye,{onClick:()=>{S(!1),ce(!0)},className:"bg-emerald-500 hover:bg-emerald-600 text-white ml-auto sm:ml-0 flex-1 sm:flex-none",size:"sm",children:[u.jsx($r,{className:"h-4 w-4 mr-1 sm:mr-2"}),""]})]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 max-h-[60vh] overflow-y-auto pr-2 -mr-2",children:pe().length===0?u.jsx("div",{className:"col-span-full group relative bg-slate-800/50 rounded-lg border border-slate-700 p-3 hover:bg-slate-800 transition-all hover:shadow-lg hover:border-slate-600 cursor-pointer",onClick:()=>{V({name:E,category:C===""?"":C}),S(!1),ce(!0)},children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx($r,{className:"h-4 w-4 text-emerald-500"}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-sm font-medium text-slate-100",children:"  "}),u.jsx("div",{className:"text-xs text-slate-400",children:E?`"${E}"`:" "})]})]})}):pe().map(fe=>{const M=c.some(G=>G.product_id===fe.id),H=c.find(G=>G.product_id===fe.id);return u.jsxs("div",{className:`group relative bg-slate-800/50 rounded-lg border border-slate-700 p-2 sm:p-3
                          hover:bg-slate-800 transition-all hover:shadow-lg hover:border-slate-600
                          ${M?"ring-2 ring-emerald-500/50":""}`,children:[u.jsx("div",{className:"text-xs sm:text-sm font-medium text-slate-100 mb-1 sm:mb-2 truncate",title:fe.name,children:fe.name}),u.jsx("div",{className:"mb-2",children:u.jsx(Ft,{variant:"secondary",className:"text-[10px] sm:text-xs px-1.5 py-0 sm:px-2 sm:py-0.5 bg-slate-700 hover:bg-slate-600 text-slate-100 truncate max-w-full",title:fe.category,children:fe.category})}),u.jsx("div",{className:"mt-auto",children:M?u.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[u.jsx(ye,{size:"sm",variant:"outline",className:"h-7 w-7 sm:h-8 sm:w-8 p-0 border-slate-600",onClick:()=>de(H.id,H.quantity-1),children:u.jsx(Tv,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),u.jsx("span",{className:"text-xs sm:text-sm font-medium w-6 sm:w-8 text-center text-slate-100",children:H.quantity}),u.jsx(ye,{size:"sm",variant:"outline",className:"h-7 w-7 sm:h-8 sm:w-8 p-0 border-slate-600",onClick:()=>de(H.id,H.quantity+1),children:u.jsx($r,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}):u.jsxs(ye,{onClick:()=>Q(fe.id,1),className:"w-full bg-emerald-500 hover:bg-emerald-600 text-white h-7 text-xs",size:"sm",children:[u.jsx($r,{className:"h-3 w-3 mr-1"}),""]})})]},fe.id)})})]})]})})]})}):u.jsx(_n,{children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-100 mb-2",children:"  "}),u.jsx("p",{className:"text-slate-400 mb-4",children:"       "}),u.jsx(ye,{onClick:()=>t("/"),children:" "})]})})},vA=()=>{const{id:e}=Ly(),t=on(),[r,o]=m.useState(!1),[i,a]=m.useState({name:"",description:"",date:"",status:"active",sharedWith:[]});m.useEffect(()=>{e&&(async()=>{o(!0);try{const v=await Nh(e);v?a({id:v.id,name:v.name||"",description:v.description||"",date:new Date(v.created_at).toISOString().split("T")[0],status:v.status||"active",sharedWith:v.sharedWith||[]}):(Pe({title:"  ",description:"     ",variant:"destructive"}),t("/"))}catch(v){console.error("Error fetching list:",v),Pe({title:"  ",description:v.message,variant:"destructive"})}finally{o(!1)}})()},[e,t]);const c=async p=>{p.preventDefault(),o(!0);try{const v={id:e,name:i.name,description:i.description,status:i.status},y=await Th(v);if(y._not_synced)throw new Error(y._error||"Failed to update list");Pe({title:"  ",description:"  "}),t("/")}catch(v){console.error("Error updating list:",v),Pe({title:"  ",description:v.message,variant:"destructive"})}finally{o(!1)}},d=p=>{a(v=>({...v,status:p}))},h=p=>i.status===p?"bg-emerald-500 text-white hover:bg-emerald-600 cursor-pointer":"bg-slate-700 text-slate-200 hover:bg-slate-600 hover:text-white border-slate-600 cursor-pointer";return u.jsx(_n,{children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-100",children:" "}),u.jsx("p",{className:"text-slate-300",children:"    "})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsxs(tn,{children:[u.jsx(rn,{className:"text-slate-100",children:" "}),u.jsx(Cn,{className:"text-slate-300",children:"    "})]}),u.jsxs(rr,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"name",className:"text-slate-200",children:" "}),u.jsx(ht,{id:"name",value:i.name,onChange:p=>a({...i,name:p.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100 placeholder:text-slate-400",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"description",className:"text-slate-200",children:""}),u.jsx(ht,{id:"description",value:i.description,onChange:p=>a({...i,description:p.target.value}),className:"bg-slate-800 border-slate-700 text-slate-100 placeholder:text-slate-400"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"date",className:"text-slate-200",children:" "}),u.jsx(ht,{id:"date",type:"date",value:i.date,disabled:!0,className:"bg-slate-800 border-slate-700 text-slate-100 opacity-50 cursor-not-allowed"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{className:"text-slate-200",children:""}),u.jsxs("div",{className:"flex space-x-reverse space-x-2",children:[u.jsx(Ft,{variant:i.status==="active"?"default":"secondary",className:h("active"),onClick:()=>d("active"),children:""}),u.jsx(Ft,{variant:i.status==="completed"?"default":"secondary",className:h("completed"),onClick:()=>d("completed"),children:""}),u.jsx(Ft,{variant:i.status==="archived"?"default":"secondary",className:h("archived"),onClick:()=>d("archived"),children:""})]})]})]})]}),u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsxs(tn,{children:[u.jsx(rn,{className:"text-slate-100",children:""}),u.jsx(Cn,{className:"text-slate-300",children:"   "})]}),u.jsx(rr,{children:u.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[u.jsx(Os,{className:"h-4 w-4 text-slate-300"}),u.jsx("span",{className:"text-sm text-slate-300",children:" :"}),u.jsx("div",{className:"flex -space-x-reverse -space-x-2",children:i.sharedWith.map((p,v)=>u.jsx(Xo,{className:"h-6 w-6 border-2 border-slate-900",children:u.jsx(Zo,{className:"bg-slate-700 text-slate-200",children:p[0]})},v))}),u.jsx(ye,{variant:"outline",size:"sm",className:"mr-2 bg-slate-800 border-slate-600 text-slate-200 hover:bg-slate-700 hover:text-white",children:" "})]})})]}),u.jsxs("div",{className:"flex justify-end space-x-reverse space-x-4",children:[u.jsx(ye,{type:"button",variant:"outline",onClick:()=>t("/"),className:"bg-slate-800 border-slate-600 text-slate-200 hover:bg-slate-700 hover:text-white",disabled:r,children:""}),u.jsx(ye,{type:"submit",className:"bg-emerald-500 hover:bg-emerald-600 text-white",disabled:r,children:r?u.jsx(u.Fragment,{children:u.jsx("span",{className:"mr-2",children:"..."})}):u.jsxs(u.Fragment,{children:[" ",u.jsx(l0,{className:"h-4 w-4 mr-2"})]})})]})]})]})})},yA=()=>{const e=on(),[t,r]=m.useState({name:"",description:"",date:"",status:"active",sharedWith:[]}),o=i=>{i.preventDefault(),e("/lists")};return u.jsx(_n,{children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),u.jsx("p",{className:"text-slate-400",children:"   "})]}),u.jsxs("form",{onSubmit:o,className:"space-y-6",children:[u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsxs(tn,{children:[u.jsx(rn,{children:" "}),u.jsx(Cn,{children:"     "})]}),u.jsxs(rr,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"name",children:" "}),u.jsx(ht,{id:"name",value:t.name,onChange:i=>r({...t,name:i.target.value}),placeholder:"  "})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"description",children:""}),u.jsx(ht,{id:"description",value:t.description,onChange:i=>r({...t,description:i.target.value}),placeholder:"   "})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{htmlFor:"date",children:""}),u.jsx(ht,{id:"date",type:"date",value:t.date,onChange:i=>r({...t,date:i.target.value})})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(it,{children:""}),u.jsxs("div",{className:"flex space-x-reverse space-x-2",children:[u.jsx(Ft,{variant:t.status==="active"?"default":"secondary",className:t.status==="active"?"bg-emerald-500":"",children:""}),u.jsx(Ft,{variant:t.status==="completed"?"default":"secondary",className:t.status==="completed"?"bg-emerald-500":"",children:""}),u.jsx(Ft,{variant:t.status==="archived"?"default":"secondary",className:t.status==="archived"?"bg-emerald-500":"",children:""})]})]})]})]}),u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsxs(tn,{children:[u.jsx(rn,{children:""}),u.jsx(Cn,{children:"  "})]}),u.jsx(rr,{children:u.jsxs("div",{className:"flex items-center space-x-reverse space-x-2",children:[u.jsx(Os,{className:"h-4 w-4 text-slate-400"}),u.jsx("span",{className:"text-sm text-slate-400",children:" :"}),u.jsx("div",{className:"flex -space-x-reverse -space-x-2",children:t.sharedWith.map((i,a)=>u.jsx(Xo,{className:"h-6 w-6 border-2 border-slate-900",children:u.jsx(Zo,{children:i[0]})},a))}),u.jsx(ye,{variant:"outline",size:"sm",className:"mr-2",children:" "})]})})]}),u.jsxs("div",{className:"flex justify-end space-x-reverse space-x-4",children:[u.jsx(ye,{variant:"outline",onClick:()=>e("/lists"),children:""}),u.jsxs(ye,{type:"submit",children:[" ",u.jsx(l0,{className:"h-4 w-4 mr-2"})]})]})]})]})})},xA=()=>{const e=on(),[t,r]=m.useState(""),[o,i]=m.useState(""),[a,c]=m.useState(!1),[d,h]=m.useState(null),[p,v]=m.useState(!1);m.useEffect(()=>{(async()=>{const{data:{session:S}}=await Re.auth.getSession();S&&e("/shopping-lists")})()},[e]);const y=async w=>{w.preventDefault(),c(!0),h(null);try{if(p){const{data:S,error:E}=await Re.auth.signUp({email:t,password:o});if(E)throw E;S.user&&alert("      ")}else{const{data:S,error:E}=await Re.auth.signInWithPassword({email:t,password:o});if(E)throw E;S.user&&e("/shopping-lists")}}catch(S){h(S.message||"   ")}finally{c(!1)}};return u.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:u.jsxs(Vt,{className:"w-full max-w-md bg-slate-900 border-slate-800 text-white",children:[u.jsxs(tn,{className:"text-center",children:[u.jsx(rn,{className:"text-2xl font-bold",children:"ShopShare"}),u.jsx(Cn,{className:"text-slate-400",children:p?"  ":"  "})]}),u.jsx(rr,{children:u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d&&u.jsx(ba,{variant:"destructive",className:"bg-red-900/20 border-red-800 text-red-400",children:u.jsx(Sa,{children:d})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"email",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(fh,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),u.jsx(ht,{id:"email",type:"email",placeholder:"your@email.com",value:t,onChange:w=>r(w.target.value),className:"bg-slate-800 border-slate-700 pl-10",required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"password",children:""}),u.jsxs("div",{className:"relative",children:[u.jsx(Nk,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),u.jsx(ht,{id:"password",type:"password",placeholder:"********",value:o,onChange:w=>i(w.target.value),className:"bg-slate-800 border-slate-700 pl-10",required:!0,minLength:6})]})]}),u.jsx(ye,{type:"submit",className:"w-full bg-emerald-500 hover:bg-emerald-600",disabled:a,children:a?u.jsxs(u.Fragment,{children:[u.jsx(en,{className:"ml-2 h-4 w-4 animate-spin"}),p?" ...":"..."]}):p?"":""})]})}),u.jsx(ya,{className:"flex justify-center",children:u.jsx(ye,{variant:"link",className:"text-emerald-400 hover:text-emerald-300",onClick:()=>v(!p),children:p?"   ? ":"  ? "})})]})})};function wA(){const e=on(),[t,r]=m.useState(""),[o,i]=m.useState(""),[a,c]=m.useState(""),[d,h]=m.useState(""),[p,v]=m.useState(!1),y=async w=>{w.preventDefault(),h(""),v(!0);try{await As.register(t,o,a),e("/")}catch(S){h(S.message)}finally{v(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:u.jsxs(Vt,{className:"w-full max-w-md",children:[u.jsxs(tn,{children:[u.jsx(rn,{className:"text-2xl font-bold text-center",children:""}),u.jsx(Cn,{className:"text-center",children:"    "})]}),u.jsx(rr,{children:u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d&&u.jsxs(ba,{variant:"destructive",children:[u.jsx(a0,{className:"h-4 w-4 ml-2 rtl:mr-2 rtl:ml-0"}),u.jsx(Sa,{children:d})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"fullName",children:" "}),u.jsx(ht,{id:"fullName",type:"text",value:a,onChange:w=>c(w.target.value),required:!0,placeholder:" "})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"email",children:""}),u.jsx(ht,{id:"email",type:"email",value:t,onChange:w=>r(w.target.value),required:!0,placeholder:"your@email.com"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(it,{htmlFor:"password",children:""}),u.jsx(ht,{id:"password",type:"password",value:o,onChange:w=>i(w.target.value),required:!0,placeholder:""})]}),u.jsx(ye,{type:"submit",className:"w-full",disabled:p,children:p?"...":""})]})}),u.jsx(ya,{className:"flex flex-col space-y-4",children:u.jsxs("div",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["   ?"," ",u.jsx(wC,{to:"/login",className:"text-green-600 hover:text-green-500",children:" "})]})})]})})}var op="ToastProvider",[ip,bA,SA]=_h("Toast"),[Wb,lO]=Cr("Toast",[SA]),[_A,Yc]=Wb(op),Hb=e=>{const{__scopeToast:t,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=e,[d,h]=m.useState(null),[p,v]=m.useState(0),y=m.useRef(!1),w=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${op}\`. Expected non-empty \`string\`.`),u.jsx(ip.Provider,{scope:t,children:u.jsx(_A,{scope:t,label:r,duration:o,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:d,onViewportChange:h,onToastAdd:m.useCallback(()=>v(S=>S+1),[]),onToastRemove:m.useCallback(()=>v(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:w,children:c})})};Hb.displayName=op;var qb="ToastViewport",CA=["F8"],Zf="toast.viewportPause",eh="toast.viewportResume",Kb=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:o=CA,label:i="Notifications ({hotkey})",...a}=e,c=Yc(qb,r),d=bA(r),h=m.useRef(null),p=m.useRef(null),v=m.useRef(null),y=m.useRef(null),w=Ke(t,y,c.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=c.toastCount>0;m.useEffect(()=>{const C=k=>{var N;o.length!==0&&o.every(A=>k[A]||k.code===A)&&((N=y.current)==null||N.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[o]),m.useEffect(()=>{const C=h.current,k=y.current;if(E&&C&&k){const j=()=>{if(!c.isClosePausedRef.current){const U=new CustomEvent(Zf);k.dispatchEvent(U),c.isClosePausedRef.current=!0}},N=()=>{if(c.isClosePausedRef.current){const U=new CustomEvent(eh);k.dispatchEvent(U),c.isClosePausedRef.current=!1}},A=U=>{!C.contains(U.relatedTarget)&&N()},D=()=>{C.contains(document.activeElement)||N()};return C.addEventListener("focusin",j),C.addEventListener("focusout",A),C.addEventListener("pointermove",j),C.addEventListener("pointerleave",D),window.addEventListener("blur",j),window.addEventListener("focus",N),()=>{C.removeEventListener("focusin",j),C.removeEventListener("focusout",A),C.removeEventListener("pointermove",j),C.removeEventListener("pointerleave",D),window.removeEventListener("blur",j),window.removeEventListener("focus",N)}}},[E,c.isClosePausedRef]);const b=m.useCallback(({tabbingDirection:C})=>{const j=d().map(N=>{const A=N.ref.current,D=[A,...MA(A)];return C==="forwards"?D:D.reverse()});return(C==="forwards"?j.reverse():j).flat()},[d]);return m.useEffect(()=>{const C=y.current;if(C){const k=j=>{var D,U,$;const N=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!N){const q=document.activeElement,ce=j.shiftKey;if(j.target===C&&ce){(D=p.current)==null||D.focus();return}const J=b({tabbingDirection:ce?"backwards":"forwards"}),oe=J.findIndex(W=>W===q);pf(J.slice(oe+1))?j.preventDefault():ce?(U=p.current)==null||U.focus():($=v.current)==null||$.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[d,b]),u.jsxs(Tj,{ref:h,role:"region","aria-label":i.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&u.jsx(th,{ref:p,onFocusFromOutsideViewport:()=>{const C=b({tabbingDirection:"forwards"});pf(C)}}),u.jsx(ip.Slot,{scope:r,children:u.jsx(Ce.ol,{tabIndex:-1,...a,ref:w})}),E&&u.jsx(th,{ref:v,onFocusFromOutsideViewport:()=>{const C=b({tabbingDirection:"backwards"});pf(C)}})]})});Kb.displayName=qb;var Gb="ToastFocusProxy",th=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:o,...i}=e,a=Yc(Gb,r);return u.jsx(Ca,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:c=>{var p;const d=c.relatedTarget;!((p=a.viewport)!=null&&p.contains(d))&&o()}})});th.displayName=Gb;var Qc="Toast",EA="toast.swipeStart",kA="toast.swipeMove",jA="toast.swipeCancel",NA="toast.swipeEnd",Jb=m.forwardRef((e,t)=>{const{forceMount:r,open:o,defaultOpen:i,onOpenChange:a,...c}=e,[d=!0,h]=as({prop:o,defaultProp:i,onChange:a});return u.jsx(Nn,{present:r||d,children:u.jsx(RA,{open:d,...c,ref:t,onClose:()=>h(!1),onPause:Ht(e.onPause),onResume:Ht(e.onResume),onSwipeStart:_e(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,p=>{const{x:v,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:_e(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,p=>{const{x:v,y}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});Jb.displayName=Qc;var[TA,PA]=Wb(Qc,{onClose(){}}),RA=m.forwardRef((e,t)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:p,onSwipeStart:v,onSwipeMove:y,onSwipeCancel:w,onSwipeEnd:S,...E}=e,b=Yc(Qc,r),[C,k]=m.useState(null),j=Ke(t,W=>k(W)),N=m.useRef(null),A=m.useRef(null),D=i||b.duration,U=m.useRef(0),$=m.useRef(D),q=m.useRef(0),{onToastAdd:ce,onToastRemove:K}=b,V=Ht(()=>{var ge;(C==null?void 0:C.contains(document.activeElement))&&((ge=b.viewport)==null||ge.focus()),c()}),J=m.useCallback(W=>{!W||W===1/0||(window.clearTimeout(q.current),U.current=new Date().getTime(),q.current=window.setTimeout(V,W))},[V]);m.useEffect(()=>{const W=b.viewport;if(W){const ge=()=>{J($.current),p==null||p()},ie=()=>{const ae=new Date().getTime()-U.current;$.current=$.current-ae,window.clearTimeout(q.current),h==null||h()};return W.addEventListener(Zf,ie),W.addEventListener(eh,ge),()=>{W.removeEventListener(Zf,ie),W.removeEventListener(eh,ge)}}},[b.viewport,D,h,p,J]),m.useEffect(()=>{a&&!b.isClosePausedRef.current&&J(D)},[a,D,b.isClosePausedRef,J]),m.useEffect(()=>(ce(),()=>K()),[ce,K]);const oe=m.useMemo(()=>C?rS(C):null,[C]);return b.viewport?u.jsxs(u.Fragment,{children:[oe&&u.jsx(IA,{__scopeToast:r,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:oe}),u.jsx(TA,{scope:r,onClose:V,children:zr.createPortal(u.jsx(ip.ItemSlot,{scope:r,children:u.jsx(Nj,{asChild:!0,onEscapeKeyDown:_e(d,()=>{b.isFocusedToastEscapeKeyDownRef.current||V(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...E,ref:j,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,W=>{W.key==="Escape"&&(d==null||d(W.nativeEvent),W.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:_e(e.onPointerDown,W=>{W.button===0&&(N.current={x:W.clientX,y:W.clientY})}),onPointerMove:_e(e.onPointerMove,W=>{if(!N.current)return;const ge=W.clientX-N.current.x,ie=W.clientY-N.current.y,ae=!!A.current,B=["left","right"].includes(b.swipeDirection),ee=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ne=B?ee(0,ge):0,I=B?0:ee(0,ie),P=W.pointerType==="touch"?10:2,Y={x:ne,y:I},re={originalEvent:W,delta:Y};ae?(A.current=Y,Xl(kA,y,re,{discrete:!1})):jy(Y,b.swipeDirection,P)?(A.current=Y,Xl(EA,v,re,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ge)>P||Math.abs(ie)>P)&&(N.current=null)}),onPointerUp:_e(e.onPointerUp,W=>{const ge=A.current,ie=W.target;if(ie.hasPointerCapture(W.pointerId)&&ie.releasePointerCapture(W.pointerId),A.current=null,N.current=null,ge){const ae=W.currentTarget,B={originalEvent:W,delta:ge};jy(ge,b.swipeDirection,b.swipeThreshold)?Xl(NA,S,B,{discrete:!0}):Xl(jA,w,B,{discrete:!0}),ae.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),IA=e=>{const{__scopeToast:t,children:r,...o}=e,i=Yc(Qc,t),[a,c]=m.useState(!1),[d,h]=m.useState(!1);return DA(()=>c(!0)),m.useEffect(()=>{const p=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:u.jsx(xa,{asChild:!0,children:u.jsx(Ca,{...o,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},AA="ToastTitle",Yb=m.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return u.jsx(Ce.div,{...o,ref:t})});Yb.displayName=AA;var OA="ToastDescription",Qb=m.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e;return u.jsx(Ce.div,{...o,ref:t})});Qb.displayName=OA;var Xb="ToastAction",Zb=m.forwardRef((e,t)=>{const{altText:r,...o}=e;return r.trim()?u.jsx(tS,{altText:r,asChild:!0,children:u.jsx(ap,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Xb}\`. Expected non-empty \`string\`.`),null)});Zb.displayName=Xb;var eS="ToastClose",ap=m.forwardRef((e,t)=>{const{__scopeToast:r,...o}=e,i=PA(eS,r);return u.jsx(tS,{asChild:!0,children:u.jsx(Ce.button,{type:"button",...o,ref:t,onClick:_e(e.onClick,i.onClose)})})});ap.displayName=eS;var tS=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:o,...i}=e;return u.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...i,ref:t})});function rS(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),LA(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",a=o.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=o.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...rS(o))}}),t}function Xl(e,t,r,{discrete:o}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),o?w0(i,a):i.dispatchEvent(a)}var jy=(e,t,r=0)=>{const o=Math.abs(e.x),i=Math.abs(e.y),a=o>i;return t==="left"||t==="right"?a&&o>r:!a&&i>r};function DA(e=()=>{}){const t=Ht(e);kt(()=>{let r=0,o=0;return r=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(o)}},[t])}function LA(e){return e.nodeType===e.ELEMENT_NODE}function MA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var $A=Hb,nS=Kb,sS=Jb,oS=Yb,iS=Qb,aS=Zb,lS=ap;const FA=$A,cS=m.forwardRef(({className:e,...t},r)=>u.jsx(nS,{ref:r,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cS.displayName=nS.displayName;const zA=jc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uS=m.forwardRef(({className:e,variant:t,...r},o)=>u.jsx(sS,{ref:o,className:ke(zA({variant:t}),e),...r}));uS.displayName=sS.displayName;const UA=m.forwardRef(({className:e,...t},r)=>u.jsx(aS,{ref:r,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));UA.displayName=aS.displayName;const dS=m.forwardRef(({className:e,...t},r)=>u.jsx(lS,{ref:r,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:u.jsx(kc,{className:"h-4 w-4"})}));dS.displayName=lS.displayName;const fS=m.forwardRef(({className:e,...t},r)=>u.jsx(oS,{ref:r,className:ke("text-sm font-semibold",e),...t}));fS.displayName=oS.displayName;const hS=m.forwardRef(({className:e,...t},r)=>u.jsx(iS,{ref:r,className:ke("text-sm opacity-90",e),...t}));hS.displayName=iS.displayName;function BA(){const{toasts:e}=pT();return u.jsxs(FA,{children:[e.map(function({id:t,title:r,description:o,action:i,...a}){return u.jsxs(uS,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(fS,{children:r}),o&&u.jsx(hS,{children:o})]}),i,u.jsx(dS,{})]},t)}),u.jsx(cS,{})]})}const VA=()=>{const[e,t]=m.useState(""),[r,o]=m.useState([]),[i,a]=m.useState(!1),c=async(p="")=>{a(!0);try{const{data:v,error:y}=await Re.from("prices").select(`
          *,
          stores (
            name,
            branch_name
          )
        `).ilike("product_name",`%${p}%`).order("price",{ascending:!0}).limit(100);if(y)throw y;o(v||[])}catch(v){console.error("Error fetching prices:",v)}finally{a(!1)}};m.useEffect(()=>{c()},[]);const d=()=>{c(e)},h=p=>{p.key==="Enter"&&d()};return u.jsx(_n,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:""})}),u.jsxs(Vt,{className:"bg-slate-900 border-slate-800",children:[u.jsx(tn,{children:u.jsx(rn,{className:"text-slate-100",children:" "})}),u.jsx(rr,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ht,{placeholder:" ...",value:e,onChange:p=>t(p.target.value),onKeyPress:h,className:"bg-slate-800 border-slate-700 text-slate-100"}),u.jsxs(ye,{onClick:d,disabled:i,children:[u.jsx(Cc,{className:"h-4 w-4 mr-2"}),""]})]})})]}),i?u.jsx("div",{className:"text-center text-slate-400",children:" ..."}):r.length>0?u.jsx("div",{className:"grid gap-4",children:r.map(p=>u.jsx(Vt,{className:"bg-slate-900 border-slate-800",children:u.jsx(rr,{className:"p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-slate-100",children:p.product_name}),u.jsx("p",{className:"text-sm text-slate-400",children:p.unit_of_measure})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["",p.price.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-slate-400",children:[p.stores.name," - ",p.stores.branch_name]})]})]})})},p.id))}):u.jsx("div",{className:"text-center text-slate-400",children:"  "})]})})},Qn=({children:e})=>{const[t,r]=m.useState(null),[o,i]=m.useState(!0),a=Vs();return m.useEffect(()=>{(async()=>{try{const{data:{session:h}}=await Re.auth.getSession();r(!!h)}catch(h){console.error("Auth error:",h),r(!1)}finally{i(!1)}})();const{data:d}=Re.auth.onAuthStateChange((h,p)=>{r(!!p)});return()=>{d&&d.subscription&&d.subscription.unsubscribe()}},[]),o?u.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-emerald-500"})}):t?e:u.jsx(Uy,{to:"/login",state:{from:a},replace:!0})};function WA(){return u.jsxs(u.Fragment,{children:[u.jsxs(uC,{children:[u.jsx(Dr,{path:"/login",element:u.jsx(xA,{})}),u.jsx(Dr,{path:"/register",element:u.jsx(wA,{})}),u.jsx(Dr,{path:"/",element:u.jsx(Qn,{children:u.jsx(Uy,{to:"/shopping-lists",replace:!0})})}),u.jsx(Dr,{path:"/shopping-lists",element:u.jsx(Qn,{children:u.jsx(aR,{})})}),u.jsx(Dr,{path:"/history",element:u.jsx(Qn,{children:u.jsx(lR,{})})}),u.jsx(Dr,{path:"/products",element:u.jsx(Qn,{children:u.jsx(FR,{})})}),u.jsx(Dr,{path:"/prices",element:u.jsx(Qn,{children:u.jsx(VA,{})})}),u.jsx(Dr,{path:"/list-detail/:id",element:u.jsx(Qn,{children:u.jsx(gA,{})})}),u.jsx(Dr,{path:"/edit-list/:id",element:u.jsx(Qn,{children:u.jsx(vA,{})})}),u.jsx(Dr,{path:"/create-list",element:u.jsx(Qn,{children:u.jsx(yA,{})})})]}),u.jsx(BA,{})]})}y_.createRoot(document.getElementById("root")).render(u.jsx(Ye.StrictMode,{children:u.jsx(vC,{children:u.jsx(WA,{})})}));export{wc as g};
